2024-11-13 01:12:14 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h36m50s704ms).
2024-11-13 02:49:10 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h36m55s497ms).
2024-11-13 03:10:27 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=20m47s244ms).
2024-11-13 04:05:28 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=55m1s268ms).
2024-11-13 05:11:25 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h5m27s36ms).
2024-11-13 06:12:09 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h43s813ms).
2024-11-13 06:57:37 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=44m57s874ms).
2024-11-13 07:13:27 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m49s873ms).
2024-11-13 07:31:37 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m40s62ms).
2024-11-13 07:47:56 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m19s244ms).
2024-11-13 08:05:09 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m43s347ms).
2024-11-13 08:21:47 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m7s939ms).
2024-11-13 08:27:02 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m45s136ms).
2024-11-13 08:31:47 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m44s229ms).
2024-11-13 08:37:01 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m44s258ms).
2024-11-13 08:52:50 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m49s157ms).
2024-11-13 08:58:45 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=5m25s230ms).
2024-11-13 09:15:44 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m29s39ms).
2024-11-13 09:33:47 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=17m32s462ms).
2024-11-13 09:50:58 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m11s548ms).
2024-11-13 10:08:50 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=17m21s95ms).
2024-11-13 10:24:32 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m42s149ms).
2024-11-13 10:42:35 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=14m32s811ms).
2024-11-13 10:44:02 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals?
2024-11-13 10:44:02 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 10:44:02 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 10:44:02 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 12CA3DFDDF73E836F855E1D0503D2673
2024-11-13 10:44:02 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 10:44:02 [http-nio-8080-exec-2] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 10:44:02 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 10:44:02 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 10:44:02 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 10:44:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 10:44:04 [http-nio-8080-exec-7] INFO  c.e.f.s.CustomUserDetailsService - User found: work@gmail.com
2024-11-13 10:44:04 [http-nio-8080-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 10:44:04 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from CD4236E1728E7ED3FF998CC890F4EC42
2024-11-13 10:44:04 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5f8b776d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD4236E1728E7ED3FF998CC890F4EC42], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@2a06e465]
2024-11-13 10:44:04 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5f8b776d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD4236E1728E7ED3FF998CC890F4EC42], Granted Authorities=[ROLE_USER]]
2024-11-13 10:44:04 [http-nio-8080-exec-7] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 10:44:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 10:44:04 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5f8b776d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD4236E1728E7ED3FF998CC890F4EC42], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:44:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 10:44:04 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 10:44:04 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 10:44:04 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:44:04 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5f8b776d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD4236E1728E7ED3FF998CC890F4EC42], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:44:04 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:44:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:44:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:44:04 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5f8b776d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD4236E1728E7ED3FF998CC890F4EC42], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:44:04 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5f8b776d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD4236E1728E7ED3FF998CC890F4EC42], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:44:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:44:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:44:06 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 10:44:06 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5f8b776d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD4236E1728E7ED3FF998CC890F4EC42], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:44:06 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 10:44:06 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:44:06 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5f8b776d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD4236E1728E7ED3FF998CC890F4EC42], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:44:06 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:44:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:44:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:44:06 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5f8b776d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD4236E1728E7ED3FF998CC890F4EC42], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:44:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:44:06 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5f8b776d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD4236E1728E7ED3FF998CC890F4EC42], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:44:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:48:44 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 10:48:44 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 10:48:44 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 10:48:46 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 45623 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 10:48:46 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 10:48:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 10:48:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2024-11-13 10:48:47 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 10:48:47 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 10:48:47 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 10:48:47 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 10:48:47 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 682 ms
2024-11-13 10:48:47 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 10:48:47 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 10:48:47 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 10:48:47 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 10:48:47 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 10:48:47 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@75527e36
2024-11-13 10:48:47 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 10:48:47 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 10:48:48 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 10:48:48 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7533923b] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 10:48:48 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 10:48:48 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 10:48:48 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 10:48:48 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 10:48:48 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 10:48:48 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 10:48:48 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 10:48:49 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6603f03d, org.springframework.security.web.session.ForceEagerSessionCreationFilter@8075b90, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76b9605, org.springframework.security.web.context.SecurityContextHolderFilter@2faec75a, org.springframework.security.web.header.HeaderWriterFilter@2878abcd, org.springframework.web.filter.CorsFilter@2933edb6, org.springframework.security.web.authentication.logout.LogoutFilter@1e73e9e2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5f2eeb2e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1dcaa052, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2f11f73e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@504862b5, org.springframework.security.web.session.SessionManagementFilter@3dc67c9e, org.springframework.security.web.access.ExceptionTranslationFilter@2de5bb6e, org.springframework.security.web.access.intercept.AuthorizationFilter@619ef9cb]
2024-11-13 10:48:49 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 10:48:49 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 3.032 seconds (process running for 3.373)
2024-11-13 10:48:50 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 10:48:50 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 10:48:50 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-11-13 10:48:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 10:48:50 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 10:48:50 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 10:48:50 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 09B1415A49CF27B9E7701EA205BB7D83
2024-11-13 10:48:50 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 10:48:50 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 10:48:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 10:48:50 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 10:48:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 10:48:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 10:48:51 [http-nio-8080-exec-5] INFO  c.e.f.s.CustomUserDetailsService - User found: work@gmail.com
2024-11-13 10:48:51 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 10:48:51 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 459143DEDDB20DFC6DB4C9EC859C9E50
2024-11-13 10:48:51 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5549fb3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=459143DEDDB20DFC6DB4C9EC859C9E50], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@26987d9]
2024-11-13 10:48:51 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5549fb3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=459143DEDDB20DFC6DB4C9EC859C9E50], Granted Authorities=[ROLE_USER]]
2024-11-13 10:48:51 [http-nio-8080-exec-5] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 10:48:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 10:48:51 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5549fb3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=459143DEDDB20DFC6DB4C9EC859C9E50], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:48:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 10:48:51 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 10:48:51 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 10:48:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:48:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:48:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:48:51 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5549fb3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=459143DEDDB20DFC6DB4C9EC859C9E50], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:48:51 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5549fb3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=459143DEDDB20DFC6DB4C9EC859C9E50], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:48:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:48:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:48:51 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5549fb3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=459143DEDDB20DFC6DB4C9EC859C9E50], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:48:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:48:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 10:48:52 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5549fb3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=459143DEDDB20DFC6DB4C9EC859C9E50], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:48:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 10:48:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:48:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:48:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:48:52 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5549fb3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=459143DEDDB20DFC6DB4C9EC859C9E50], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:48:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5549fb3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=459143DEDDB20DFC6DB4C9EC859C9E50], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:48:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:48:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:48:52 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5549fb3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=459143DEDDB20DFC6DB4C9EC859C9E50], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:48:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:49:34 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 10:49:34 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 10:49:34 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 10:49:36 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 45703 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 10:49:36 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 10:49:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 10:49:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2024-11-13 10:49:37 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 10:49:37 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 10:49:37 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 10:49:37 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 10:49:37 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 628 ms
2024-11-13 10:49:37 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 10:49:37 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 10:49:37 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 10:49:37 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 10:49:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 10:49:37 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@76596288
2024-11-13 10:49:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 10:49:37 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 10:49:38 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 10:49:38 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7533923b] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 10:49:38 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 10:49:38 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 10:49:38 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 10:49:38 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 10:49:38 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 10:49:38 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 10:49:38 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 10:49:39 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@76b9605, org.springframework.security.web.session.ForceEagerSessionCreationFilter@2933edb6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@504862b5, org.springframework.security.web.context.SecurityContextHolderFilter@1dcaa052, org.springframework.security.web.header.HeaderWriterFilter@3dc67c9e, org.springframework.web.filter.CorsFilter@622168f7, org.springframework.security.web.authentication.logout.LogoutFilter@65028252, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@581aef2a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@76dc6191, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@67c602e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@39211108, org.springframework.security.web.session.SessionManagementFilter@58f7544c, org.springframework.security.web.access.ExceptionTranslationFilter@2878abcd, org.springframework.security.web.access.intercept.AuthorizationFilter@54875db0]
2024-11-13 10:49:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 10:49:39 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.867 seconds (process running for 3.148)
2024-11-13 10:49:41 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 10:49:41 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 10:49:41 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 10:49:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 10:49:41 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 10:49:41 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 10:49:41 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id EDBD9E9A96CAE18E5D84C1A90055C99A
2024-11-13 10:49:41 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 10:49:41 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 10:49:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 10:49:41 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 10:49:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 10:49:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 10:49:42 [http-nio-8080-exec-5] INFO  c.e.f.s.CustomUserDetailsService - User found: work@gmail.com
2024-11-13 10:49:42 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 10:49:42 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from A9F7DB1D546733D233EED4BA8B544C84
2024-11-13 10:49:42 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@561b7ac1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A9F7DB1D546733D233EED4BA8B544C84], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@6739eb12]
2024-11-13 10:49:42 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@561b7ac1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A9F7DB1D546733D233EED4BA8B544C84], Granted Authorities=[ROLE_USER]]
2024-11-13 10:49:42 [http-nio-8080-exec-5] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 10:49:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 10:49:42 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@561b7ac1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A9F7DB1D546733D233EED4BA8B544C84], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:49:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 10:49:42 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 10:49:42 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 10:49:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:49:42 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:49:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:49:42 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@561b7ac1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A9F7DB1D546733D233EED4BA8B544C84], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:49:42 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@561b7ac1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A9F7DB1D546733D233EED4BA8B544C84], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:49:42 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:49:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:49:42 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@561b7ac1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A9F7DB1D546733D233EED4BA8B544C84], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:49:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:49:43 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 10:49:43 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@561b7ac1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A9F7DB1D546733D233EED4BA8B544C84], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:49:43 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 10:49:43 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:49:43 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@561b7ac1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A9F7DB1D546733D233EED4BA8B544C84], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:49:43 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:49:43 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:49:43 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:49:43 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@561b7ac1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A9F7DB1D546733D233EED4BA8B544C84], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:49:43 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:49:43 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@561b7ac1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A9F7DB1D546733D233EED4BA8B544C84], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:49:43 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:49:46 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /logout
2024-11-13 10:49:46 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@561b7ac1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A9F7DB1D546733D233EED4BA8B544C84], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:49:46 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.logout.LogoutFilter - Logging out [UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@561b7ac1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A9F7DB1D546733D233EED4BA8B544C84], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:49:46 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.l.SecurityContextLogoutHandler - Invalidated session 3A7C37E76BC79088BC949143C56F6FEC
2024-11-13 10:49:46 [http-nio-8080-exec-4] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /login?logout
2024-11-13 10:49:46 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login?logout
2024-11-13 10:49:46 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 10:49:46 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 10:49:46 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 3A7C37E76BC79088BC949143C56F6FEC
2024-11-13 10:49:46 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login?logout
2024-11-13 10:49:49 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 10:49:49 [http-nio-8080-exec-7] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 10:49:49 [http-nio-8080-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 10:49:49 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 24013359410243B748AE7A64B4811397
2024-11-13 10:49:49 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@18f4c00e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=24013359410243B748AE7A64B4811397], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@21cf0b77]
2024-11-13 10:49:49 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@18f4c00e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=24013359410243B748AE7A64B4811397], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 10:49:49 [http-nio-8080-exec-7] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 10:49:49 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 10:49:49 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@18f4c00e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=24013359410243B748AE7A64B4811397], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:49:49 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 10:49:49 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 10:49:49 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 10:49:49 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 10:49:49 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 10:49:49 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 10:49:49 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 10:49:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:49:49 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@18f4c00e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=24013359410243B748AE7A64B4811397], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:49:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:49:49 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:49:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 10:49:49 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@18f4c00e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=24013359410243B748AE7A64B4811397], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:49:49 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@18f4c00e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=24013359410243B748AE7A64B4811397], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:49:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 10:49:49 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:49:49 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:49:49 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 10:49:49 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@18f4c00e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=24013359410243B748AE7A64B4811397], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:49:49 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@18f4c00e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=24013359410243B748AE7A64B4811397], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:49:49 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 10:49:49 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:49:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 10:49:50 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@18f4c00e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=24013359410243B748AE7A64B4811397], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:49:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 10:49:50 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:49:50 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@18f4c00e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=24013359410243B748AE7A64B4811397], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:49:50 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:49:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:49:50 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 10:49:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:49:50 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@18f4c00e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=24013359410243B748AE7A64B4811397], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:49:50 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@18f4c00e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=24013359410243B748AE7A64B4811397], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:49:50 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 10:49:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 10:49:50 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@18f4c00e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=24013359410243B748AE7A64B4811397], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:49:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:49:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:49:50 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@18f4c00e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=24013359410243B748AE7A64B4811397], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:49:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 10:50:12 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 10:50:12 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 10:50:12 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 10:50:14 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 45768 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 10:50:14 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 10:50:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 10:50:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-11-13 10:50:14 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 10:50:14 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 10:50:14 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 10:50:14 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 10:50:14 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 639 ms
2024-11-13 10:50:14 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 10:50:14 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 10:50:14 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 10:50:14 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 10:50:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 10:50:15 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1426370c
2024-11-13 10:50:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 10:50:15 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 10:50:15 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 10:50:15 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@72c5064f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 10:50:15 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 10:50:15 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 10:50:16 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 10:50:16 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 10:50:16 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 10:50:16 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 10:50:16 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 10:50:16 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@581aef2a, org.springframework.security.web.session.ForceEagerSessionCreationFilter@4e5c0543, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6603f03d, org.springframework.security.web.context.SecurityContextHolderFilter@58f7544c, org.springframework.security.web.header.HeaderWriterFilter@2de5bb6e, org.springframework.web.filter.CorsFilter@8075b90, org.springframework.security.web.authentication.logout.LogoutFilter@50859a18, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@699cb1a3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2faec75a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ffdded5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@76b9605, org.springframework.security.web.session.SessionManagementFilter@2878abcd, org.springframework.security.web.access.ExceptionTranslationFilter@38e6dab2, org.springframework.security.web.access.intercept.AuthorizationFilter@42593f64]
2024-11-13 10:50:16 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 10:50:16 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.924 seconds (process running for 3.212)
2024-11-13 10:50:17 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 10:50:17 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 10:50:17 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 10:50:17 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 10:50:17 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 10:50:17 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 10:50:17 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 59AE22DA2F2E796D52302809AAB8A2DB
2024-11-13 10:50:17 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 10:50:17 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 10:50:17 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 10:50:17 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 10:50:17 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 10:50:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 10:50:19 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 10:50:19 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 10:50:19 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from C1C0AFDD21FD05BC8428C8E7DDD1B6EB
2024-11-13 10:50:19 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@223d897]
2024-11-13 10:50:19 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 10:50:19 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 10:50:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 10:50:19 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:50:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 10:50:19 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 10:50:19 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 10:50:19 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 10:50:19 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 10:50:19 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 10:50:19 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 10:50:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:50:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:50:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 10:50:19 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:50:19 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:50:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:50:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:50:19 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:50:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:50:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 10:50:19 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:50:19 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 10:50:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:50:19 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:50:19 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 10:50:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 10:50:20 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:50:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 10:50:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:50:20 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:50:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:50:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 10:50:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:50:20 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:50:20 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:50:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 10:50:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:50:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:50:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 10:50:20 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:50:20 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:50:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 10:50:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:50:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deal-info/2
2024-11-13 10:50:54 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:50:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deal-info/2
2024-11-13 10:50:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statuses/2
2024-11-13 10:50:55 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:50:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statuses/2
2024-11-13 10:51:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /saveStatus/2
2024-11-13 10:51:01 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:51:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /saveStatus/2
2024-11-13 10:51:01 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statuses/2
2024-11-13 10:51:01 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:51:01 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statuses/2
2024-11-13 10:51:02 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals?
2024-11-13 10:51:02 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:51:02 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals?
2024-11-13 10:51:02 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:51:02 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:51:02 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:51:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:51:02 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:51:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:51:02 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 10:51:02 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:51:02 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 10:51:02 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:51:02 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 10:51:02 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:51:02 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:51:02 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:51:02 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 10:51:49 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deal-info/2
2024-11-13 10:51:49 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:51:49 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deal-info/2
2024-11-13 10:51:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deal-info/1
2024-11-13 10:51:52 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:51:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deal-info/1
2024-11-13 10:51:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statuses/1
2024-11-13 10:51:54 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:51:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statuses/1
2024-11-13 10:51:58 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /saveStatus/1
2024-11-13 10:51:58 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:51:58 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /saveStatus/1
2024-11-13 10:51:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statuses/1
2024-11-13 10:51:58 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:51:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statuses/1
2024-11-13 10:51:59 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals?
2024-11-13 10:51:59 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:51:59 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals?
2024-11-13 10:51:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:51:59 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:51:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:51:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:51:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 10:51:59 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:51:59 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:51:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:51:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 10:51:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 10:51:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:51:59 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:51:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:51:59 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@450aa05a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C1C0AFDD21FD05BC8428C8E7DDD1B6EB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:51:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 10:52:09 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 10:52:09 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 10:52:09 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 10:52:12 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 45951 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 10:52:12 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 10:52:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 10:52:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2024-11-13 10:52:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 10:52:12 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 10:52:12 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 10:52:12 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 10:52:12 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 622 ms
2024-11-13 10:52:12 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 10:52:12 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 10:52:12 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 10:52:12 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 10:52:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 10:52:13 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@21c75084
2024-11-13 10:52:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 10:52:13 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 10:52:13 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 10:52:13 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5d9d8ecf] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 10:52:13 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 10:52:13 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 10:52:14 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 10:52:14 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 10:52:14 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 10:52:14 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 10:52:14 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 10:52:14 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3b00276, org.springframework.security.web.session.ForceEagerSessionCreationFilter@238d045a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1706a95b, org.springframework.security.web.context.SecurityContextHolderFilter@283693af, org.springframework.security.web.header.HeaderWriterFilter@67c602e9, org.springframework.web.filter.CorsFilter@55d41b85, org.springframework.security.web.authentication.logout.LogoutFilter@699cb1a3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@f4915c7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b145278, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d51de61, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@567400fb, org.springframework.security.web.session.SessionManagementFilter@f4e4cb2, org.springframework.security.web.access.ExceptionTranslationFilter@2f11f73e, org.springframework.security.web.access.intercept.AuthorizationFilter@39211108]
2024-11-13 10:52:14 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 10:52:14 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.87 seconds (process running for 3.15)
2024-11-13 10:52:15 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 10:52:15 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 10:52:15 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-11-13 10:52:15 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals?
2024-11-13 10:52:15 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 10:52:15 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 10:52:15 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 4DF3B87941F97499454C79E05FA811B3
2024-11-13 10:52:15 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 10:52:15 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 10:52:15 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 10:52:15 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 10:52:15 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 10:52:17 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 10:52:17 [http-nio-8080-exec-5] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 10:52:17 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 10:52:17 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from D12B177F02976F9B990112A3BCA1E637
2024-11-13 10:52:17 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@59ba5df3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D12B177F02976F9B990112A3BCA1E637], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@5aa5a2a5]
2024-11-13 10:52:17 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@59ba5df3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D12B177F02976F9B990112A3BCA1E637], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 10:52:17 [http-nio-8080-exec-5] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 10:52:17 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 10:52:17 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@59ba5df3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D12B177F02976F9B990112A3BCA1E637], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:52:17 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 10:52:17 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 10:52:17 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 10:52:17 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 10:52:17 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 10:52:17 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 10:52:17 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 10:52:17 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:52:17 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@59ba5df3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D12B177F02976F9B990112A3BCA1E637], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:52:17 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:52:17 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:52:17 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:52:17 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 10:52:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 10:52:17 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@59ba5df3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D12B177F02976F9B990112A3BCA1E637], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:52:17 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@59ba5df3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D12B177F02976F9B990112A3BCA1E637], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:52:17 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 10:52:17 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@59ba5df3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D12B177F02976F9B990112A3BCA1E637], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:52:17 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@59ba5df3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D12B177F02976F9B990112A3BCA1E637], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:52:17 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:52:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 10:52:17 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:52:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 10:52:19 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@59ba5df3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D12B177F02976F9B990112A3BCA1E637], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:52:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 10:52:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:52:19 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@59ba5df3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D12B177F02976F9B990112A3BCA1E637], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:52:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:52:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:52:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 10:52:19 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@59ba5df3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D12B177F02976F9B990112A3BCA1E637], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:52:19 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@59ba5df3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D12B177F02976F9B990112A3BCA1E637], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:52:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:52:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 10:52:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:52:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 10:52:19 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@59ba5df3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D12B177F02976F9B990112A3BCA1E637], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:52:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:52:19 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@59ba5df3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D12B177F02976F9B990112A3BCA1E637], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:52:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 10:52:40 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 10:52:40 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 10:52:40 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 10:52:42 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 45999 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 10:52:42 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 10:52:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 10:52:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-11-13 10:52:42 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 10:52:42 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 10:52:42 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 10:52:42 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 10:52:42 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 632 ms
2024-11-13 10:52:43 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 10:52:43 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 10:52:43 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 10:52:43 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 10:52:43 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 10:52:43 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@376af784
2024-11-13 10:52:43 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 10:52:43 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 10:52:43 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 10:52:43 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@446981a4] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 10:52:43 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 10:52:44 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 10:52:44 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 10:52:44 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 10:52:44 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 10:52:44 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 10:52:44 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 10:52:44 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@758836f6, org.springframework.security.web.session.ForceEagerSessionCreationFilter@4410d01e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b00276, org.springframework.security.web.context.SecurityContextHolderFilter@4d8decd1, org.springframework.security.web.header.HeaderWriterFilter@2f11f73e, org.springframework.web.filter.CorsFilter@238d045a, org.springframework.security.web.authentication.logout.LogoutFilter@7b88b0d6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@622168f7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@283693af, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@695dc0e6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1706a95b, org.springframework.security.web.session.SessionManagementFilter@67c602e9, org.springframework.security.web.access.ExceptionTranslationFilter@7ffdded5, org.springframework.security.web.access.intercept.AuthorizationFilter@504862b5]
2024-11-13 10:52:44 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 10:52:44 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.843 seconds (process running for 3.122)
2024-11-13 10:52:45 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 10:52:45 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 10:52:45 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 10:52:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 10:52:45 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 10:52:45 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 10:52:45 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 3BD34238D2D2DF2AB0ECD96A91062845
2024-11-13 10:52:45 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 10:52:45 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 10:52:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 10:52:45 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 10:52:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 10:52:46 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 10:52:46 [http-nio-8080-exec-5] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 10:52:46 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 10:52:46 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 9C5A0B68C714A88A6860C4BEFEF53BE3
2024-11-13 10:52:46 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1feef7e5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=9C5A0B68C714A88A6860C4BEFEF53BE3], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@3f10d8c5]
2024-11-13 10:52:46 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1feef7e5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=9C5A0B68C714A88A6860C4BEFEF53BE3], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 10:52:46 [http-nio-8080-exec-5] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 10:52:46 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 10:52:46 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1feef7e5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=9C5A0B68C714A88A6860C4BEFEF53BE3], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:52:46 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 10:52:46 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 10:52:46 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 10:52:47 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 10:52:47 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 10:52:47 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 10:52:47 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 10:52:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:52:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:52:47 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:52:47 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1feef7e5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=9C5A0B68C714A88A6860C4BEFEF53BE3], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:52:47 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 10:52:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:52:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 10:52:47 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1feef7e5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=9C5A0B68C714A88A6860C4BEFEF53BE3], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:52:47 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1feef7e5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=9C5A0B68C714A88A6860C4BEFEF53BE3], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:52:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:52:47 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:52:47 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1feef7e5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=9C5A0B68C714A88A6860C4BEFEF53BE3], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:52:47 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1feef7e5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=9C5A0B68C714A88A6860C4BEFEF53BE3], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:52:47 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 10:52:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 10:52:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /logout
2024-11-13 10:52:48 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1feef7e5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=9C5A0B68C714A88A6860C4BEFEF53BE3], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:52:48 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.logout.LogoutFilter - Logging out [UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1feef7e5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=9C5A0B68C714A88A6860C4BEFEF53BE3], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:52:48 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.l.SecurityContextLogoutHandler - Invalidated session 2DFEA297907BD3E06AA53D9A94EA1640
2024-11-13 10:52:48 [http-nio-8080-exec-2] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /login?logout
2024-11-13 10:52:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login?logout
2024-11-13 10:52:48 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 10:52:48 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 10:52:48 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 2DFEA297907BD3E06AA53D9A94EA1640
2024-11-13 10:52:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login?logout
2024-11-13 10:52:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 10:52:50 [http-nio-8080-exec-4] INFO  c.e.f.s.CustomUserDetailsService - User found: work@gmail.com
2024-11-13 10:52:50 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 10:52:51 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from FE954C5810D8EAC732D4DA6CBEC6154B
2024-11-13 10:52:51 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@2a06a0a5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FE954C5810D8EAC732D4DA6CBEC6154B], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@143283e8]
2024-11-13 10:52:51 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@2a06a0a5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FE954C5810D8EAC732D4DA6CBEC6154B], Granted Authorities=[ROLE_USER]]
2024-11-13 10:52:51 [http-nio-8080-exec-4] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 10:52:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 10:52:51 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@2a06a0a5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FE954C5810D8EAC732D4DA6CBEC6154B], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:52:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 10:52:51 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 10:52:51 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 10:52:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:52:51 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@2a06a0a5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FE954C5810D8EAC732D4DA6CBEC6154B], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:52:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:52:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:52:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:52:51 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@2a06a0a5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FE954C5810D8EAC732D4DA6CBEC6154B], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:52:51 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@2a06a0a5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FE954C5810D8EAC732D4DA6CBEC6154B], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:52:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:52:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:52:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 10:52:52 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@2a06a0a5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FE954C5810D8EAC732D4DA6CBEC6154B], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:52:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 10:52:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:52:52 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@2a06a0a5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FE954C5810D8EAC732D4DA6CBEC6154B], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:52:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:52:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:52:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:52:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@2a06a0a5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FE954C5810D8EAC732D4DA6CBEC6154B], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:52:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:52:52 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@2a06a0a5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FE954C5810D8EAC732D4DA6CBEC6154B], Granted Authorities=[ROLE_USER]]]
2024-11-13 10:52:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:54:46 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 10:54:46 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 10:54:46 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 10:54:47 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 46173 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 10:54:47 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 10:54:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 10:54:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 6 JPA repository interfaces.
2024-11-13 10:54:48 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 10:54:48 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 10:54:48 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 10:54:48 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 10:54:48 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 691 ms
2024-11-13 10:54:48 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 10:54:48 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 10:54:48 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 10:54:48 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 10:54:48 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 10:54:48 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@37a67cf
2024-11-13 10:54:48 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 10:54:48 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 10:54:49 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 10:54:49 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@68f1b89] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 10:54:49 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 10:54:49 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 10:54:49 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 10:54:49 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 10:54:49 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 10:54:49 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 10:54:49 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 10:54:50 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2933edb6, org.springframework.security.web.session.ForceEagerSessionCreationFilter@504862b5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@622168f7, org.springframework.security.web.context.SecurityContextHolderFilter@2f11f73e, org.springframework.security.web.header.HeaderWriterFilter@353cb7e5, org.springframework.web.filter.CorsFilter@39211108, org.springframework.security.web.authentication.logout.LogoutFilter@61ae8f75, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4e5c0543, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@67c602e9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2fc6e673, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f4915c7, org.springframework.security.web.session.SessionManagementFilter@21826d78, org.springframework.security.web.access.ExceptionTranslationFilter@3df88e84, org.springframework.security.web.access.intercept.AuthorizationFilter@581aef2a]
2024-11-13 10:54:50 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 10:54:50 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 3.041 seconds (process running for 3.327)
2024-11-13 10:54:52 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 10:54:52 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 10:54:52 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 10:54:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 10:54:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 10:54:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 10:54:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 70BFA61FE50C6539D55F8905844E2E72
2024-11-13 10:54:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 10:54:52 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 10:54:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 10:54:52 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 10:54:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 10:54:55 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 10:54:55 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 10:54:56 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 10:54:56 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from B5E3080E89BB38CB339003F29468618B
2024-11-13 10:54:56 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1bace7e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B5E3080E89BB38CB339003F29468618B], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@288c94fe]
2024-11-13 10:54:56 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1bace7e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B5E3080E89BB38CB339003F29468618B], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 10:54:56 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 10:54:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 10:54:56 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1bace7e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B5E3080E89BB38CB339003F29468618B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:54:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 10:54:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 10:54:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 10:54:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 10:54:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 10:54:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 10:54:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 10:54:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:54:56 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:54:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 10:54:56 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1bace7e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B5E3080E89BB38CB339003F29468618B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:54:56 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1bace7e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B5E3080E89BB38CB339003F29468618B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:54:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:54:56 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:54:56 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1bace7e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B5E3080E89BB38CB339003F29468618B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:54:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 10:54:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 10:54:56 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:54:56 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1bace7e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B5E3080E89BB38CB339003F29468618B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:54:56 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1bace7e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B5E3080E89BB38CB339003F29468618B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:54:56 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:54:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 10:54:56 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 10:54:56 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1bace7e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B5E3080E89BB38CB339003F29468618B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:54:56 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 10:54:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:54:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 10:54:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:54:57 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 10:54:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:54:57 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1bace7e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B5E3080E89BB38CB339003F29468618B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:54:57 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1bace7e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B5E3080E89BB38CB339003F29468618B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:54:57 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1bace7e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B5E3080E89BB38CB339003F29468618B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:54:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:54:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 10:54:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:54:57 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1bace7e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B5E3080E89BB38CB339003F29468618B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:54:57 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1bace7e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B5E3080E89BB38CB339003F29468618B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:54:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:54:57 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 10:55:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals?statusFilter=%D0%9E%D1%82%D0%BA%D0%B0%D0%B7
2024-11-13 10:55:05 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1bace7e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B5E3080E89BB38CB339003F29468618B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals?statusFilter=%D0%9E%D1%82%D0%BA%D0%B0%D0%B7
2024-11-13 10:55:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:55:05 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:55:05 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1bace7e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B5E3080E89BB38CB339003F29468618B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 10:55:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:55:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:55:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 10:55:05 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1bace7e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B5E3080E89BB38CB339003F29468618B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:05 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1bace7e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B5E3080E89BB38CB339003F29468618B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:05 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1bace7e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B5E3080E89BB38CB339003F29468618B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 10:55:05 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1bace7e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B5E3080E89BB38CB339003F29468618B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:55:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 10:55:05 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:55:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals?statusFilter=%D0%9D%D0%BE%D0%B2%D0%B0%D1%8F+%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B0%2C%D0%92+%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B5%2C%D0%9E%D0%BF%D0%BB%D0%B0%D1%87%D0%B5%D0%BD
2024-11-13 10:55:08 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1bace7e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B5E3080E89BB38CB339003F29468618B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals?statusFilter=%D0%9D%D0%BE%D0%B2%D0%B0%D1%8F+%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B0%2C%D0%92+%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B5%2C%D0%9E%D0%BF%D0%BB%D0%B0%D1%87%D0%B5%D0%BD
2024-11-13 10:55:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:55:08 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1bace7e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B5E3080E89BB38CB339003F29468618B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:55:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:55:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:55:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 10:55:08 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1bace7e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B5E3080E89BB38CB339003F29468618B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:55:08 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1bace7e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B5E3080E89BB38CB339003F29468618B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 10:55:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 10:55:08 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1bace7e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B5E3080E89BB38CB339003F29468618B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:08 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1bace7e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B5E3080E89BB38CB339003F29468618B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 10:55:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:55:31 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 10:55:31 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 10:55:31 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 10:55:32 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 46255 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 10:55:32 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 10:55:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 10:55:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 6 JPA repository interfaces.
2024-11-13 10:55:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 10:55:33 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 10:55:33 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 10:55:33 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 10:55:33 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 780 ms
2024-11-13 10:55:33 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 10:55:33 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 10:55:33 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 10:55:33 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 10:55:33 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 10:55:33 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@376af784
2024-11-13 10:55:33 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 10:55:33 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 10:55:34 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 10:55:34 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@758311ed] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 10:55:34 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 10:55:34 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 10:55:35 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 10:55:35 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 10:55:35 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 10:55:35 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 10:55:35 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 10:55:35 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@21faf535, org.springframework.security.web.session.ForceEagerSessionCreationFilter@5de993d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@49e335a5, org.springframework.security.web.context.SecurityContextHolderFilter@61ae8f75, org.springframework.security.web.header.HeaderWriterFilter@16023bb2, org.springframework.web.filter.CorsFilter@727b65df, org.springframework.security.web.authentication.logout.LogoutFilter@758836f6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3e06808f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@250cb65a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@54eda0bb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45e65f8, org.springframework.security.web.session.SessionManagementFilter@ee1493e, org.springframework.security.web.access.ExceptionTranslationFilter@7c644bd5, org.springframework.security.web.access.intercept.AuthorizationFilter@6f4fa62f]
2024-11-13 10:55:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 10:55:35 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 3.077 seconds (process running for 3.36)
2024-11-13 10:55:38 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 10:55:38 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 10:55:38 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 10:55:38 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals?statusFilter=%D0%9D%D0%BE%D0%B2%D0%B0%D1%8F+%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B0%2C%D0%92+%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B5%2C%D0%9E%D0%BF%D0%BB%D0%B0%D1%87%D0%B5%D0%BD
2024-11-13 10:55:38 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 10:55:38 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 10:55:38 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id CAC806BFA3E740965D5644F25A6BDF7F
2024-11-13 10:55:38 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?statusFilter=%D0%9D%D0%BE%D0%B2%D0%B0%D1%8F+%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B0%2C%D0%92+%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B5%2C%D0%9E%D0%BF%D0%BB%D0%B0%D1%87%D0%B5%D0%BD&continue to session
2024-11-13 10:55:38 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 10:55:38 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 10:55:38 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 10:55:38 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 10:55:39 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 10:55:39 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 10:55:40 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 10:55:40 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from BE4E4086A4F9BBBF9D9AD74F2BC74959
2024-11-13 10:55:40 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@2e8ad5d2]
2024-11-13 10:55:40 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 10:55:40 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 10:55:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 10:55:40 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 10:55:40 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 10:55:40 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 10:55:40 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 10:55:40 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 10:55:40 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 10:55:40 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 10:55:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:55:40 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:55:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:55:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 10:55:40 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 10:55:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:55:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:55:40 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:40 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 10:55:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 10:55:40 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:55:47 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 10:55:47 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:47 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 10:55:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:55:47 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:55:47 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:55:47 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:47 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:55:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 10:55:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 10:55:47 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:47 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 10:55:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 10:55:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:55:47 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:55:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals?statusFilter=%D0%9E%D0%BF%D0%BB%D0%B0%D1%87%D0%B5%D0%BD
2024-11-13 10:55:51 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals?statusFilter=%D0%9E%D0%BF%D0%BB%D0%B0%D1%87%D0%B5%D0%BD
2024-11-13 10:55:51 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:55:51 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:51 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:55:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 10:55:51 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:55:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 10:55:51 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 10:55:51 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:51 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:55:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:55:51 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:51 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:55:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 10:55:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals?statusFilter=%D0%9D%D0%BE%D0%B2%D0%B0%D1%8F+%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B0
2024-11-13 10:55:52 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals?statusFilter=%D0%9D%D0%BE%D0%B2%D0%B0%D1%8F+%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B0
2024-11-13 10:55:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:55:52 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:55:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:55:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 10:55:52 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 10:55:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 10:55:52 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:55:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:55:52 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:52 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 10:55:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:55:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals?statusFilter=%D0%9E%D1%82%D0%BA%D0%B0%D0%B7
2024-11-13 10:55:54 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals?statusFilter=%D0%9E%D1%82%D0%BA%D0%B0%D0%B7
2024-11-13 10:55:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:55:54 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:55:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 10:55:54 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 10:55:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:55:54 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:55:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:55:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 10:55:54 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:54 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:55:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 10:55:56 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals?statusFilter=%D0%92+%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B5
2024-11-13 10:55:56 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:56 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals?statusFilter=%D0%92+%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B5
2024-11-13 10:55:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:55:56 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:55:56 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 10:55:56 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:55:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 10:55:56 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:55:56 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:56 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:56 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 10:55:56 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:55:56 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:56 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 10:55:56 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:55:59 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals?statusFilter=%D0%9D%D0%BE%D0%B2%D0%B0%D1%8F+%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B0%2C%D0%92+%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B5%2C%D0%9E%D0%BF%D0%BB%D0%B0%D1%87%D0%B5%D0%BD
2024-11-13 10:55:59 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:59 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals?statusFilter=%D0%9D%D0%BE%D0%B2%D0%B0%D1%8F+%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B0%2C%D0%92+%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B5%2C%D0%9E%D0%BF%D0%BB%D0%B0%D1%87%D0%B5%D0%BD
2024-11-13 10:55:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 10:55:59 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 10:55:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 10:55:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 10:55:59 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 10:55:59 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:59 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:59 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:59 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 10:55:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 10:55:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 10:55:59 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 10:55:59 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51d157d0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE4E4086A4F9BBBF9D9AD74F2BC74959], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 10:55:59 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:04:07 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:04:07 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 11:04:07 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 11:04:09 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 46892 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 11:04:09 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:04:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:04:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 6 JPA repository interfaces.
2024-11-13 11:04:09 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 11:04:09 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:04:09 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 11:04:09 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:04:09 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 760 ms
2024-11-13 11:04:10 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:04:10 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 11:04:10 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 11:04:10 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:04:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 11:04:10 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2ef041bb
2024-11-13 11:04:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 11:04:10 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 11:04:10 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 11:04:10 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@72c5064f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 11:04:11 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:04:11 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:04:11 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 11:04:11 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:04:11 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 11:04:11 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:04:11 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:04:11 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6013565b, org.springframework.security.web.session.ForceEagerSessionCreationFilter@250cb65a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54eda0bb, org.springframework.security.web.context.SecurityContextHolderFilter@6f22784d, org.springframework.security.web.header.HeaderWriterFilter@5c0ae317, org.springframework.web.filter.CorsFilter@41ad5874, org.springframework.security.web.authentication.logout.LogoutFilter@55607e6d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1e73e9e2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2eb4a3ec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@38e6dab2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3bf66f94, org.springframework.security.web.session.SessionManagementFilter@47127c29, org.springframework.security.web.access.ExceptionTranslationFilter@28e7fbc4, org.springframework.security.web.access.intercept.AuthorizationFilter@ee1493e]
2024-11-13 11:04:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 11:04:12 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 3.259 seconds (process running for 3.578)
2024-11-13 11:04:12 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 11:04:12 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 11:04:12 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 11:04:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals?statusFilter=%D0%9D%D0%BE%D0%B2%D0%B0%D1%8F+%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B0%2C%D0%92+%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B5%2C%D0%9E%D0%BF%D0%BB%D0%B0%D1%87%D0%B5%D0%BD
2024-11-13 11:04:12 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 11:04:12 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:04:12 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 0FC999108C12D6B6A6F1A3BFFD9794C2
2024-11-13 11:04:12 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?statusFilter=%D0%9D%D0%BE%D0%B2%D0%B0%D1%8F+%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B0%2C%D0%92+%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B5%2C%D0%9E%D0%BF%D0%BB%D0%B0%D1%87%D0%B5%D0%BD&continue to session
2024-11-13 11:04:12 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 11:04:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 11:04:12 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:04:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 11:04:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 11:04:13 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 11:04:13 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 11:04:13 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 6F07A991F16903147A5FD22DCD47A33B
2024-11-13 11:04:13 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3dd97912, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6F07A991F16903147A5FD22DCD47A33B], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@17a54f11]
2024-11-13 11:04:13 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3dd97912, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6F07A991F16903147A5FD22DCD47A33B], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 11:04:13 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 11:04:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 11:04:13 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3dd97912, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6F07A991F16903147A5FD22DCD47A33B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:04:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 11:04:13 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:04:13 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:04:13 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:04:13 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:04:13 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:04:13 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 11:04:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:04:13 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:04:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:04:13 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3dd97912, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6F07A991F16903147A5FD22DCD47A33B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:04:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:04:13 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3dd97912, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6F07A991F16903147A5FD22DCD47A33B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:04:13 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3dd97912, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6F07A991F16903147A5FD22DCD47A33B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:04:13 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:04:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:04:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:04:13 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3dd97912, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6F07A991F16903147A5FD22DCD47A33B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:04:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:04:13 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:04:13 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3dd97912, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6F07A991F16903147A5FD22DCD47A33B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:04:13 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:04:14 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:04:14 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3dd97912, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6F07A991F16903147A5FD22DCD47A33B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:04:14 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 11:04:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:04:14 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:04:14 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:04:14 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3dd97912, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6F07A991F16903147A5FD22DCD47A33B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:04:14 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3dd97912, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6F07A991F16903147A5FD22DCD47A33B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:04:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:04:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:04:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:04:14 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:04:14 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3dd97912, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6F07A991F16903147A5FD22DCD47A33B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:04:14 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:04:14 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3dd97912, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6F07A991F16903147A5FD22DCD47A33B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:04:14 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3dd97912, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6F07A991F16903147A5FD22DCD47A33B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:04:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:04:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:05:32 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:05:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 11:05:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 11:05:33 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 47021 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 11:05:33 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:05:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:05:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2024-11-13 11:05:34 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 11:05:34 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:05:34 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 11:05:34 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:05:34 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 736 ms
2024-11-13 11:05:34 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:05:34 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 11:05:34 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 11:05:34 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:05:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 11:05:35 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2aa6bbad
2024-11-13 11:05:35 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 11:05:35 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 11:05:35 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 11:05:35 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5b74bb75] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 11:05:35 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:05:35 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:05:36 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 11:05:36 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:05:36 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 11:05:36 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:05:36 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:05:36 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@504862b5, org.springframework.security.web.session.ForceEagerSessionCreationFilter@622168f7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@39211108, org.springframework.security.web.context.SecurityContextHolderFilter@76dc6191, org.springframework.security.web.header.HeaderWriterFilter@58f7544c, org.springframework.web.filter.CorsFilter@f4915c7, org.springframework.security.web.authentication.logout.LogoutFilter@6013565b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6603f03d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2fc6e673, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@f4e4cb2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1c078351, org.springframework.security.web.session.SessionManagementFilter@2faec75a, org.springframework.security.web.access.ExceptionTranslationFilter@3dc67c9e, org.springframework.security.web.access.intercept.AuthorizationFilter@4e5c0543]
2024-11-13 11:05:36 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 11:05:36 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 3.106 seconds (process running for 3.415)
2024-11-13 11:05:37 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 11:05:37 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 11:05:37 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 11:05:37 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:05:37 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 11:05:37 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:05:37 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 4471D96A62B82C1FF543B1F337E778A1
2024-11-13 11:05:37 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 11:05:37 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 11:05:37 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 11:05:37 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:05:37 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 11:05:47 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 11:05:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 11:05:47 [http-nio-8080-exec-5] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 11:05:47 [http-nio-8080-exec-6] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 11:05:47 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 11:05:47 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 8457EE24C38760DE7CBD2C9EF1058D4B
2024-11-13 11:05:47 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@14e2bf9e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8457EE24C38760DE7CBD2C9EF1058D4B], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@390e3cda]
2024-11-13 11:05:47 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@14e2bf9e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8457EE24C38760DE7CBD2C9EF1058D4B], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 11:05:47 [http-nio-8080-exec-5] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 11:05:47 [http-nio-8080-exec-6] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 11:05:47 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@4278dc7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8457EE24C38760DE7CBD2C9EF1058D4B], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@390e3cda]
2024-11-13 11:05:47 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@4278dc7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8457EE24C38760DE7CBD2C9EF1058D4B], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 11:05:47 [http-nio-8080-exec-6] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 11:05:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 11:05:47 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 11:05:47 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:05:47 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 8457EE24C38760DE7CBD2C9EF1058D4B
2024-11-13 11:05:47 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/statistics?continue to session
2024-11-13 11:05:47 [http-nio-8080-exec-7] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 11:05:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 11:05:47 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:05:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 11:05:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 11:05:48 [http-nio-8080-exec-9] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 11:05:48 [http-nio-8080-exec-9] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 11:05:48 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 66A33D617D024F32CF9D99D261778634
2024-11-13 11:05:48 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@24336e7c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=66A33D617D024F32CF9D99D261778634], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@219b7834]
2024-11-13 11:05:48 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@24336e7c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=66A33D617D024F32CF9D99D261778634], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 11:05:48 [http-nio-8080-exec-9] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 11:05:48 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 11:05:48 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@24336e7c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=66A33D617D024F32CF9D99D261778634], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:05:48 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 11:05:48 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:05:48 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:05:48 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:05:48 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:05:48 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:05:48 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 11:05:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:05:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:05:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:05:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:05:48 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@24336e7c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=66A33D617D024F32CF9D99D261778634], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:05:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:05:48 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@24336e7c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=66A33D617D024F32CF9D99D261778634], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:05:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:05:48 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:05:48 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@24336e7c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=66A33D617D024F32CF9D99D261778634], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:05:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:05:48 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@24336e7c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=66A33D617D024F32CF9D99D261778634], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:05:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:05:48 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@24336e7c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=66A33D617D024F32CF9D99D261778634], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:05:48 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:05:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:05:51 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@24336e7c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=66A33D617D024F32CF9D99D261778634], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:05:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 11:05:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:05:52 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@24336e7c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=66A33D617D024F32CF9D99D261778634], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:05:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:05:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:05:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:05:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:05:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@24336e7c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=66A33D617D024F32CF9D99D261778634], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:05:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:05:52 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@24336e7c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=66A33D617D024F32CF9D99D261778634], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:05:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:05:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:05:52 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@24336e7c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=66A33D617D024F32CF9D99D261778634], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:05:52 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@24336e7c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=66A33D617D024F32CF9D99D261778634], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:05:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:05:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:06:15 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deal-info/1
2024-11-13 11:06:15 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@24336e7c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=66A33D617D024F32CF9D99D261778634], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:06:15 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deal-info/1
2024-11-13 11:06:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals?
2024-11-13 11:06:20 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@24336e7c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=66A33D617D024F32CF9D99D261778634], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:06:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals?
2024-11-13 11:06:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:06:20 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@24336e7c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=66A33D617D024F32CF9D99D261778634], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:06:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:06:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:06:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:06:20 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@24336e7c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=66A33D617D024F32CF9D99D261778634], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:06:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:06:20 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@24336e7c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=66A33D617D024F32CF9D99D261778634], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:06:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:06:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:06:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:06:20 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@24336e7c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=66A33D617D024F32CF9D99D261778634], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:06:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:06:20 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@24336e7c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=66A33D617D024F32CF9D99D261778634], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:06:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:07:03 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:07:03 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 11:07:03 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 11:07:04 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 47146 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 11:07:04 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:07:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:07:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-11-13 11:07:05 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 11:07:05 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:07:05 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 11:07:05 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:07:05 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 690 ms
2024-11-13 11:07:05 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:07:05 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 11:07:05 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 11:07:05 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:07:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 11:07:05 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@51af8049
2024-11-13 11:07:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 11:07:05 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 11:07:06 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 11:07:06 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@644f6e89] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 11:07:06 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:07:06 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:07:06 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 11:07:06 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:07:06 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 11:07:06 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:07:06 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:07:07 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@758836f6, org.springframework.security.web.session.ForceEagerSessionCreationFilter@4410d01e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b00276, org.springframework.security.web.context.SecurityContextHolderFilter@1dcaa052, org.springframework.security.web.header.HeaderWriterFilter@3dc67c9e, org.springframework.web.filter.CorsFilter@238d045a, org.springframework.security.web.authentication.logout.LogoutFilter@7b88b0d6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@622168f7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@76dc6191, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@695dc0e6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1706a95b, org.springframework.security.web.session.SessionManagementFilter@58f7544c, org.springframework.security.web.access.ExceptionTranslationFilter@2878abcd, org.springframework.security.web.access.intercept.AuthorizationFilter@504862b5]
2024-11-13 11:07:07 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 11:07:07 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 3.004 seconds (process running for 3.287)
2024-11-13 11:07:08 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 11:07:08 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 11:07:08 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 11:07:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals?
2024-11-13 11:07:08 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 11:07:08 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:07:08 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 3D8B7655E6026DD8DA6D8E7D8ABE1EA4
2024-11-13 11:07:08 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 11:07:08 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 11:07:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 11:07:08 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:07:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 11:07:09 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 11:07:09 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 11:07:09 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 11:07:09 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from A79BD553E29A9E527FE42C5DF6F27E4A
2024-11-13 11:07:09 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@15c1e52a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A79BD553E29A9E527FE42C5DF6F27E4A], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@322b57ee]
2024-11-13 11:07:09 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@15c1e52a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A79BD553E29A9E527FE42C5DF6F27E4A], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 11:07:09 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 11:07:09 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 11:07:09 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@15c1e52a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A79BD553E29A9E527FE42C5DF6F27E4A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:07:09 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 11:07:09 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:07:09 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:07:09 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:07:09 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:07:09 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:07:09 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 11:07:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:07:09 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@15c1e52a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A79BD553E29A9E527FE42C5DF6F27E4A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:07:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:07:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:07:09 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:07:09 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@15c1e52a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A79BD553E29A9E527FE42C5DF6F27E4A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:07:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:07:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:07:09 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@15c1e52a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A79BD553E29A9E527FE42C5DF6F27E4A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:07:09 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:07:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:07:09 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@15c1e52a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A79BD553E29A9E527FE42C5DF6F27E4A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:07:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:07:09 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@15c1e52a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A79BD553E29A9E527FE42C5DF6F27E4A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:07:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:07:10 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:07:10 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@15c1e52a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A79BD553E29A9E527FE42C5DF6F27E4A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:07:10 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 11:07:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:07:10 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@15c1e52a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A79BD553E29A9E527FE42C5DF6F27E4A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:07:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:07:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:07:10 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:07:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:07:10 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@15c1e52a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A79BD553E29A9E527FE42C5DF6F27E4A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:07:10 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@15c1e52a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A79BD553E29A9E527FE42C5DF6F27E4A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:07:10 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@15c1e52a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A79BD553E29A9E527FE42C5DF6F27E4A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:07:10 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:07:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:07:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:07:10 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:07:10 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@15c1e52a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A79BD553E29A9E527FE42C5DF6F27E4A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:07:10 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:10:26 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:10:26 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 11:10:26 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 11:10:27 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 47403 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 11:10:27 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:10:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:10:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2024-11-13 11:10:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 11:10:28 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:10:28 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 11:10:28 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:10:28 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 721 ms
2024-11-13 11:10:28 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:10:28 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 11:10:28 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 11:10:28 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:10:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 11:10:29 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6d0114c0
2024-11-13 11:10:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 11:10:29 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 11:10:29 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 11:10:29 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@e460ca1] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 11:10:29 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:10:29 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:10:30 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 11:10:30 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:10:30 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 11:10:30 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:10:30 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:10:30 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4a83736a, org.springframework.security.web.session.ForceEagerSessionCreationFilter@3c06d119, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2285f28b, org.springframework.security.web.context.SecurityContextHolderFilter@7c644bd5, org.springframework.security.web.header.HeaderWriterFilter@695dc0e6, org.springframework.web.filter.CorsFilter@6f4fa62f, org.springframework.security.web.authentication.logout.LogoutFilter@8075b90, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@55d41b85, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@16023bb2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50859a18, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3e06808f, org.springframework.security.web.session.SessionManagementFilter@1d51de61, org.springframework.security.web.access.ExceptionTranslationFilter@55607e6d, org.springframework.security.web.access.intercept.AuthorizationFilter@1706a95b]
2024-11-13 11:10:30 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 11:10:30 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 3.08 seconds (process running for 3.383)
2024-11-13 11:10:32 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 11:10:32 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 11:10:32 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 11:10:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:10:32 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 11:10:32 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:10:32 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id BA52A86AEC5E770115681EA26BA5569A
2024-11-13 11:10:32 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 11:10:32 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 11:10:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 11:10:32 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:10:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 11:10:33 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 11:10:33 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 11:10:33 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 11:10:33 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 53947E5F77F104C0C255FA78A7F7F30B
2024-11-13 11:10:33 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d612b88, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=53947E5F77F104C0C255FA78A7F7F30B], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@687d474d]
2024-11-13 11:10:33 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d612b88, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=53947E5F77F104C0C255FA78A7F7F30B], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 11:10:33 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 11:10:33 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 11:10:33 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d612b88, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=53947E5F77F104C0C255FA78A7F7F30B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:10:33 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 11:10:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:10:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:10:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:10:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:10:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:10:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 11:10:33 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:10:33 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d612b88, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=53947E5F77F104C0C255FA78A7F7F30B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:10:33 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:10:33 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:10:33 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d612b88, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=53947E5F77F104C0C255FA78A7F7F30B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:10:33 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:10:33 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:10:33 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:10:33 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:10:33 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d612b88, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=53947E5F77F104C0C255FA78A7F7F30B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:10:33 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d612b88, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=53947E5F77F104C0C255FA78A7F7F30B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:10:33 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:10:33 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d612b88, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=53947E5F77F104C0C255FA78A7F7F30B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:10:33 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:10:33 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:10:34 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:10:34 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d612b88, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=53947E5F77F104C0C255FA78A7F7F30B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:10:34 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 11:10:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:10:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:10:34 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d612b88, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=53947E5F77F104C0C255FA78A7F7F30B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:10:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:10:34 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d612b88, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=53947E5F77F104C0C255FA78A7F7F30B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:10:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:10:34 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:10:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:10:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:10:34 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d612b88, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=53947E5F77F104C0C255FA78A7F7F30B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:10:34 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:10:34 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d612b88, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=53947E5F77F104C0C255FA78A7F7F30B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:10:34 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d612b88, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=53947E5F77F104C0C255FA78A7F7F30B], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:10:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:10:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:15:26 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:15:26 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 11:15:26 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 11:15:28 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 47769 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 11:15:28 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:15:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:15:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-11-13 11:15:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 11:15:29 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:15:29 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 11:15:29 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:15:29 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 706 ms
2024-11-13 11:15:29 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:15:29 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 11:15:29 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 11:15:29 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:15:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 11:15:29 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@98637a2
2024-11-13 11:15:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 11:15:29 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 11:15:29 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 11:15:29 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7ce760af] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 11:15:30 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:15:30 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:15:30 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 11:15:30 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:15:30 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 11:15:30 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:15:30 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:15:30 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7b88b0d6, org.springframework.security.web.session.ForceEagerSessionCreationFilter@42593f64, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@699cb1a3, org.springframework.security.web.context.SecurityContextHolderFilter@2de5bb6e, org.springframework.security.web.header.HeaderWriterFilter@3b85a820, org.springframework.web.filter.CorsFilter@619ef9cb, org.springframework.security.web.authentication.logout.LogoutFilter@1e68d8f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@250cb65a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2878abcd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3df88e84, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5f2eeb2e, org.springframework.security.web.session.SessionManagementFilter@44b5a87a, org.springframework.security.web.access.ExceptionTranslationFilter@435e122, org.springframework.security.web.access.intercept.AuthorizationFilter@6013565b]
2024-11-13 11:15:31 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 11:15:31 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 3.058 seconds (process running for 3.347)
2024-11-13 11:15:32 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 11:15:32 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 11:15:32 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 11:15:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:15:32 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 11:15:32 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:15:32 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 0CA57A598CAA55647020D8ECA5F921B1
2024-11-13 11:15:32 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 11:15:32 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 11:15:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 11:15:32 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:15:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 11:15:33 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 11:15:33 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 11:15:33 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 11:15:33 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 093B3064A74B5C691E31D9AF71348CB3
2024-11-13 11:15:33 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@354586eb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=093B3064A74B5C691E31D9AF71348CB3], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@3df7fd1d]
2024-11-13 11:15:33 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@354586eb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=093B3064A74B5C691E31D9AF71348CB3], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 11:15:33 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 11:15:33 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 11:15:33 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@354586eb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=093B3064A74B5C691E31D9AF71348CB3], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:15:33 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 11:15:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:15:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:15:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:15:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:15:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:15:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 11:15:33 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:15:33 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:15:33 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:15:33 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@354586eb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=093B3064A74B5C691E31D9AF71348CB3], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:15:33 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:15:33 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:15:33 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@354586eb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=093B3064A74B5C691E31D9AF71348CB3], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:15:33 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:15:33 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@354586eb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=093B3064A74B5C691E31D9AF71348CB3], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:15:33 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@354586eb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=093B3064A74B5C691E31D9AF71348CB3], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:15:33 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@354586eb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=093B3064A74B5C691E31D9AF71348CB3], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:15:33 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:15:33 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:15:33 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:15:33 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:15:34 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:15:34 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@354586eb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=093B3064A74B5C691E31D9AF71348CB3], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:15:34 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 11:15:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:15:34 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@354586eb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=093B3064A74B5C691E31D9AF71348CB3], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:15:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:15:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:15:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:15:34 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@354586eb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=093B3064A74B5C691E31D9AF71348CB3], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:15:34 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@354586eb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=093B3064A74B5C691E31D9AF71348CB3], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:15:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:15:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:15:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:15:34 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:15:34 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@354586eb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=093B3064A74B5C691E31D9AF71348CB3], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:15:34 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@354586eb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=093B3064A74B5C691E31D9AF71348CB3], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:15:34 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:15:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:16:00 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:16:00 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 11:16:00 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 11:16:02 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 47829 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 11:16:02 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:16:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:16:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-11-13 11:16:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 11:16:02 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:16:02 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 11:16:02 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:16:02 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 684 ms
2024-11-13 11:16:03 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:16:03 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 11:16:03 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 11:16:03 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:16:03 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 11:16:03 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2ef041bb
2024-11-13 11:16:03 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 11:16:03 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 11:16:03 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 11:16:03 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2d33795c] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 11:16:03 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:16:04 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:16:04 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 11:16:04 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:16:04 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 11:16:04 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:16:04 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:16:04 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3f7e5f33, org.springframework.security.web.session.ForceEagerSessionCreationFilter@4a83736a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c06d119, org.springframework.security.web.context.SecurityContextHolderFilter@6fd53298, org.springframework.security.web.header.HeaderWriterFilter@283693af, org.springframework.web.filter.CorsFilter@2285f28b, org.springframework.security.web.authentication.logout.LogoutFilter@6603f03d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1706a95b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@495b3b23, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16023bb2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f4fa62f, org.springframework.security.web.session.SessionManagementFilter@4b145278, org.springframework.security.web.access.ExceptionTranslationFilter@4d8decd1, org.springframework.security.web.access.intercept.AuthorizationFilter@238d045a]
2024-11-13 11:16:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 11:16:04 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 3.018 seconds (process running for 3.34)
2024-11-13 11:16:05 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 11:16:05 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 11:16:05 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 11:16:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:16:05 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 11:16:05 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:16:05 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id FB9EC7590B1DB0E47A9A27632E9745F0
2024-11-13 11:16:05 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 11:16:05 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 11:16:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 11:16:05 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:16:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 11:16:06 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 11:16:06 [http-nio-8080-exec-5] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 11:16:06 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 11:16:06 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from A0ECEDDC014F2AED296DB06B61084AA7
2024-11-13 11:16:06 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7f045bb2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A0ECEDDC014F2AED296DB06B61084AA7], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@68e2381b]
2024-11-13 11:16:06 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7f045bb2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A0ECEDDC014F2AED296DB06B61084AA7], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 11:16:06 [http-nio-8080-exec-5] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 11:16:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 11:16:06 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7f045bb2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A0ECEDDC014F2AED296DB06B61084AA7], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:16:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 11:16:06 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:16:06 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:16:06 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:16:06 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:16:06 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:16:06 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 11:16:06 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:16:06 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:16:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:16:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:16:06 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7f045bb2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A0ECEDDC014F2AED296DB06B61084AA7], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:16:06 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:16:06 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7f045bb2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A0ECEDDC014F2AED296DB06B61084AA7], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:16:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:16:06 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7f045bb2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A0ECEDDC014F2AED296DB06B61084AA7], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:16:06 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7f045bb2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A0ECEDDC014F2AED296DB06B61084AA7], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:16:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:16:06 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:16:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:16:06 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7f045bb2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A0ECEDDC014F2AED296DB06B61084AA7], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:16:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:16:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:16:07 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7f045bb2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A0ECEDDC014F2AED296DB06B61084AA7], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:16:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 11:16:07 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:16:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:16:07 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:16:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:16:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:16:07 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7f045bb2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A0ECEDDC014F2AED296DB06B61084AA7], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:16:07 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7f045bb2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A0ECEDDC014F2AED296DB06B61084AA7], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:16:07 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7f045bb2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A0ECEDDC014F2AED296DB06B61084AA7], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:16:07 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7f045bb2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A0ECEDDC014F2AED296DB06B61084AA7], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:16:07 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7f045bb2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A0ECEDDC014F2AED296DB06B61084AA7], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:16:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:16:07 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:16:07 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:16:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:16:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:16:33 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:16:33 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 11:16:33 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 11:16:34 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 47889 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 11:16:34 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:16:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:16:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 6 JPA repository interfaces.
2024-11-13 11:16:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 11:16:35 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:16:35 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 11:16:35 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:16:35 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 710 ms
2024-11-13 11:16:35 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:16:35 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 11:16:35 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 11:16:35 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:16:35 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 11:16:35 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@547aaa32
2024-11-13 11:16:35 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 11:16:35 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 11:16:36 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 11:16:36 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@12811f95] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 11:16:36 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:16:36 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:16:36 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 11:16:36 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:16:37 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 11:16:37 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:16:37 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:16:37 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6603f03d, org.springframework.security.web.session.ForceEagerSessionCreationFilter@8075b90, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76b9605, org.springframework.security.web.context.SecurityContextHolderFilter@2faec75a, org.springframework.security.web.header.HeaderWriterFilter@2878abcd, org.springframework.web.filter.CorsFilter@2933edb6, org.springframework.security.web.authentication.logout.LogoutFilter@1e73e9e2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5f2eeb2e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1dcaa052, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2f11f73e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@504862b5, org.springframework.security.web.session.SessionManagementFilter@3dc67c9e, org.springframework.security.web.access.ExceptionTranslationFilter@2de5bb6e, org.springframework.security.web.access.intercept.AuthorizationFilter@619ef9cb]
2024-11-13 11:16:37 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 11:16:37 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 3.056 seconds (process running for 3.339)
2024-11-13 11:16:40 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 11:16:40 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 11:16:40 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 11:16:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:16:40 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 11:16:40 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:16:40 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id DE7E04AF20D8E4E085F7017B14798B11
2024-11-13 11:16:40 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 11:16:40 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 11:16:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 11:16:40 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:16:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 11:16:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 11:16:41 [http-nio-8080-exec-5] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 11:16:41 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 11:16:41 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 4A3A4AB9A2B88932EC5D90780E0D152A
2024-11-13 11:16:41 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c806037, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4A3A4AB9A2B88932EC5D90780E0D152A], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@390b7e7]
2024-11-13 11:16:41 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c806037, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4A3A4AB9A2B88932EC5D90780E0D152A], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 11:16:41 [http-nio-8080-exec-5] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 11:16:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 11:16:41 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c806037, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4A3A4AB9A2B88932EC5D90780E0D152A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:16:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 11:16:41 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:16:41 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:16:41 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:16:41 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:16:41 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:16:41 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 11:16:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:16:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:16:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:16:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:16:41 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c806037, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4A3A4AB9A2B88932EC5D90780E0D152A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:16:41 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c806037, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4A3A4AB9A2B88932EC5D90780E0D152A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:16:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:16:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:16:41 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c806037, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4A3A4AB9A2B88932EC5D90780E0D152A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:16:41 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c806037, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4A3A4AB9A2B88932EC5D90780E0D152A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:16:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:16:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:16:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:16:41 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c806037, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4A3A4AB9A2B88932EC5D90780E0D152A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:16:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:16:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:16:42 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c806037, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4A3A4AB9A2B88932EC5D90780E0D152A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:16:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 11:16:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:16:42 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c806037, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4A3A4AB9A2B88932EC5D90780E0D152A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:16:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:16:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:16:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:16:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:16:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:16:42 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c806037, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4A3A4AB9A2B88932EC5D90780E0D152A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:16:42 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c806037, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4A3A4AB9A2B88932EC5D90780E0D152A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:16:42 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c806037, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4A3A4AB9A2B88932EC5D90780E0D152A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:16:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:16:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:16:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:16:42 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c806037, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4A3A4AB9A2B88932EC5D90780E0D152A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:16:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:20:02 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 11:20:02 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c806037, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4A3A4AB9A2B88932EC5D90780E0D152A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:20:02 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 11:20:03 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:20:03 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:20:03 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:20:03 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:20:03 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:20:03 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 11:20:03 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:20:03 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c806037, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4A3A4AB9A2B88932EC5D90780E0D152A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:20:03 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:20:03 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:20:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:20:03 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:20:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:20:03 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c806037, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4A3A4AB9A2B88932EC5D90780E0D152A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:20:03 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c806037, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4A3A4AB9A2B88932EC5D90780E0D152A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:20:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:20:03 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:20:03 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c806037, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4A3A4AB9A2B88932EC5D90780E0D152A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:20:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:20:03 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c806037, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4A3A4AB9A2B88932EC5D90780E0D152A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:20:03 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:20:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:20:05 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c806037, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4A3A4AB9A2B88932EC5D90780E0D152A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:20:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 11:20:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:20:05 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c806037, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4A3A4AB9A2B88932EC5D90780E0D152A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:20:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:20:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:20:05 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c806037, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4A3A4AB9A2B88932EC5D90780E0D152A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:20:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:20:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:20:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:20:05 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:20:05 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c806037, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4A3A4AB9A2B88932EC5D90780E0D152A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:20:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:20:05 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c806037, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4A3A4AB9A2B88932EC5D90780E0D152A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:20:05 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:20:05 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c806037, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4A3A4AB9A2B88932EC5D90780E0D152A], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:20:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:23:47 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:23:47 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 11:23:47 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 11:23:49 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 48422 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 11:23:49 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:23:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:23:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-11-13 11:23:49 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 11:23:49 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:23:49 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 11:23:49 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:23:49 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 657 ms
2024-11-13 11:23:50 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:23:50 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 11:23:50 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 11:23:50 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:23:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 11:23:50 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@75527e36
2024-11-13 11:23:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 11:23:50 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 11:23:50 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 11:23:50 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@446981a4] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 11:23:50 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:23:51 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:23:51 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 11:23:51 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:23:51 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 11:23:51 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:23:51 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:23:51 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@622168f7, org.springframework.security.web.session.ForceEagerSessionCreationFilter@39211108, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f4915c7, org.springframework.security.web.context.SecurityContextHolderFilter@67c602e9, org.springframework.security.web.header.HeaderWriterFilter@21826d78, org.springframework.web.filter.CorsFilter@1c078351, org.springframework.security.web.authentication.logout.LogoutFilter@250cb65a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@8075b90, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f4e4cb2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a8b7423, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@758836f6, org.springframework.security.web.session.SessionManagementFilter@7ffdded5, org.springframework.security.web.access.ExceptionTranslationFilter@353cb7e5, org.springframework.security.web.access.intercept.AuthorizationFilter@6603f03d]
2024-11-13 11:23:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 11:23:52 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.944 seconds (process running for 3.255)
2024-11-13 11:23:52 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 11:23:52 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 11:23:52 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 11:23:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:23:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 11:23:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:23:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 2009C66012F50A8BE1E75841327AD20A
2024-11-13 11:23:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 11:23:52 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 11:23:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 11:23:52 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:23:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 11:23:53 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 11:23:54 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 11:23:54 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 11:23:54 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 0429F89616AC73875B0DEDBC555096FB
2024-11-13 11:23:54 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3bd7110f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0429F89616AC73875B0DEDBC555096FB], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@7967176d]
2024-11-13 11:23:54 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3bd7110f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0429F89616AC73875B0DEDBC555096FB], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 11:23:54 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 11:23:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 11:23:54 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3bd7110f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0429F89616AC73875B0DEDBC555096FB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:23:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 11:23:54 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:23:54 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:23:54 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:23:54 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:23:54 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:23:54 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 11:23:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:23:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:23:54 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3bd7110f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0429F89616AC73875B0DEDBC555096FB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:23:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:23:54 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3bd7110f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0429F89616AC73875B0DEDBC555096FB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:23:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:23:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:23:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:23:54 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3bd7110f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0429F89616AC73875B0DEDBC555096FB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:23:54 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3bd7110f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0429F89616AC73875B0DEDBC555096FB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:23:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:23:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:23:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:23:54 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3bd7110f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0429F89616AC73875B0DEDBC555096FB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:23:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:23:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:23:56 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3bd7110f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0429F89616AC73875B0DEDBC555096FB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:23:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 11:23:56 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:23:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:23:56 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:23:56 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3bd7110f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0429F89616AC73875B0DEDBC555096FB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:23:56 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:23:56 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:23:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:23:56 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3bd7110f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0429F89616AC73875B0DEDBC555096FB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:23:56 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3bd7110f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0429F89616AC73875B0DEDBC555096FB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:23:56 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3bd7110f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0429F89616AC73875B0DEDBC555096FB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:23:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:23:56 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:23:56 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:23:56 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3bd7110f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0429F89616AC73875B0DEDBC555096FB], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:23:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:30:15 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m55s263ms).
2024-11-13 11:40:11 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:40:11 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 11:40:11 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 11:40:13 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 49384 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 11:40:13 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:40:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:40:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2024-11-13 11:40:14 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 11:40:14 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:40:14 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 11:40:14 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:40:14 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 674 ms
2024-11-13 11:40:14 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:40:14 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 11:40:14 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 11:40:14 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:40:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 11:40:14 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3356ff58
2024-11-13 11:40:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 11:40:14 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 11:40:15 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 11:40:15 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7b6b466a] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 11:40:15 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:40:15 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:40:15 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 11:40:15 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:40:15 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 11:40:15 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:40:16 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:40:16 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6fd53298, org.springframework.security.web.session.ForceEagerSessionCreationFilter@7c644bd5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@495b3b23, org.springframework.security.web.context.SecurityContextHolderFilter@16c90eac, org.springframework.security.web.header.HeaderWriterFilter@301db982, org.springframework.web.filter.CorsFilter@16023bb2, org.springframework.security.web.authentication.logout.LogoutFilter@2faec75a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4b145278, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@28e7fbc4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e82188, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50859a18, org.springframework.security.web.session.SessionManagementFilter@624fedfd, org.springframework.security.web.access.ExceptionTranslationFilter@736abb16, org.springframework.security.web.access.intercept.AuthorizationFilter@695dc0e6]
2024-11-13 11:40:16 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 11:40:16 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 3.13 seconds (process running for 3.452)
2024-11-13 11:40:18 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 11:40:18 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 11:40:18 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 11:40:18 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:40:18 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 11:40:18 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:40:18 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 179B0A461EF6BA8F1D2A0C7E24225AAB
2024-11-13 11:40:18 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 11:40:18 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 11:40:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 11:40:18 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:40:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 11:40:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 11:40:20 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 11:40:20 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 11:40:20 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from F389A28628F0969C9A4269231800C1C0
2024-11-13 11:40:20 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7672a62e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F389A28628F0969C9A4269231800C1C0], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@150a7447]
2024-11-13 11:40:20 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7672a62e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F389A28628F0969C9A4269231800C1C0], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 11:40:20 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 11:40:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 11:40:20 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7672a62e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F389A28628F0969C9A4269231800C1C0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:40:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 11:40:20 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:40:20 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:40:20 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:40:20 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:40:20 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:40:20 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 11:40:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:40:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:40:20 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7672a62e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F389A28628F0969C9A4269231800C1C0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:40:20 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7672a62e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F389A28628F0969C9A4269231800C1C0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:40:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:40:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:40:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:40:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:40:20 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7672a62e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F389A28628F0969C9A4269231800C1C0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:40:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:40:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:40:20 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7672a62e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F389A28628F0969C9A4269231800C1C0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:40:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:40:20 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7672a62e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F389A28628F0969C9A4269231800C1C0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:40:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:40:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:40:21 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7672a62e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F389A28628F0969C9A4269231800C1C0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:40:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 11:40:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:40:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:40:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:40:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:40:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:40:21 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7672a62e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F389A28628F0969C9A4269231800C1C0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:40:21 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7672a62e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F389A28628F0969C9A4269231800C1C0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:40:21 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7672a62e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F389A28628F0969C9A4269231800C1C0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:40:21 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7672a62e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F389A28628F0969C9A4269231800C1C0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:40:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:40:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:40:21 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7672a62e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F389A28628F0969C9A4269231800C1C0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:40:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:40:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:40:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:43:02 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:43:02 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 11:43:02 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 11:43:03 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 49620 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 11:43:03 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:43:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:43:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 6 JPA repository interfaces.
2024-11-13 11:43:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 11:43:04 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:43:04 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 11:43:04 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:43:04 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 647 ms
2024-11-13 11:43:04 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:43:04 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 11:43:04 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 11:43:04 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:43:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 11:43:04 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@65e4cb84
2024-11-13 11:43:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 11:43:04 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 11:43:05 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 11:43:05 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@69356aca] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 11:43:05 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:43:05 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:43:06 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 11:43:06 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:43:06 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 11:43:06 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:43:06 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:43:06 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6fd53298, org.springframework.security.web.session.ForceEagerSessionCreationFilter@7c644bd5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@495b3b23, org.springframework.security.web.context.SecurityContextHolderFilter@16c90eac, org.springframework.security.web.header.HeaderWriterFilter@301db982, org.springframework.web.filter.CorsFilter@16023bb2, org.springframework.security.web.authentication.logout.LogoutFilter@2faec75a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4b145278, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@28e7fbc4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e82188, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50859a18, org.springframework.security.web.session.SessionManagementFilter@624fedfd, org.springframework.security.web.access.ExceptionTranslationFilter@27a14f7e, org.springframework.security.web.access.intercept.AuthorizationFilter@695dc0e6]
2024-11-13 11:43:06 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 11:43:06 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.99 seconds (process running for 3.301)
2024-11-13 11:43:07 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 11:43:07 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 11:43:07 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 11:43:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:43:07 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 11:43:07 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:43:07 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 0CE1E4B858436C37C7D0AC8E3EE69682
2024-11-13 11:43:07 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 11:43:07 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 11:43:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 11:43:07 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:43:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 11:43:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 11:43:08 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 11:43:08 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 11:43:08 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from AF73E27AAD697B270636217FA4E7A214
2024-11-13 11:43:08 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@477b220d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=AF73E27AAD697B270636217FA4E7A214], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@515b9eac]
2024-11-13 11:43:08 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@477b220d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=AF73E27AAD697B270636217FA4E7A214], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 11:43:08 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 11:43:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 11:43:08 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@477b220d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=AF73E27AAD697B270636217FA4E7A214], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 11:43:08 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:43:08 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:43:08 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:43:08 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:43:08 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:43:08 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 11:43:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:43:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:43:09 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:43:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:43:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:43:09 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@477b220d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=AF73E27AAD697B270636217FA4E7A214], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:09 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@477b220d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=AF73E27AAD697B270636217FA4E7A214], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:43:09 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@477b220d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=AF73E27AAD697B270636217FA4E7A214], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:43:09 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@477b220d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=AF73E27AAD697B270636217FA4E7A214], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:09 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:43:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:43:09 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@477b220d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=AF73E27AAD697B270636217FA4E7A214], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:43:09 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:43:09 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@477b220d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=AF73E27AAD697B270636217FA4E7A214], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:09 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 11:43:09 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:43:09 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:43:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:43:09 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:43:09 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:43:09 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@477b220d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=AF73E27AAD697B270636217FA4E7A214], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:09 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@477b220d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=AF73E27AAD697B270636217FA4E7A214], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:09 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@477b220d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=AF73E27AAD697B270636217FA4E7A214], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:09 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@477b220d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=AF73E27AAD697B270636217FA4E7A214], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:09 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@477b220d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=AF73E27AAD697B270636217FA4E7A214], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:09 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:43:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:43:09 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:43:09 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:43:09 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:43:19 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:43:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 11:43:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 11:43:20 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 49664 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 11:43:20 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:43:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:43:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-11-13 11:43:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 11:43:21 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:43:21 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 11:43:21 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:43:21 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 653 ms
2024-11-13 11:43:21 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:43:21 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 11:43:21 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 11:43:21 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:43:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 11:43:21 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@b55f5b7
2024-11-13 11:43:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 11:43:21 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 11:43:22 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 11:43:22 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@6686507b] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 11:43:22 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:43:22 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:43:22 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 11:43:22 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:43:22 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 11:43:22 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:43:23 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:43:23 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@42593f64, org.springframework.security.web.session.ForceEagerSessionCreationFilter@699cb1a3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@619ef9cb, org.springframework.security.web.context.SecurityContextHolderFilter@2645d6fd, org.springframework.security.web.header.HeaderWriterFilter@6f22784d, org.springframework.web.filter.CorsFilter@5f2eeb2e, org.springframework.security.web.authentication.logout.LogoutFilter@6bb37a5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@54eda0bb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3df88e84, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3dc67c9e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@54875db0, org.springframework.security.web.session.SessionManagementFilter@2eb4a3ec, org.springframework.security.web.access.ExceptionTranslationFilter@faca8e8, org.springframework.security.web.access.intercept.AuthorizationFilter@250cb65a]
2024-11-13 11:43:23 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 11:43:23 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.946 seconds (process running for 3.229)
2024-11-13 11:43:24 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 11:43:24 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 11:43:24 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 11:43:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:43:24 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 11:43:24 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:43:24 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 37707EEFDCFD1793EBBDE128B370C371
2024-11-13 11:43:24 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 11:43:24 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 11:43:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 11:43:24 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:43:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 11:43:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 11:43:25 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 11:43:25 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 11:43:25 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 032F05970DDEB211E1966F205569A2CC
2024-11-13 11:43:25 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@757a929a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=032F05970DDEB211E1966F205569A2CC], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@4a45fc0e]
2024-11-13 11:43:25 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@757a929a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=032F05970DDEB211E1966F205569A2CC], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 11:43:25 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 11:43:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 11:43:25 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@757a929a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=032F05970DDEB211E1966F205569A2CC], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 11:43:25 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:43:25 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:43:25 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:43:25 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:43:25 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:43:25 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 11:43:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:43:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:43:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:43:25 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@757a929a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=032F05970DDEB211E1966F205569A2CC], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:25 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@757a929a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=032F05970DDEB211E1966F205569A2CC], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:43:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:43:25 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@757a929a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=032F05970DDEB211E1966F205569A2CC], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:43:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:43:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:43:25 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@757a929a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=032F05970DDEB211E1966F205569A2CC], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:43:25 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@757a929a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=032F05970DDEB211E1966F205569A2CC], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:43:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:43:26 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@757a929a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=032F05970DDEB211E1966F205569A2CC], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 11:43:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:43:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:43:26 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@757a929a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=032F05970DDEB211E1966F205569A2CC], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:26 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@757a929a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=032F05970DDEB211E1966F205569A2CC], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:43:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:43:26 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:43:26 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:43:26 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:43:26 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@757a929a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=032F05970DDEB211E1966F205569A2CC], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:26 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@757a929a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=032F05970DDEB211E1966F205569A2CC], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:26 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:43:26 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@757a929a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=032F05970DDEB211E1966F205569A2CC], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:26 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:43:26 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:43:34 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:43:34 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 11:43:34 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 11:43:35 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 49703 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 11:43:35 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:43:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:43:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2024-11-13 11:43:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 11:43:35 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:43:35 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 11:43:35 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:43:35 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 623 ms
2024-11-13 11:43:36 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:43:36 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 11:43:36 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 11:43:36 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:43:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 11:43:36 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@48a46b0f
2024-11-13 11:43:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 11:43:36 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 11:43:36 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 11:43:36 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@4a0c04ab] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 11:43:36 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:43:37 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:43:37 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 11:43:37 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:43:37 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 11:43:37 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:43:37 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:43:37 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@f4915c7, org.springframework.security.web.session.ForceEagerSessionCreationFilter@1c078351, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@758836f6, org.springframework.security.web.context.SecurityContextHolderFilter@f4e4cb2, org.springframework.security.web.header.HeaderWriterFilter@7ffdded5, org.springframework.web.filter.CorsFilter@4410d01e, org.springframework.security.web.authentication.logout.LogoutFilter@41ad5874, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2933edb6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4d8decd1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55607e6d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3b00276, org.springframework.security.web.session.SessionManagementFilter@2f11f73e, org.springframework.security.web.access.ExceptionTranslationFilter@21826d78, org.springframework.security.web.access.intercept.AuthorizationFilter@76b9605]
2024-11-13 11:43:38 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 11:43:38 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.933 seconds (process running for 3.203)
2024-11-13 11:43:39 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 11:43:39 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 11:43:39 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 11:43:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:43:39 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 11:43:39 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:43:39 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 6C18204DEA20F616955861EB2E84CE10
2024-11-13 11:43:39 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 11:43:39 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 11:43:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 11:43:39 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:43:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 11:43:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 11:43:40 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 11:43:40 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 11:43:40 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 7A149B31A4FAD90B0BA636FCE52C8C00
2024-11-13 11:43:40 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@322a4b0f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A149B31A4FAD90B0BA636FCE52C8C00], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@7bb3b59c]
2024-11-13 11:43:40 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@322a4b0f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A149B31A4FAD90B0BA636FCE52C8C00], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 11:43:40 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 11:43:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 11:43:40 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@322a4b0f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A149B31A4FAD90B0BA636FCE52C8C00], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 11:43:40 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:43:40 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:43:40 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:43:40 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:43:40 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:43:40 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 11:43:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:43:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:43:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:43:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:43:40 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@322a4b0f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A149B31A4FAD90B0BA636FCE52C8C00], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:43:40 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@322a4b0f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A149B31A4FAD90B0BA636FCE52C8C00], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:40 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@322a4b0f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A149B31A4FAD90B0BA636FCE52C8C00], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:40 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@322a4b0f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A149B31A4FAD90B0BA636FCE52C8C00], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:43:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:43:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:43:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:43:40 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@322a4b0f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A149B31A4FAD90B0BA636FCE52C8C00], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:43:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:43:41 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@322a4b0f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A149B31A4FAD90B0BA636FCE52C8C00], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 11:43:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:43:41 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@322a4b0f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A149B31A4FAD90B0BA636FCE52C8C00], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:43:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:43:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:43:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:43:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:43:41 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@322a4b0f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A149B31A4FAD90B0BA636FCE52C8C00], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:41 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@322a4b0f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A149B31A4FAD90B0BA636FCE52C8C00], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:43:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:43:41 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@322a4b0f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A149B31A4FAD90B0BA636FCE52C8C00], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:43:41 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@322a4b0f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A149B31A4FAD90B0BA636FCE52C8C00], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:43:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:44:35 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:44:35 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 11:44:35 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 11:44:36 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 49792 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 11:44:36 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:44:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:44:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2024-11-13 11:44:37 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 11:44:37 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:44:37 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 11:44:37 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:44:37 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 650 ms
2024-11-13 11:44:37 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:44:37 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 11:44:37 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 11:44:37 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:44:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 11:44:37 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@51af8049
2024-11-13 11:44:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 11:44:37 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 11:44:38 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 11:44:38 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@446981a4] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 11:44:38 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:44:38 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:44:39 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 11:44:39 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:44:39 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 11:44:39 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:44:39 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:44:39 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@619ef9cb, org.springframework.security.web.session.ForceEagerSessionCreationFilter@5f2eeb2e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54875db0, org.springframework.security.web.context.SecurityContextHolderFilter@3df88e84, org.springframework.security.web.header.HeaderWriterFilter@2eb4a3ec, org.springframework.web.filter.CorsFilter@581aef2a, org.springframework.security.web.authentication.logout.LogoutFilter@7c644bd5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3bf66f94, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@353cb7e5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@58f7544c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4e5c0543, org.springframework.security.web.session.SessionManagementFilter@44fa2df3, org.springframework.security.web.access.ExceptionTranslationFilter@6f22784d, org.springframework.security.web.access.intercept.AuthorizationFilter@41ad5874]
2024-11-13 11:44:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 11:44:39 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.968 seconds (process running for 3.245)
2024-11-13 11:44:40 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 11:44:40 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 11:44:40 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 11:44:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:44:40 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 11:44:40 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:44:40 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id A12F59DD267166E5D684ACB500179ABD
2024-11-13 11:44:40 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 11:44:40 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 11:44:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 11:44:40 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:44:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 11:44:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 11:44:41 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 11:44:41 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 11:44:41 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 2D11CFAC60C2A31C82015C0A3A1DEAE7
2024-11-13 11:44:41 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@16e68efa, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2D11CFAC60C2A31C82015C0A3A1DEAE7], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@747e7e85]
2024-11-13 11:44:41 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@16e68efa, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2D11CFAC60C2A31C82015C0A3A1DEAE7], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 11:44:41 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 11:44:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 11:44:41 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@16e68efa, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2D11CFAC60C2A31C82015C0A3A1DEAE7], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:44:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 11:44:41 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:44:41 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:44:41 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:44:41 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:44:41 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:44:41 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 11:44:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:44:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:44:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:44:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:44:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:44:41 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@16e68efa, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2D11CFAC60C2A31C82015C0A3A1DEAE7], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:44:41 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@16e68efa, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2D11CFAC60C2A31C82015C0A3A1DEAE7], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:44:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:44:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:44:41 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@16e68efa, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2D11CFAC60C2A31C82015C0A3A1DEAE7], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:44:41 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@16e68efa, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2D11CFAC60C2A31C82015C0A3A1DEAE7], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:44:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:44:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:44:41 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@16e68efa, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2D11CFAC60C2A31C82015C0A3A1DEAE7], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:44:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:44:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:44:42 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@16e68efa, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2D11CFAC60C2A31C82015C0A3A1DEAE7], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:44:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 11:44:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:44:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:44:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:44:42 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:44:42 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:44:42 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@16e68efa, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2D11CFAC60C2A31C82015C0A3A1DEAE7], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:44:42 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@16e68efa, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2D11CFAC60C2A31C82015C0A3A1DEAE7], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:44:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:44:42 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@16e68efa, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2D11CFAC60C2A31C82015C0A3A1DEAE7], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:44:42 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@16e68efa, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2D11CFAC60C2A31C82015C0A3A1DEAE7], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:44:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:44:42 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@16e68efa, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2D11CFAC60C2A31C82015C0A3A1DEAE7], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:44:42 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:44:42 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:44:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:44:46 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 11:44:46 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@16e68efa, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2D11CFAC60C2A31C82015C0A3A1DEAE7], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:44:46 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 11:44:46 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:44:46 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:44:46 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:44:46 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:44:46 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:44:46 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 11:44:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:44:52 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@16e68efa, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2D11CFAC60C2A31C82015C0A3A1DEAE7], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:44:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 11:45:19 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:45:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 11:45:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 11:45:21 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 49868 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 11:45:21 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:45:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:45:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2024-11-13 11:45:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 11:45:21 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:45:21 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 11:45:21 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:45:21 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 688 ms
2024-11-13 11:45:21 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:45:21 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 11:45:22 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 11:45:22 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:45:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 11:45:22 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@37a67cf
2024-11-13 11:45:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 11:45:22 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 11:45:22 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 11:45:22 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@68f1b89] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 11:45:22 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:45:23 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:45:23 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 11:45:23 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:45:23 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 11:45:23 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:45:23 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:45:23 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3bf66f94, org.springframework.security.web.session.ForceEagerSessionCreationFilter@7b88b0d6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42593f64, org.springframework.security.web.context.SecurityContextHolderFilter@44fa2df3, org.springframework.security.web.header.HeaderWriterFilter@faca8e8, org.springframework.web.filter.CorsFilter@699cb1a3, org.springframework.security.web.authentication.logout.LogoutFilter@1d51de61, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6013565b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2645d6fd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2878abcd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@619ef9cb, org.springframework.security.web.session.SessionManagementFilter@6f22784d, org.springframework.security.web.access.ExceptionTranslationFilter@47127c29, org.springframework.security.web.access.intercept.AuthorizationFilter@61ae8f75]
2024-11-13 11:45:23 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 11:45:23 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.992 seconds (process running for 3.283)
2024-11-13 11:45:24 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 11:45:24 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 11:45:24 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-11-13 11:45:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:45:24 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 11:45:24 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:45:24 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B765D11CD13F7EEA1B61E4ADC8F8D741
2024-11-13 11:45:24 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 11:45:24 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 11:45:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 11:45:24 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:45:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 11:45:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 11:45:25 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 11:45:25 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 11:45:25 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 8F2074D87C5A83AFB43C906FD4B8419D
2024-11-13 11:45:25 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@32c5e485, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8F2074D87C5A83AFB43C906FD4B8419D], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@4df73e68]
2024-11-13 11:45:25 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@32c5e485, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8F2074D87C5A83AFB43C906FD4B8419D], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 11:45:25 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 11:45:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 11:45:25 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@32c5e485, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8F2074D87C5A83AFB43C906FD4B8419D], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:45:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 11:45:25 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:45:25 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:45:25 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:45:25 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:45:25 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:45:25 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 11:45:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:45:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:45:25 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@32c5e485, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8F2074D87C5A83AFB43C906FD4B8419D], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:45:25 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@32c5e485, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8F2074D87C5A83AFB43C906FD4B8419D], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:45:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:45:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:45:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:45:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:45:25 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@32c5e485, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8F2074D87C5A83AFB43C906FD4B8419D], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:45:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:45:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:45:25 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@32c5e485, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8F2074D87C5A83AFB43C906FD4B8419D], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:45:25 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@32c5e485, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8F2074D87C5A83AFB43C906FD4B8419D], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:45:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:45:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:45:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:45:26 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@32c5e485, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8F2074D87C5A83AFB43C906FD4B8419D], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:45:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 11:45:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:45:26 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:45:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:45:26 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:45:26 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:45:26 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@32c5e485, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8F2074D87C5A83AFB43C906FD4B8419D], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:45:26 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@32c5e485, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8F2074D87C5A83AFB43C906FD4B8419D], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:45:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:45:26 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@32c5e485, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8F2074D87C5A83AFB43C906FD4B8419D], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:45:26 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@32c5e485, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8F2074D87C5A83AFB43C906FD4B8419D], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:45:26 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:45:26 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@32c5e485, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8F2074D87C5A83AFB43C906FD4B8419D], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:45:26 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:45:26 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:45:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:45:51 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:45:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 11:45:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 11:45:52 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 49926 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 11:45:52 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:45:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:45:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-11-13 11:45:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 11:45:53 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:45:53 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 11:45:53 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:45:53 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 671 ms
2024-11-13 11:45:53 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:45:53 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 11:45:53 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 11:45:53 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:45:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 11:45:53 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3356ff58
2024-11-13 11:45:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 11:45:53 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 11:45:54 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 11:45:54 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@f252762] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 11:45:54 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:45:54 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:45:54 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 11:45:54 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:45:54 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 11:45:54 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:45:54 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:45:55 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@8075b90, org.springframework.security.web.session.ForceEagerSessionCreationFilter@76b9605, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2933edb6, org.springframework.security.web.context.SecurityContextHolderFilter@7ffdded5, org.springframework.security.web.header.HeaderWriterFilter@3df88e84, org.springframework.web.filter.CorsFilter@504862b5, org.springframework.security.web.authentication.logout.LogoutFilter@192b9e35, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@54875db0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f11f73e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@76dc6191, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@622168f7, org.springframework.security.web.session.SessionManagementFilter@353cb7e5, org.springframework.security.web.access.ExceptionTranslationFilter@2645d6fd, org.springframework.security.web.access.intercept.AuthorizationFilter@5f2eeb2e]
2024-11-13 11:45:55 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 11:45:55 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 3.034 seconds (process running for 3.313)
2024-11-13 11:46:07 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:46:07 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 11:46:07 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 11:46:08 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 49959 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 11:46:08 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:46:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:46:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-11-13 11:46:08 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 11:46:08 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:46:08 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 11:46:09 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:46:09 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 634 ms
2024-11-13 11:46:09 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:46:09 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 11:46:09 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 11:46:09 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:46:09 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 11:46:09 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@376af784
2024-11-13 11:46:09 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 11:46:09 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 11:46:09 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 11:46:09 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@758311ed] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 11:46:09 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:46:10 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:46:10 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 11:46:10 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:46:10 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 11:46:10 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:46:10 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:46:10 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6f4fa62f, org.springframework.security.web.session.ForceEagerSessionCreationFilter@3e06808f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3402004f, org.springframework.security.web.context.SecurityContextHolderFilter@50859a18, org.springframework.security.web.header.HeaderWriterFilter@1e68d8f, org.springframework.web.filter.CorsFilter@399ebdee, org.springframework.security.web.authentication.logout.LogoutFilter@504862b5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3f7e5f33, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e73e9e2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@192b9e35, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b720a2c, org.springframework.security.web.session.SessionManagementFilter@6fd53298, org.springframework.security.web.access.ExceptionTranslationFilter@4b145278, org.springframework.security.web.access.intercept.AuthorizationFilter@1d1071bb]
2024-11-13 11:46:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 11:46:11 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.936 seconds (process running for 3.228)
2024-11-13 11:46:11 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 11:46:11 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 11:46:11 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 11:46:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:46:11 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 11:46:11 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:46:11 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 8E94381E6C7DD4A37B989147635C326C
2024-11-13 11:46:11 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 11:46:11 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 11:46:11 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 11:46:11 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:46:11 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 11:46:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 11:46:13 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 11:46:13 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 11:46:13 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from BA669D2B9E80A9DC2D06E532C8A2B052
2024-11-13 11:46:13 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@318dd4b1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BA669D2B9E80A9DC2D06E532C8A2B052], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@7f14c087]
2024-11-13 11:46:13 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@318dd4b1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BA669D2B9E80A9DC2D06E532C8A2B052], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 11:46:13 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 11:46:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 11:46:13 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@318dd4b1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BA669D2B9E80A9DC2D06E532C8A2B052], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 11:46:13 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:46:13 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:46:13 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:46:13 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:46:13 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:46:13 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 11:46:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:46:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:46:13 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:46:13 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@318dd4b1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BA669D2B9E80A9DC2D06E532C8A2B052], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:13 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:46:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:46:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:46:13 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@318dd4b1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BA669D2B9E80A9DC2D06E532C8A2B052], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:13 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:46:13 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@318dd4b1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BA669D2B9E80A9DC2D06E532C8A2B052], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:13 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@318dd4b1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BA669D2B9E80A9DC2D06E532C8A2B052], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:13 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:46:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:46:13 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@318dd4b1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BA669D2B9E80A9DC2D06E532C8A2B052], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:46:14 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:46:14 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@318dd4b1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BA669D2B9E80A9DC2D06E532C8A2B052], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:14 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 11:46:14 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:46:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:46:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:46:14 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:46:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:46:14 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@318dd4b1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BA669D2B9E80A9DC2D06E532C8A2B052], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:14 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@318dd4b1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BA669D2B9E80A9DC2D06E532C8A2B052], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:14 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@318dd4b1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BA669D2B9E80A9DC2D06E532C8A2B052], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:14 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@318dd4b1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BA669D2B9E80A9DC2D06E532C8A2B052], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:14 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:46:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:46:14 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@318dd4b1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BA669D2B9E80A9DC2D06E532C8A2B052], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:46:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:46:14 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:46:28 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:46:28 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 11:46:28 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 11:46:29 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 49999 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 11:46:29 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:46:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:46:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-11-13 11:46:30 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 11:46:30 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:46:30 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 11:46:30 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:46:30 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 650 ms
2024-11-13 11:46:30 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:46:30 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 11:46:30 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 11:46:30 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:46:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 11:46:30 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@9f9146d
2024-11-13 11:46:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 11:46:30 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 11:46:30 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 11:46:30 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@72c5064f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 11:46:30 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:46:31 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:46:31 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 11:46:31 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:46:31 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 11:46:31 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:46:31 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:46:31 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@622168f7, org.springframework.security.web.session.ForceEagerSessionCreationFilter@39211108, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f4915c7, org.springframework.security.web.context.SecurityContextHolderFilter@67c602e9, org.springframework.security.web.header.HeaderWriterFilter@21826d78, org.springframework.web.filter.CorsFilter@1c078351, org.springframework.security.web.authentication.logout.LogoutFilter@250cb65a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@8075b90, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f4e4cb2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a8b7423, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@758836f6, org.springframework.security.web.session.SessionManagementFilter@7ffdded5, org.springframework.security.web.access.ExceptionTranslationFilter@353cb7e5, org.springframework.security.web.access.intercept.AuthorizationFilter@6603f03d]
2024-11-13 11:46:32 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 11:46:32 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.939 seconds (process running for 3.237)
2024-11-13 11:46:32 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 11:46:32 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 11:46:32 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 11:46:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:46:32 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 11:46:32 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:46:32 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id FB3215A31CBA494CF6E939AA5F27F989
2024-11-13 11:46:32 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 11:46:32 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 11:46:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 11:46:32 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:46:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 11:46:33 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 11:46:33 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 11:46:33 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 11:46:33 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from FF3B437AA5DAE8D17C6A20B079E42A7D
2024-11-13 11:46:33 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51b71783, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FF3B437AA5DAE8D17C6A20B079E42A7D], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@337e02f5]
2024-11-13 11:46:33 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51b71783, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FF3B437AA5DAE8D17C6A20B079E42A7D], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 11:46:33 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 11:46:33 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 11:46:33 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51b71783, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FF3B437AA5DAE8D17C6A20B079E42A7D], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:33 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 11:46:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:46:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:46:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:46:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:46:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:46:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 11:46:34 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:46:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:46:34 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:46:34 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:46:34 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51b71783, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FF3B437AA5DAE8D17C6A20B079E42A7D], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:34 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:46:34 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51b71783, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FF3B437AA5DAE8D17C6A20B079E42A7D], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:46:34 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:46:34 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51b71783, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FF3B437AA5DAE8D17C6A20B079E42A7D], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:34 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:46:34 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51b71783, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FF3B437AA5DAE8D17C6A20B079E42A7D], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:34 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51b71783, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FF3B437AA5DAE8D17C6A20B079E42A7D], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:34 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:46:34 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:46:34 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:46:34 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51b71783, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FF3B437AA5DAE8D17C6A20B079E42A7D], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:34 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 11:46:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:46:34 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:46:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:46:34 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51b71783, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FF3B437AA5DAE8D17C6A20B079E42A7D], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:34 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51b71783, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FF3B437AA5DAE8D17C6A20B079E42A7D], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:34 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51b71783, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FF3B437AA5DAE8D17C6A20B079E42A7D], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:46:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:46:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:46:34 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:46:34 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51b71783, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FF3B437AA5DAE8D17C6A20B079E42A7D], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:46:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:46:34 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@51b71783, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FF3B437AA5DAE8D17C6A20B079E42A7D], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:46:41 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:46:41 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 11:46:41 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 11:46:42 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 50027 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 11:46:42 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:46:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:46:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-11-13 11:46:43 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 11:46:43 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:46:43 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 11:46:43 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:46:43 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 637 ms
2024-11-13 11:46:43 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:46:43 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 11:46:43 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 11:46:43 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:46:43 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 11:46:43 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6f867b0c
2024-11-13 11:46:43 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 11:46:43 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 11:46:44 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 11:46:44 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@f252762] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 11:46:44 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:46:44 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:46:45 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 11:46:45 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:46:45 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 11:46:45 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:46:45 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:46:45 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@399ebdee, org.springframework.security.web.session.ForceEagerSessionCreationFilter@2b720a2c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21faf535, org.springframework.security.web.context.SecurityContextHolderFilter@192b9e35, org.springframework.security.web.header.HeaderWriterFilter@7c644bd5, org.springframework.web.filter.CorsFilter@5de993d, org.springframework.security.web.authentication.logout.LogoutFilter@f4915c7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2285f28b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61ae8f75, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6013565b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@49e335a5, org.springframework.security.web.session.SessionManagementFilter@16023bb2, org.springframework.security.web.access.ExceptionTranslationFilter@6bb37a5, org.springframework.security.web.access.intercept.AuthorizationFilter@3c06d119]
2024-11-13 11:46:45 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 11:46:45 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.936 seconds (process running for 3.217)
2024-11-13 11:46:47 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 11:46:47 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 11:46:47 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 11:46:47 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:46:47 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 11:46:47 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:46:47 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 226DB9A43A5E4DEF8629AB74DBDC9709
2024-11-13 11:46:47 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 11:46:47 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 11:46:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 11:46:47 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:46:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 11:46:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 11:46:49 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 11:46:49 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 11:46:49 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from D3647B19FC81D94B081DA807C9B38B25
2024-11-13 11:46:49 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@33dcbe0e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D3647B19FC81D94B081DA807C9B38B25], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@67939ae5]
2024-11-13 11:46:49 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@33dcbe0e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D3647B19FC81D94B081DA807C9B38B25], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 11:46:49 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 11:46:49 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 11:46:49 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@33dcbe0e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D3647B19FC81D94B081DA807C9B38B25], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:49 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 11:46:49 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:46:49 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:46:49 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:46:49 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:46:49 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:46:49 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 11:46:49 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:46:49 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:46:49 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:46:49 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@33dcbe0e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D3647B19FC81D94B081DA807C9B38B25], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:49 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@33dcbe0e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D3647B19FC81D94B081DA807C9B38B25], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:49 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:46:49 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:46:49 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:46:49 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@33dcbe0e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D3647B19FC81D94B081DA807C9B38B25], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:49 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:46:49 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@33dcbe0e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D3647B19FC81D94B081DA807C9B38B25], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:49 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:46:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:46:49 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@33dcbe0e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D3647B19FC81D94B081DA807C9B38B25], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:46:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:46:50 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@33dcbe0e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D3647B19FC81D94B081DA807C9B38B25], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 11:46:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:46:50 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@33dcbe0e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D3647B19FC81D94B081DA807C9B38B25], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:46:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:46:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:46:50 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@33dcbe0e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D3647B19FC81D94B081DA807C9B38B25], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:46:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:46:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:46:50 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@33dcbe0e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D3647B19FC81D94B081DA807C9B38B25], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:50 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@33dcbe0e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D3647B19FC81D94B081DA807C9B38B25], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:46:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:46:50 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@33dcbe0e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D3647B19FC81D94B081DA807C9B38B25], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:46:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:47:15 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:47:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 11:47:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 11:47:16 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 50084 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 11:47:16 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:47:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:47:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-11-13 11:47:17 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 11:47:17 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:47:17 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 11:47:17 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:47:17 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 648 ms
2024-11-13 11:47:17 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:47:17 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 11:47:17 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 11:47:17 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:47:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 11:47:17 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2aa6bbad
2024-11-13 11:47:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 11:47:17 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 11:47:18 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 11:47:18 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@f252762] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 11:47:18 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:47:18 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:47:19 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 11:47:19 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:47:19 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 11:47:19 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:47:19 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:47:19 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@238d045a, org.springframework.security.web.session.ForceEagerSessionCreationFilter@1706a95b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55d41b85, org.springframework.security.web.context.SecurityContextHolderFilter@695dc0e6, org.springframework.security.web.header.HeaderWriterFilter@2fc6e673, org.springframework.web.filter.CorsFilter@567400fb, org.springframework.security.web.authentication.logout.LogoutFilter@619ef9cb, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1c078351, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d51de61, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e68d8f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1d1071bb, org.springframework.security.web.session.SessionManagementFilter@1a8b7423, org.springframework.security.web.access.ExceptionTranslationFilter@76dc6191, org.springframework.security.web.access.intercept.AuthorizationFilter@f4915c7]
2024-11-13 11:47:19 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 11:47:19 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.912 seconds (process running for 3.193)
2024-11-13 11:47:43 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 11:47:43 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 11:47:43 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 11:47:43 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:47:43 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 11:47:43 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:47:43 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 47E59D6706737B991E3DA8E7F0E3CEBB
2024-11-13 11:47:43 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 11:47:43 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 11:47:43 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 11:47:43 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:47:43 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 11:47:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 11:47:45 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 11:47:45 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 11:47:45 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 52770251FCB29F67FA4ECFE833CACE68
2024-11-13 11:47:45 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@511462ce, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=52770251FCB29F67FA4ECFE833CACE68], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@1ecf1d5]
2024-11-13 11:47:45 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@511462ce, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=52770251FCB29F67FA4ECFE833CACE68], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 11:47:45 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 11:47:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 11:47:45 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@511462ce, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=52770251FCB29F67FA4ECFE833CACE68], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:47:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 11:47:45 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:47:45 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:47:45 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:47:45 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:47:45 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:47:45 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 11:47:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:47:45 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:47:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:47:45 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:47:45 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:47:45 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@511462ce, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=52770251FCB29F67FA4ECFE833CACE68], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:47:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:47:45 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@511462ce, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=52770251FCB29F67FA4ECFE833CACE68], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:47:45 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@511462ce, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=52770251FCB29F67FA4ECFE833CACE68], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:47:45 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:47:45 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:47:45 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@511462ce, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=52770251FCB29F67FA4ECFE833CACE68], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:47:45 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@511462ce, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=52770251FCB29F67FA4ECFE833CACE68], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:47:45 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:47:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:47:46 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:47:46 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@511462ce, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=52770251FCB29F67FA4ECFE833CACE68], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:47:46 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 11:47:46 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:47:46 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:47:46 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:47:46 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:47:46 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:47:46 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@511462ce, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=52770251FCB29F67FA4ECFE833CACE68], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:47:46 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@511462ce, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=52770251FCB29F67FA4ECFE833CACE68], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:47:46 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:47:46 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@511462ce, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=52770251FCB29F67FA4ECFE833CACE68], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:47:46 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:47:46 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:47:46 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@511462ce, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=52770251FCB29F67FA4ECFE833CACE68], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:47:46 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@511462ce, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=52770251FCB29F67FA4ECFE833CACE68], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:47:46 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:47:46 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:47:51 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:47:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 11:47:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 11:47:52 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 50141 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 11:47:52 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:47:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:47:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2024-11-13 11:47:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 11:47:53 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:47:53 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 11:47:53 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:47:53 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 636 ms
2024-11-13 11:47:53 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:47:53 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 11:47:53 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 11:47:53 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:47:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 11:47:53 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3356ff58
2024-11-13 11:47:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 11:47:53 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 11:47:54 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 11:47:54 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@6686507b] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 11:47:54 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:47:54 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:47:54 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 11:47:54 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:47:54 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 11:47:54 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:47:54 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:47:55 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@504862b5, org.springframework.security.web.session.ForceEagerSessionCreationFilter@622168f7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@39211108, org.springframework.security.web.context.SecurityContextHolderFilter@3dc67c9e, org.springframework.security.web.header.HeaderWriterFilter@38e6dab2, org.springframework.web.filter.CorsFilter@f4915c7, org.springframework.security.web.authentication.logout.LogoutFilter@495b3b23, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6603f03d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@58f7544c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21826d78, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1c078351, org.springframework.security.web.session.SessionManagementFilter@2de5bb6e, org.springframework.security.web.access.ExceptionTranslationFilter@44b5a87a, org.springframework.security.web.access.intercept.AuthorizationFilter@3bf66f94]
2024-11-13 11:47:55 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 11:47:55 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.925 seconds (process running for 3.212)
2024-11-13 11:47:56 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 11:47:56 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 11:47:56 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 11:47:56 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:47:56 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 11:47:56 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:47:56 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 51D73440B451FEB44A9C9CD7B4FD11B3
2024-11-13 11:47:56 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 11:47:56 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 11:47:56 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 11:47:56 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:47:56 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 11:47:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 11:47:57 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 11:47:57 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 11:47:57 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from E4015E5FDE5BC5E316D1DD63D63F6C1E
2024-11-13 11:47:57 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5680e0b6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E4015E5FDE5BC5E316D1DD63D63F6C1E], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@2de4690]
2024-11-13 11:47:57 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5680e0b6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E4015E5FDE5BC5E316D1DD63D63F6C1E], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 11:47:57 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 11:47:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 11:47:57 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5680e0b6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E4015E5FDE5BC5E316D1DD63D63F6C1E], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:47:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 11:47:57 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:47:57 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:47:57 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:47:57 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:47:57 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:47:57 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 11:47:58 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:47:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:47:58 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:47:58 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:47:58 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5680e0b6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E4015E5FDE5BC5E316D1DD63D63F6C1E], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:47:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:47:58 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5680e0b6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E4015E5FDE5BC5E316D1DD63D63F6C1E], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:47:58 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5680e0b6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E4015E5FDE5BC5E316D1DD63D63F6C1E], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:47:58 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:47:58 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5680e0b6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E4015E5FDE5BC5E316D1DD63D63F6C1E], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:47:58 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:47:58 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:47:58 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:47:58 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5680e0b6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E4015E5FDE5BC5E316D1DD63D63F6C1E], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:47:58 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:47:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:47:59 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5680e0b6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E4015E5FDE5BC5E316D1DD63D63F6C1E], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:47:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 11:47:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:47:59 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5680e0b6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E4015E5FDE5BC5E316D1DD63D63F6C1E], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:47:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:47:59 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:47:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:47:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:47:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:47:59 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5680e0b6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E4015E5FDE5BC5E316D1DD63D63F6C1E], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:47:59 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:47:59 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5680e0b6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E4015E5FDE5BC5E316D1DD63D63F6C1E], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:47:59 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5680e0b6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E4015E5FDE5BC5E316D1DD63D63F6C1E], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:47:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:47:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:47:59 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5680e0b6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E4015E5FDE5BC5E316D1DD63D63F6C1E], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:47:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:48:14 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:48:14 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 11:48:14 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 11:48:15 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 50187 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 11:48:15 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:48:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:48:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 6 JPA repository interfaces.
2024-11-13 11:48:16 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 11:48:16 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:48:16 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 11:48:16 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:48:16 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 650 ms
2024-11-13 11:48:16 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:48:16 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 11:48:16 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 11:48:16 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:48:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 11:48:16 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@376af784
2024-11-13 11:48:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 11:48:16 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 11:48:17 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 11:48:17 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@758311ed] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 11:48:17 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:48:17 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:48:17 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 11:48:17 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:48:17 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 11:48:17 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:48:17 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:48:18 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1706a95b, org.springframework.security.web.session.ForceEagerSessionCreationFilter@55d41b85, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@567400fb, org.springframework.security.web.context.SecurityContextHolderFilter@4b145278, org.springframework.security.web.header.HeaderWriterFilter@f4e4cb2, org.springframework.web.filter.CorsFilter@1d1071bb, org.springframework.security.web.authentication.logout.LogoutFilter@5f2eeb2e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@758836f6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e68d8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6bb37a5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3f7e5f33, org.springframework.security.web.session.SessionManagementFilter@4d8decd1, org.springframework.security.web.access.ExceptionTranslationFilter@67c602e9, org.springframework.security.web.access.intercept.AuthorizationFilter@1c078351]
2024-11-13 11:48:18 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 11:48:18 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.944 seconds (process running for 3.218)
2024-11-13 11:48:19 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:48:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 11:48:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 11:48:20 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 50204 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 11:48:20 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:48:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:48:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-11-13 11:48:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 11:48:21 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:48:21 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 11:48:21 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:48:21 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 638 ms
2024-11-13 11:48:21 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:48:21 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 11:48:21 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 11:48:21 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:48:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 11:48:21 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2a6fb62f
2024-11-13 11:48:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 11:48:21 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 11:48:22 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 11:48:22 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@69356aca] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 11:48:22 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:48:22 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:48:22 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 11:48:22 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:48:22 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 11:48:22 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:48:22 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:48:23 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@54eda0bb, org.springframework.security.web.session.ForceEagerSessionCreationFilter@41ad5874, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3bf66f94, org.springframework.security.web.context.SecurityContextHolderFilter@2eb4a3ec, org.springframework.security.web.header.HeaderWriterFilter@47127c29, org.springframework.web.filter.CorsFilter@7b88b0d6, org.springframework.security.web.authentication.logout.LogoutFilter@695dc0e6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@65028252, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@44fa2df3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2de5bb6e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@42593f64, org.springframework.security.web.session.SessionManagementFilter@faca8e8, org.springframework.security.web.access.ExceptionTranslationFilter@5c0ae317, org.springframework.security.web.access.intercept.AuthorizationFilter@192b9e35]
2024-11-13 11:48:23 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 11:48:23 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 3.03 seconds (process running for 3.317)
2024-11-13 11:48:35 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 11:48:35 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 11:48:35 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 11:48:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:48:35 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 11:48:35 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:48:35 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E0AA8F09A98649215E6DC9568AB00440
2024-11-13 11:48:35 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 11:48:35 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 11:48:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 11:48:35 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:48:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 11:48:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 11:48:36 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 11:48:36 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 11:48:36 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 5EE3440C3C512B1225F05BE38505CBA4
2024-11-13 11:48:36 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1b4930c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5EE3440C3C512B1225F05BE38505CBA4], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@7a4566f3]
2024-11-13 11:48:36 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1b4930c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5EE3440C3C512B1225F05BE38505CBA4], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 11:48:36 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 11:48:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 11:48:36 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1b4930c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5EE3440C3C512B1225F05BE38505CBA4], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:48:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 11:48:36 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:48:36 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:48:36 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:48:36 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:48:36 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:48:36 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 11:48:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:48:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:48:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:48:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:48:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:48:36 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1b4930c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5EE3440C3C512B1225F05BE38505CBA4], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:48:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:48:36 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1b4930c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5EE3440C3C512B1225F05BE38505CBA4], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:48:36 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1b4930c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5EE3440C3C512B1225F05BE38505CBA4], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:48:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:48:36 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1b4930c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5EE3440C3C512B1225F05BE38505CBA4], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:48:36 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1b4930c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5EE3440C3C512B1225F05BE38505CBA4], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:48:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:48:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:48:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:48:37 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:48:37 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1b4930c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5EE3440C3C512B1225F05BE38505CBA4], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:48:37 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 11:48:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:48:37 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:48:37 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:48:37 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:48:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:48:37 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1b4930c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5EE3440C3C512B1225F05BE38505CBA4], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:48:37 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1b4930c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5EE3440C3C512B1225F05BE38505CBA4], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:48:37 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:48:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:48:37 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1b4930c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5EE3440C3C512B1225F05BE38505CBA4], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:48:37 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1b4930c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5EE3440C3C512B1225F05BE38505CBA4], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:48:37 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1b4930c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5EE3440C3C512B1225F05BE38505CBA4], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:48:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:48:37 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:48:37 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:48:55 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:48:55 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 11:48:55 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 11:48:56 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 50264 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 11:48:56 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:48:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:48:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-11-13 11:48:57 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 11:48:57 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:48:57 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 11:48:57 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:48:57 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 651 ms
2024-11-13 11:48:57 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:48:57 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 11:48:57 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 11:48:57 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:48:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 11:48:57 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@48a46b0f
2024-11-13 11:48:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 11:48:57 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 11:48:58 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 11:48:58 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@c14bbab] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 11:48:58 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:48:58 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:48:59 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 11:48:59 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:48:59 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 11:48:59 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:48:59 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:48:59 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@622168f7, org.springframework.security.web.session.ForceEagerSessionCreationFilter@39211108, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f4915c7, org.springframework.security.web.context.SecurityContextHolderFilter@67c602e9, org.springframework.security.web.header.HeaderWriterFilter@21826d78, org.springframework.web.filter.CorsFilter@1c078351, org.springframework.security.web.authentication.logout.LogoutFilter@250cb65a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@8075b90, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f4e4cb2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a8b7423, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@758836f6, org.springframework.security.web.session.SessionManagementFilter@7ffdded5, org.springframework.security.web.access.ExceptionTranslationFilter@353cb7e5, org.springframework.security.web.access.intercept.AuthorizationFilter@6603f03d]
2024-11-13 11:48:59 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 11:48:59 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.931 seconds (process running for 3.211)
2024-11-13 11:49:03 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:49:03 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 11:49:03 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 11:49:04 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 50285 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 11:49:04 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:49:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:49:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-11-13 11:49:05 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 11:49:05 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:49:05 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 11:49:05 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:49:05 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 645 ms
2024-11-13 11:49:05 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:49:05 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 11:49:05 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 11:49:05 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:49:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 11:49:05 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6f867b0c
2024-11-13 11:49:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 11:49:05 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 11:49:06 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 11:49:06 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5b74bb75] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 11:49:06 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:49:06 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:49:07 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 11:49:07 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:49:07 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 11:49:07 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:49:07 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:49:07 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@622168f7, org.springframework.security.web.session.ForceEagerSessionCreationFilter@39211108, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f4915c7, org.springframework.security.web.context.SecurityContextHolderFilter@67c602e9, org.springframework.security.web.header.HeaderWriterFilter@21826d78, org.springframework.web.filter.CorsFilter@1c078351, org.springframework.security.web.authentication.logout.LogoutFilter@250cb65a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@8075b90, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f4e4cb2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a8b7423, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@758836f6, org.springframework.security.web.session.SessionManagementFilter@7ffdded5, org.springframework.security.web.access.ExceptionTranslationFilter@353cb7e5, org.springframework.security.web.access.intercept.AuthorizationFilter@6603f03d]
2024-11-13 11:49:07 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 11:49:07 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.999 seconds (process running for 3.285)
2024-11-13 11:49:08 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 11:49:08 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 11:49:08 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 11:49:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:49:08 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 11:49:08 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:49:08 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 781FEB691E93D8D7680457D17A074A76
2024-11-13 11:49:08 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 11:49:08 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 11:49:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 11:49:08 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:49:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 11:49:10 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 11:49:10 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 11:49:10 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 11:49:10 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from C4D8A12F9A935EEE99E71477305C65EE
2024-11-13 11:49:10 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c48de52, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C4D8A12F9A935EEE99E71477305C65EE], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@21061d5f]
2024-11-13 11:49:10 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c48de52, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C4D8A12F9A935EEE99E71477305C65EE], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 11:49:10 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 11:49:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 11:49:10 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c48de52, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C4D8A12F9A935EEE99E71477305C65EE], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:49:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 11:49:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:49:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:49:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:49:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:49:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:49:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 11:49:10 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:49:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:49:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:49:10 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c48de52, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C4D8A12F9A935EEE99E71477305C65EE], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:49:10 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:49:10 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c48de52, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C4D8A12F9A935EEE99E71477305C65EE], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:49:10 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:49:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:49:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:49:10 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c48de52, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C4D8A12F9A935EEE99E71477305C65EE], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:49:10 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c48de52, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C4D8A12F9A935EEE99E71477305C65EE], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:49:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:49:10 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:49:10 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c48de52, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C4D8A12F9A935EEE99E71477305C65EE], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:49:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:49:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:49:12 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c48de52, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C4D8A12F9A935EEE99E71477305C65EE], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:49:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 11:49:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:49:12 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c48de52, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C4D8A12F9A935EEE99E71477305C65EE], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:49:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:49:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:49:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:49:12 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c48de52, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C4D8A12F9A935EEE99E71477305C65EE], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:49:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:49:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:49:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c48de52, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C4D8A12F9A935EEE99E71477305C65EE], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:49:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:49:12 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c48de52, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C4D8A12F9A935EEE99E71477305C65EE], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:49:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:49:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:49:12 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@5c48de52, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C4D8A12F9A935EEE99E71477305C65EE], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:49:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:49:46 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:49:46 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 11:49:46 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 11:49:47 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 50350 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 11:49:47 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:49:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:49:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2024-11-13 11:49:48 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 11:49:48 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:49:48 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 11:49:48 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:49:48 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 671 ms
2024-11-13 11:49:48 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:49:48 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 11:49:48 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 11:49:48 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:49:48 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 11:49:49 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@65e4cb84
2024-11-13 11:49:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 11:49:49 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 11:49:49 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 11:49:49 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5e6bbe63] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 11:49:49 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:49:49 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:49:50 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 11:49:50 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:49:50 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 11:49:50 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:49:50 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:49:50 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7c644bd5, org.springframework.security.web.session.ForceEagerSessionCreationFilter@495b3b23, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@16023bb2, org.springframework.security.web.context.SecurityContextHolderFilter@664d4ee1, org.springframework.security.web.header.HeaderWriterFilter@4f3891db, org.springframework.web.filter.CorsFilter@50859a18, org.springframework.security.web.authentication.logout.LogoutFilter@7ffdded5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1d51de61, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e82188, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c0ae317, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ee1493e, org.springframework.security.web.session.SessionManagementFilter@5dc5a622, org.springframework.security.web.access.ExceptionTranslationFilter@926d264, org.springframework.security.web.access.intercept.AuthorizationFilter@4b145278]
2024-11-13 11:49:50 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 11:49:50 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.954 seconds (process running for 3.237)
2024-11-13 11:49:52 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 11:49:52 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 11:49:52 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 11:49:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:49:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 11:49:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:49:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E117BF84577366F8459A16B5C831B0AA
2024-11-13 11:49:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 11:49:52 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 11:49:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 11:49:52 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:49:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 11:49:53 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 11:49:53 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 11:49:54 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 11:49:54 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from A4C5C19265B5B2C1288B653581D3A5B8
2024-11-13 11:49:54 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@463743a9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A4C5C19265B5B2C1288B653581D3A5B8], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@4ba89ee8]
2024-11-13 11:49:54 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@463743a9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A4C5C19265B5B2C1288B653581D3A5B8], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 11:49:54 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 11:49:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 11:49:54 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@463743a9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A4C5C19265B5B2C1288B653581D3A5B8], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:49:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 11:49:54 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:49:54 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:49:54 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:49:54 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:49:54 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:49:54 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 11:49:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:49:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:49:54 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@463743a9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A4C5C19265B5B2C1288B653581D3A5B8], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:49:54 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@463743a9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A4C5C19265B5B2C1288B653581D3A5B8], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:49:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:49:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:49:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:49:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:49:54 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@463743a9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A4C5C19265B5B2C1288B653581D3A5B8], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:49:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:49:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:49:54 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@463743a9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A4C5C19265B5B2C1288B653581D3A5B8], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:49:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:49:54 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@463743a9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A4C5C19265B5B2C1288B653581D3A5B8], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:49:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:49:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:49:54 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@463743a9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A4C5C19265B5B2C1288B653581D3A5B8], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:49:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 11:49:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:49:54 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@463743a9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A4C5C19265B5B2C1288B653581D3A5B8], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:49:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:49:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:49:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:49:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:49:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:49:54 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@463743a9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A4C5C19265B5B2C1288B653581D3A5B8], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:49:54 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@463743a9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A4C5C19265B5B2C1288B653581D3A5B8], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:49:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:49:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:49:54 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@463743a9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A4C5C19265B5B2C1288B653581D3A5B8], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:49:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:49:54 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@463743a9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A4C5C19265B5B2C1288B653581D3A5B8], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:49:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:50:10 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:50:10 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 11:50:10 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 11:50:11 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 50396 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 11:50:11 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:50:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:50:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-11-13 11:50:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 11:50:12 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:50:12 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 11:50:12 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:50:12 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 626 ms
2024-11-13 11:50:12 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:50:12 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 11:50:12 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 11:50:12 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:50:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 11:50:12 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@376af784
2024-11-13 11:50:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 11:50:12 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 11:50:13 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 11:50:13 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@9ae0794] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 11:50:13 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:50:13 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:50:13 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 11:50:13 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:50:13 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 11:50:13 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 11:50:13 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:50:14 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7538033f, org.springframework.security.web.session.ForceEagerSessionCreationFilter@25a65e20, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@c5a82d6, org.springframework.security.web.context.SecurityContextHolderFilter@16023bb2, org.springframework.security.web.header.HeaderWriterFilter@1d51de61, org.springframework.web.filter.CorsFilter@7bdc5700, org.springframework.security.web.authentication.logout.LogoutFilter@39211108, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5de993d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ee1493e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e73e9e2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4e4892bf, org.springframework.security.web.session.SessionManagementFilter@6bb37a5, org.springframework.security.web.access.ExceptionTranslationFilter@695dc0e6, org.springframework.security.web.access.intercept.AuthorizationFilter@4a83736a]
2024-11-13 11:50:14 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 11:50:14 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.913 seconds (process running for 3.213)
2024-11-13 11:50:18 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 11:50:18 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 11:50:18 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 11:50:18 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:50:18 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 11:50:18 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:50:18 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 21E3938C1E3CA533408615B08B8DA0B7
2024-11-13 11:50:18 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 11:50:18 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 11:50:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 11:50:18 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 11:50:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 11:50:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 11:50:19 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 11:50:19 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 11:50:19 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 975FF73FBD3C63CAA073653755BC33E0
2024-11-13 11:50:19 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3f2c8e32, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=975FF73FBD3C63CAA073653755BC33E0], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@6e329924]
2024-11-13 11:50:19 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3f2c8e32, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=975FF73FBD3C63CAA073653755BC33E0], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 11:50:19 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 11:50:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 11:50:19 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3f2c8e32, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=975FF73FBD3C63CAA073653755BC33E0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:50:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 11:50:19 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:50:19 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:50:19 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:50:19 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 11:50:19 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 11:50:19 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 11:50:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:50:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:50:19 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3f2c8e32, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=975FF73FBD3C63CAA073653755BC33E0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:50:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 11:50:19 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:50:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:50:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:50:19 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3f2c8e32, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=975FF73FBD3C63CAA073653755BC33E0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:50:19 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3f2c8e32, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=975FF73FBD3C63CAA073653755BC33E0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:50:19 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:50:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:50:19 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3f2c8e32, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=975FF73FBD3C63CAA073653755BC33E0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:50:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:50:19 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3f2c8e32, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=975FF73FBD3C63CAA073653755BC33E0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:50:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:50:19 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 11:50:19 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3f2c8e32, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=975FF73FBD3C63CAA073653755BC33E0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:50:19 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 11:50:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 11:50:20 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3f2c8e32, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=975FF73FBD3C63CAA073653755BC33E0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:50:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 11:50:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 11:50:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 11:50:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 11:50:20 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3f2c8e32, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=975FF73FBD3C63CAA073653755BC33E0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:50:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 11:50:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 11:50:20 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3f2c8e32, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=975FF73FBD3C63CAA073653755BC33E0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:50:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 11:50:20 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3f2c8e32, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=975FF73FBD3C63CAA073653755BC33E0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:50:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 11:50:20 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@3f2c8e32, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=975FF73FBD3C63CAA073653755BC33E0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 11:50:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 12:18:24 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=25m41s937ms).
2024-11-13 12:35:42 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m47s447ms).
2024-11-13 13:08:23 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 13:08:23 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 13:08:23 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 13:08:24 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 53266 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 13:08:24 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 13:08:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 13:08:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2024-11-13 13:08:25 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 13:08:25 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 13:08:25 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 13:08:25 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 13:08:25 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 646 ms
2024-11-13 13:08:25 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 13:08:25 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 13:08:25 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 13:08:25 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 13:08:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 13:08:25 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5e0f2c82
2024-11-13 13:08:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 13:08:25 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 13:08:26 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 13:08:26 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@69356aca] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 13:08:26 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 13:08:26 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 13:08:27 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 13:08:27 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 13:08:27 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 13:08:27 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 13:08:27 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 13:08:27 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@619ef9cb, org.springframework.security.web.session.ForceEagerSessionCreationFilter@5f2eeb2e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54875db0, org.springframework.security.web.context.SecurityContextHolderFilter@3df88e84, org.springframework.security.web.header.HeaderWriterFilter@5c0ae317, org.springframework.web.filter.CorsFilter@581aef2a, org.springframework.security.web.authentication.logout.LogoutFilter@7c644bd5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3bf66f94, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@353cb7e5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@58f7544c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4e5c0543, org.springframework.security.web.session.SessionManagementFilter@47127c29, org.springframework.security.web.access.ExceptionTranslationFilter@28e7fbc4, org.springframework.security.web.access.intercept.AuthorizationFilter@41ad5874]
2024-11-13 13:08:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 13:08:27 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.961 seconds (process running for 3.257)
2024-11-13 13:08:29 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 13:08:29 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 13:08:29 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 13:08:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 13:08:29 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 13:08:29 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 13:08:29 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B8066462D7C03204571D1B45B36651B6
2024-11-13 13:08:29 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 13:08:29 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 13:08:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 13:08:29 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 13:08:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 13:08:31 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 13:08:31 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 13:08:31 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 13:08:31 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from E984130CD23695460A67FBC649D32C22
2024-11-13 13:08:31 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@339d5c10, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E984130CD23695460A67FBC649D32C22], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@2a2728c4]
2024-11-13 13:08:31 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@339d5c10, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E984130CD23695460A67FBC649D32C22], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 13:08:31 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 13:08:31 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 13:08:31 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@339d5c10, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E984130CD23695460A67FBC649D32C22], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:08:31 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 13:08:31 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 13:08:31 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 13:08:31 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 13:08:31 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 13:08:31 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 13:08:31 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 13:08:31 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 13:08:31 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 13:08:31 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@339d5c10, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E984130CD23695460A67FBC649D32C22], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:08:31 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@339d5c10, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E984130CD23695460A67FBC649D32C22], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:08:31 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 13:08:31 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 13:08:31 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 13:08:31 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 13:08:31 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 13:08:31 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@339d5c10, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E984130CD23695460A67FBC649D32C22], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:08:31 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 13:08:31 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@339d5c10, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E984130CD23695460A67FBC649D32C22], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:08:31 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@339d5c10, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E984130CD23695460A67FBC649D32C22], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:08:31 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 13:08:31 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 13:08:32 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 13:08:32 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@339d5c10, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E984130CD23695460A67FBC649D32C22], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:08:32 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 13:08:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 13:08:32 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@339d5c10, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E984130CD23695460A67FBC649D32C22], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:08:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 13:08:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 13:08:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 13:08:32 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 13:08:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 13:08:32 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@339d5c10, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E984130CD23695460A67FBC649D32C22], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:08:32 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@339d5c10, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E984130CD23695460A67FBC649D32C22], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:08:32 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@339d5c10, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E984130CD23695460A67FBC649D32C22], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:08:32 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 13:08:32 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@339d5c10, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E984130CD23695460A67FBC649D32C22], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:08:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 13:08:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 13:08:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 13:08:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deal-info/2
2024-11-13 13:08:34 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@339d5c10, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E984130CD23695460A67FBC649D32C22], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:08:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deal-info/2
2024-11-13 13:08:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 13:08:36 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@339d5c10, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E984130CD23695460A67FBC649D32C22], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:08:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 13:09:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deal-info/1
2024-11-13 13:09:19 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@339d5c10, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E984130CD23695460A67FBC649D32C22], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:09:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deal-info/1
2024-11-13 13:09:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statuses/1
2024-11-13 13:09:21 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@339d5c10, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E984130CD23695460A67FBC649D32C22], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:09:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statuses/1
2024-11-13 13:09:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /saveStatus/1
2024-11-13 13:09:26 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@339d5c10, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E984130CD23695460A67FBC649D32C22], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:09:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /saveStatus/1
2024-11-13 13:09:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statuses/1
2024-11-13 13:09:26 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@339d5c10, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E984130CD23695460A67FBC649D32C22], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:09:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statuses/1
2024-11-13 13:09:27 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals?
2024-11-13 13:09:27 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@339d5c10, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E984130CD23695460A67FBC649D32C22], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:09:27 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals?
2024-11-13 13:09:27 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 13:09:27 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@339d5c10, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E984130CD23695460A67FBC649D32C22], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:09:27 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 13:09:27 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 13:09:27 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@339d5c10, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E984130CD23695460A67FBC649D32C22], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:09:27 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 13:09:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 13:09:27 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@339d5c10, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E984130CD23695460A67FBC649D32C22], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:09:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 13:09:27 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 13:09:27 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 13:09:27 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@339d5c10, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E984130CD23695460A67FBC649D32C22], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:09:27 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 13:09:27 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@339d5c10, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E984130CD23695460A67FBC649D32C22], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:09:27 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 13:11:37 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 13:11:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 13:11:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-13 13:11:39 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 53520 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-11-13 13:11:39 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-11-13 13:11:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 13:11:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-11-13 13:11:40 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-13 13:11:40 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 13:11:40 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-11-13 13:11:40 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 13:11:40 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 788 ms
2024-11-13 13:11:40 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 13:11:40 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-11-13 13:11:40 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-11-13 13:11:40 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 13:11:40 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-13 13:11:40 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@9f9146d
2024-11-13 13:11:40 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-13 13:11:40 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-13 13:11:41 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-13 13:11:41 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2d33795c] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-11-13 13:11:41 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 13:11:41 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 13:11:41 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-11-13 13:11:41 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 13:11:41 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-11-13 13:11:41 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-13 13:11:41 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 13:11:42 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1d1071bb, org.springframework.security.web.session.ForceEagerSessionCreationFilter@3f7e5f33, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4a83736a, org.springframework.security.web.context.SecurityContextHolderFilter@6bb37a5, org.springframework.security.web.header.HeaderWriterFilter@55607e6d, org.springframework.web.filter.CorsFilter@3c06d119, org.springframework.security.web.authentication.logout.LogoutFilter@4e5c0543, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@238d045a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c644bd5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@495b3b23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2285f28b, org.springframework.security.web.session.SessionManagementFilter@695dc0e6, org.springframework.security.web.access.ExceptionTranslationFilter@1a8b7423, org.springframework.security.web.access.intercept.AuthorizationFilter@3b00276]
2024-11-13 13:11:42 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-11-13 13:11:42 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 3.113 seconds (process running for 3.413)
2024-11-13 13:11:42 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 13:11:42 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 13:11:42 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 13:11:42 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals?
2024-11-13 13:11:42 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 13:11:42 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 13:11:42 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 1228E84735645AED3B8A07496E674E11
2024-11-13 13:11:42 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/deals?continue to session
2024-11-13 13:11:42 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/login
2024-11-13 13:11:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-11-13 13:11:42 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 13:11:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-11-13 13:11:44 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 13:11:44 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-11-13 13:11:44 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 13:11:44 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 544027F2ECFD40FC14EEF71A5417F2F0
2024-11-13 13:11:44 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d2769f1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=544027F2ECFD40FC14EEF71A5417F2F0], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@7cb0e39d]
2024-11-13 13:11:44 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d2769f1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=544027F2ECFD40FC14EEF71A5417F2F0], Granted Authorities=[ROLE_ADMIN]]
2024-11-13 13:11:44 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 13:11:44 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 13:11:44 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d2769f1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=544027F2ECFD40FC14EEF71A5417F2F0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:11:44 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 13:11:44 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 13:11:44 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 13:11:44 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 13:11:44 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 13:11:44 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 13:11:44 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-11-13 13:11:44 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 13:11:44 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 13:11:44 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 13:11:44 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d2769f1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=544027F2ECFD40FC14EEF71A5417F2F0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:11:44 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 13:11:44 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 13:11:44 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d2769f1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=544027F2ECFD40FC14EEF71A5417F2F0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:11:44 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 13:11:44 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 13:11:44 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d2769f1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=544027F2ECFD40FC14EEF71A5417F2F0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:11:44 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d2769f1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=544027F2ECFD40FC14EEF71A5417F2F0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:11:44 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 13:11:44 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 13:11:44 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d2769f1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=544027F2ECFD40FC14EEF71A5417F2F0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:11:44 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 13:11:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 13:11:45 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d2769f1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=544027F2ECFD40FC14EEF71A5417F2F0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:11:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 13:11:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-11-13 13:11:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 13:11:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 13:11:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 13:11:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-11-13 13:11:45 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d2769f1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=544027F2ECFD40FC14EEF71A5417F2F0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:11:45 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d2769f1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=544027F2ECFD40FC14EEF71A5417F2F0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:11:45 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d2769f1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=544027F2ECFD40FC14EEF71A5417F2F0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:11:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 13:11:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-11-13 13:11:45 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d2769f1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=544027F2ECFD40FC14EEF71A5417F2F0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:11:45 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d2769f1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=544027F2ECFD40FC14EEF71A5417F2F0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:11:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 13:11:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-11-13 13:11:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 13:12:17 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /logout
2024-11-13 13:12:17 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d2769f1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=544027F2ECFD40FC14EEF71A5417F2F0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:12:17 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.logout.LogoutFilter - Logging out [UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1d2769f1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=544027F2ECFD40FC14EEF71A5417F2F0], Granted Authorities=[ROLE_ADMIN]]]
2024-11-13 13:12:17 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.l.SecurityContextLogoutHandler - Invalidated session D73EBF49C03AAC0F5C8054712638BCDC
2024-11-13 13:12:17 [http-nio-8080-exec-6] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /login?logout
2024-11-13 13:12:17 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login?logout
2024-11-13 13:12:17 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-11-13 13:12:17 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-11-13 13:12:17 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id D73EBF49C03AAC0F5C8054712638BCDC
2024-11-13 13:12:17 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login?logout
2024-11-13 13:12:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-11-13 13:12:21 [http-nio-8080-exec-8] INFO  c.e.f.s.CustomUserDetailsService - User found: work@gmail.com
2024-11-13 13:12:21 [http-nio-8080-exec-8] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-11-13 13:12:21 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from AD876676AAA8721C4959596A10D68EF7
2024-11-13 13:12:21 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@2fbcb721, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=AD876676AAA8721C4959596A10D68EF7], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@2f7154ea]
2024-11-13 13:12:21 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@2fbcb721, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=AD876676AAA8721C4959596A10D68EF7], Granted Authorities=[ROLE_USER]]
2024-11-13 13:12:21 [http-nio-8080-exec-8] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-11-13 13:12:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-11-13 13:12:21 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@2fbcb721, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=AD876676AAA8721C4959596A10D68EF7], Granted Authorities=[ROLE_USER]]]
2024-11-13 13:12:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-11-13 13:12:21 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-11-13 13:12:21 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-11-13 13:12:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 13:12:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 13:12:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 13:12:21 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@2fbcb721, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=AD876676AAA8721C4959596A10D68EF7], Granted Authorities=[ROLE_USER]]]
2024-11-13 13:12:21 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@2fbcb721, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=AD876676AAA8721C4959596A10D68EF7], Granted Authorities=[ROLE_USER]]]
2024-11-13 13:12:21 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@2fbcb721, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=AD876676AAA8721C4959596A10D68EF7], Granted Authorities=[ROLE_USER]]]
2024-11-13 13:12:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 13:12:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 13:12:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 13:12:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-11-13 13:12:22 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@2fbcb721, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=AD876676AAA8721C4959596A10D68EF7], Granted Authorities=[ROLE_USER]]]
2024-11-13 13:12:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-11-13 13:12:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-11-13 13:12:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-11-13 13:12:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/home.svg
2024-11-13 13:12:22 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@2fbcb721, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=AD876676AAA8721C4959596A10D68EF7], Granted Authorities=[ROLE_USER]]]
2024-11-13 13:12:22 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@2fbcb721, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=AD876676AAA8721C4959596A10D68EF7], Granted Authorities=[ROLE_USER]]]
2024-11-13 13:12:22 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@2fbcb721, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=AD876676AAA8721C4959596A10D68EF7], Granted Authorities=[ROLE_USER]]]
2024-11-13 13:12:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-11-13 13:12:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-11-13 13:12:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/home.svg
2024-11-13 13:12:50 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 13:12:50 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-13 13:12:50 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
