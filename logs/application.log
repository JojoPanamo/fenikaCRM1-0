2024-10-31 07:15:10 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 32258 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 07:15:10 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 07:15:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 07:15:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2024-10-31 07:15:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 07:15:11 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 07:15:11 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 07:15:11 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 07:15:11 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 676 ms
2024-10-31 07:15:11 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 07:15:11 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 07:15:11 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 07:15:11 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 07:15:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 07:15:11 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1a17dd6f
2024-10-31 07:15:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 07:15:11 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 07:15:12 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 07:15:12 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5b74bb75] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 07:15:12 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 07:15:12 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 07:15:12 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 07:15:12 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2c002f95, org.springframework.security.web.session.ForceEagerSessionCreationFilter@5f5efbfc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@317c16bd, org.springframework.security.web.context.SecurityContextHolderFilter@24ccf6a8, org.springframework.security.web.header.HeaderWriterFilter@1d302061, org.springframework.web.filter.CorsFilter@6736c73e, org.springframework.security.web.authentication.logout.LogoutFilter@676aec4c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5981b51, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5308c994, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f6f6223, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ae730ca, org.springframework.security.web.session.SessionManagementFilter@4a716a73, org.springframework.security.web.access.ExceptionTranslationFilter@599e81bd, org.springframework.security.web.access.intercept.AuthorizationFilter@66b09935]
2024-10-31 07:15:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 07:15:13 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.951 seconds (process running for 3.33)
2024-10-31 07:15:19 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 07:15:19 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 07:15:19 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 07:15:39 [http-nio-8080-exec-4] INFO  c.e.f.s.CustomUserDetailsService - User found: stroy.live@mail.ru
2024-10-31 07:15:39 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 07:15:39 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 07:15:39 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 07:15:39 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 07:15:39 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 07:15:39 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 07:15:39 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 07:15:39 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 07:15:39 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 07:15:39 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 07:15:39 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 07:15:39 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 07:15:45 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 07:15:45 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 07:15:45 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 07:15:45 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 07:15:45 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 07:15:45 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 07:15:45 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 07:15:45 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 07:15:45 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 07:15:45 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 07:15:45 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 07:15:45 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 07:16:26 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 07:16:26 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 07:16:26 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 07:16:28 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 32382 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 07:16:28 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 07:16:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 07:16:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-10-31 07:16:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 07:16:28 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 07:16:28 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 07:16:28 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 07:16:28 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 633 ms
2024-10-31 07:16:29 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 07:16:29 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 07:16:29 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 07:16:29 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 07:16:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 07:16:29 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2aa6bbad
2024-10-31 07:16:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 07:16:29 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 07:16:29 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 07:16:29 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@e0d9e3f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 07:16:29 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 07:16:30 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 07:16:30 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 07:16:30 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [com/example/fenikaCRM10/configirations/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: ROLE_ADMIN should not start with ROLE_ since ROLE_ is automatically prepended when using hasAnyRole. Consider using hasAnyAuthority instead.
2024-10-31 07:16:30 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 07:16:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 07:16:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 07:16:30 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-10-31 07:16:30 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-10-31 07:16:30 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [com/example/fenikaCRM10/configirations/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: ROLE_ADMIN should not start with ROLE_ since ROLE_ is automatically prepended when using hasAnyRole. Consider using hasAnyAuthority instead.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:895)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:848)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:960)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1358)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1347)
	at com.example.fenikaCRM10.FenikaCrm10Application.main(FenikaCrm10Application.java:10)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [com/example/fenikaCRM10/configirations/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: ROLE_ADMIN should not start with ROLE_ since ROLE_ is automatically prepended when using hasAnyRole. Consider using hasAnyAuthority instead.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:643)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1689)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1653)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeanCollection(DefaultListableBeanFactory.java:1543)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1511)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1392)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:887)
	... 20 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: ROLE_ADMIN should not start with ROLE_ since ROLE_ is automatically prepended when using hasAnyRole. Consider using hasAnyAuthority instead.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:177)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651)
	... 37 common frames omitted
Caused by: java.lang.IllegalArgumentException: ROLE_ADMIN should not start with ROLE_ since ROLE_ is automatically prepended when using hasAnyRole. Consider using hasAnyAuthority instead.
	at org.springframework.util.Assert.isTrue(Assert.java:129)
	at org.springframework.security.authorization.AuthorityAuthorizationManager.toNamedRolesArray(AuthorityAuthorizationManager.java:128)
	at org.springframework.security.authorization.AuthorityAuthorizationManager.hasAnyRole(AuthorityAuthorizationManager.java:108)
	at org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$AuthorizedUrl.hasRole(AuthorizeHttpRequestsConfigurer.java:291)
	at com.example.fenikaCRM10.configirations.SecurityConfig.lambda$securityFilterChain$0(SecurityConfig.java:32)
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.authorizeHttpRequests(HttpSecurity.java:1467)
	at com.example.fenikaCRM10.configirations.SecurityConfig.securityFilterChain(SecurityConfig.java:29)
	at com.example.fenikaCRM10.configirations.SecurityConfig$$SpringCGLIB$$0.CGLIB$securityFilterChain$2(<generated>)
	at com.example.fenikaCRM10.configirations.SecurityConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at com.example.fenikaCRM10.configirations.SecurityConfig$$SpringCGLIB$$0.securityFilterChain(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:140)
	... 38 common frames omitted
2024-10-31 07:16:44 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 32422 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 07:16:44 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 07:16:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 07:16:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2024-10-31 07:16:45 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 07:16:45 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 07:16:45 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 07:16:45 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 07:16:45 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 608 ms
2024-10-31 07:16:45 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 07:16:45 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 07:16:45 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 07:16:45 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 07:16:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 07:16:45 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@75527e36
2024-10-31 07:16:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 07:16:45 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 07:16:46 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 07:16:46 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@1a7437d8] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 07:16:46 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 07:16:46 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 07:16:47 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 07:16:47 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1d302061, org.springframework.security.web.session.ForceEagerSessionCreationFilter@7a4729e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@57f9cc7a, org.springframework.security.web.context.SecurityContextHolderFilter@1b047ad, org.springframework.security.web.header.HeaderWriterFilter@3a0773, org.springframework.web.filter.CorsFilter@7262f848, org.springframework.security.web.authentication.logout.LogoutFilter@6ce45045, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@8aa77a4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5d699e19, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a3c7dbc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e4dfd4d, org.springframework.security.web.session.SessionManagementFilter@270b527f, org.springframework.security.web.access.ExceptionTranslationFilter@13eead57, org.springframework.security.web.access.intercept.AuthorizationFilter@4037fcc]
2024-10-31 07:16:47 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 07:16:47 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.751 seconds (process running for 3.017)
2024-10-31 07:16:48 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 07:16:48 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 07:16:48 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-10-31 07:16:48 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.UserStatisticsController.getUserStatistics(UserStatisticsController.java:30)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 07:16:49 [http-nio-8080-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.UserStatisticsController.getUserStatistics(UserStatisticsController.java:30)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 07:16:52 [http-nio-8080-exec-4] INFO  c.e.f.s.CustomUserDetailsService - User found: stroy.live@mail.ru
2024-10-31 07:16:52 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 07:16:52 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 07:16:52 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 07:16:52 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 07:16:52 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 07:16:52 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 07:16:52 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 07:16:52 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 07:16:52 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 07:16:52 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 07:16:52 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 07:16:52 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 07:16:55 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 07:16:55 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 07:16:55 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 07:16:55 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 07:16:55 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 07:16:55 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 07:16:55 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 07:16:55 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 07:16:55 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 07:16:55 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 07:16:55 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 07:16:55 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 07:16:58 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 07:16:58 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 07:16:58 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 07:16:58 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 07:16:58 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 07:16:58 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 07:16:58 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 07:16:58 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 07:16:58 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 07:16:58 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 07:16:58 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 07:16:58 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 08:00:35 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=33m12s663ms).
2024-10-31 08:07:00 [http-nio-8080-exec-8] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.UserStatisticsController.getUserStatistics(UserStatisticsController.java:30)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 08:07:01 [http-nio-8080-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.UserStatisticsController.getUserStatistics(UserStatisticsController.java:30)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 08:07:03 [http-nio-8080-exec-10] INFO  c.e.f.s.CustomUserDetailsService - User found: stroy.live@mail.ru
2024-10-31 08:07:03 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 08:07:03 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 08:07:03 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 08:07:03 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 08:07:03 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 08:07:03 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 08:07:03 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 08:07:03 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 08:07:03 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 08:07:03 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 08:07:03 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 08:07:03 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 08:07:06 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 08:07:06 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 08:07:06 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 08:07:06 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 08:07:06 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 08:07:06 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 08:07:06 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 08:07:06 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 08:07:06 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 08:07:06 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 08:07:06 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 08:07:06 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 08:07:14 [http-nio-8080-exec-7] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 08:07:14 [http-nio-8080-exec-7] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 08:07:14 [http-nio-8080-exec-7] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 08:07:14 [http-nio-8080-exec-7] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 08:07:14 [http-nio-8080-exec-7] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 08:07:14 [http-nio-8080-exec-7] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 08:07:14 [http-nio-8080-exec-7] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 08:07:14 [http-nio-8080-exec-7] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 08:07:14 [http-nio-8080-exec-7] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 08:07:14 [http-nio-8080-exec-7] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 08:07:14 [http-nio-8080-exec-7] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 08:07:14 [http-nio-8080-exec-7] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 08:07:23 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 08:07:23 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 08:07:23 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 08:07:23 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 08:07:23 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 08:07:23 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 08:07:23 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 08:07:23 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 08:07:23 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 08:07:23 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 08:07:23 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 08:07:23 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 08:08:14 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 08:08:14 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 08:08:14 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 08:08:16 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 33865 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 08:08:16 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 08:08:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 08:08:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2024-10-31 08:08:17 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 08:08:17 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 08:08:17 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 08:08:17 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 08:08:17 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 622 ms
2024-10-31 08:08:17 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 08:08:17 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 08:08:17 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 08:08:17 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 08:08:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 08:08:17 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2ef041bb
2024-10-31 08:08:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 08:08:17 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 08:08:18 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 08:08:18 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@265c0752] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 08:08:18 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 08:08:18 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 08:08:19 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 08:08:19 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@57f9cc7a, org.springframework.security.web.session.ForceEagerSessionCreationFilter@7262f848, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e4dfd4d, org.springframework.security.web.context.SecurityContextHolderFilter@5d699e19, org.springframework.security.web.header.HeaderWriterFilter@270b527f, org.springframework.web.filter.CorsFilter@2d86f17b, org.springframework.security.web.authentication.logout.LogoutFilter@2ba89cb2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@599e81bd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@9b2ce79, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@265bea14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@340572ad, org.springframework.security.web.session.SessionManagementFilter@736b8ed4, org.springframework.security.web.access.ExceptionTranslationFilter@3a0773, org.springframework.security.web.access.intercept.AuthorizationFilter@6d81522b]
2024-10-31 08:08:19 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 08:08:19 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.759 seconds (process running for 3.036)
2024-10-31 08:08:22 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 08:08:22 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 08:08:22 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 08:08:22 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.UserStatisticsController.getUserStatistics(UserStatisticsController.java:30)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 08:08:25 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: stroy.live@mail.ru
2024-10-31 08:08:25 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 08:08:25 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 08:08:25 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 08:08:25 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 08:08:25 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 08:08:25 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 08:08:25 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 08:08:25 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 08:08:25 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 08:08:25 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 08:08:25 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 08:08:25 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 08:08:28 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 08:08:28 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 08:08:28 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 08:08:28 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 08:08:28 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 08:08:28 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 08:08:28 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 08:08:28 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 08:08:28 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 08:08:28 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 08:08:28 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 08:08:28 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 08:08:33 [http-nio-8080-exec-2] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 08:08:33 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 08:08:33 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 08:08:33 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 08:08:33 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 08:08:33 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 08:08:33 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 08:08:33 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 08:08:33 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 08:08:33 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 08:08:33 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 08:08:33 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 08:08:33 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 08:08:45 [http-nio-8080-exec-9] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.DealController.getUserDeals(DealController.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 08:08:46 [http-nio-8080-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.DealController.getUserDeals(DealController.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 08:09:06 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.DealController.dealInfo(DealController.java:111)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 08:09:42 [http-nio-8080-exec-5] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 08:09:43 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 08:09:43 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 08:09:43 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 08:09:43 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 08:09:43 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 08:09:43 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 08:09:43 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 08:09:43 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 08:09:43 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 08:09:43 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 08:09:43 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 08:09:43 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 08:17:52 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m4s153ms).
2024-10-31 08:23:11 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 08:23:11 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 08:23:11 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 08:23:11 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 08:23:11 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 08:23:11 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 08:23:11 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 08:23:11 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 08:23:11 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 08:23:11 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 08:23:11 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 08:23:11 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 08:35:10 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 08:35:10 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 08:35:10 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 08:35:12 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 35707 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 08:35:12 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 08:35:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 08:35:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-10-31 08:35:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 08:35:13 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 08:35:13 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 08:35:13 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 08:35:13 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 627 ms
2024-10-31 08:35:13 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 08:35:13 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 08:35:13 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 08:35:13 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 08:35:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 08:35:13 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5908e6d6
2024-10-31 08:35:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 08:35:13 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 08:35:14 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 08:35:14 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@34fcc5e3] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 08:35:14 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 08:35:14 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 08:35:15 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 08:35:15 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3af64136, org.springframework.security.web.session.ForceEagerSessionCreationFilter@2f9f939, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@113366e7, org.springframework.security.web.context.SecurityContextHolderFilter@6e767943, org.springframework.security.web.header.HeaderWriterFilter@4967d14c, org.springframework.web.filter.CorsFilter@32c3102, org.springframework.security.web.authentication.logout.LogoutFilter@25c962b7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@79d72d99, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4bf14a9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@96b00fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b5b2fa0, org.springframework.security.web.session.SessionManagementFilter@551f38b1, org.springframework.security.web.access.ExceptionTranslationFilter@109fa8e2, org.springframework.security.web.access.intercept.AuthorizationFilter@7f09b3aa]
2024-10-31 08:35:15 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 08:35:15 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.798 seconds (process running for 3.07)
2024-10-31 08:35:17 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 08:35:17 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 08:35:17 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 08:35:17 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.UserStatisticsController.getUserStatistics(UserStatisticsController.java:30)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 08:35:20 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 08:35:20 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 08:35:20 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 08:35:20 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 08:35:20 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 08:35:20 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 08:35:20 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 08:35:20 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 08:35:20 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 08:35:20 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 08:35:20 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 08:35:20 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 08:35:20 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 08:35:22 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 303: [Payments(paymentId=454, dealId=303, commentPayments=оплата по сч 7, currentDate=2024-10-29, statusPayments=Поступление, sum=400000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=455, dealId=303, commentPayments=оплата в гл по сч 12, currentDate=2024-10-29, statusPayments=Поступление, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=456, dealId=303, commentPayments=оплата в гл счет 15, currentDate=2024-10-29, statusPayments=Расход, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]))]
2024-10-31 08:35:22 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 400000.0
2024-10-31 08:35:22 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 150000.0
2024-10-31 08:35:22 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 150000.0
2024-10-31 08:35:22 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 303: 400000.0
2024-10-31 08:35:26 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 302: [Payments(paymentId=452, dealId=302, commentPayments=счет 6, currentDate=2024-10-29, statusPayments=Поступление, sum=500000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=302, name=Игорь Пигорь, numberPhone=89997776655, whatNeed=кровлю, deliveryAdress=пилькаполькалово, author=Георгий Панус, email=null, user=User(userId=6, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$5gRYptrKWlErjV5PBr3eOu6UxwTkj4nw7w/E48suXmaacRJDT7jZO, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.256208, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=6, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$5gRYptrKWlErjV5PBr3eOu6UxwTkj4nw7w/E48suXmaacRJDT7jZO, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.256208, deals=[])), Payments(paymentId=453, dealId=302, commentPayments=счет гл 2, currentDate=2024-10-29, statusPayments=Расход, sum=100000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=302, name=Игорь Пигорь, numberPhone=89997776655, whatNeed=кровлю, deliveryAdress=пилькаполькалово, author=Георгий Панус, email=null, user=User(userId=6, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$5gRYptrKWlErjV5PBr3eOu6UxwTkj4nw7w/E48suXmaacRJDT7jZO, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.256208, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=6, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$5gRYptrKWlErjV5PBr3eOu6UxwTkj4nw7w/E48suXmaacRJDT7jZO, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.256208, deals=[]))]
2024-10-31 08:35:26 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 500000.0
2024-10-31 08:35:26 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 100000.0
2024-10-31 08:35:26 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 302: 400000.0
2024-10-31 08:35:30 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 303: [Payments(paymentId=454, dealId=303, commentPayments=оплата по сч 7, currentDate=2024-10-29, statusPayments=Поступление, sum=400000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=455, dealId=303, commentPayments=оплата в гл по сч 12, currentDate=2024-10-29, statusPayments=Поступление, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=456, dealId=303, commentPayments=оплата в гл счет 15, currentDate=2024-10-29, statusPayments=Расход, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]))]
2024-10-31 08:35:30 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 400000.0
2024-10-31 08:35:30 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 150000.0
2024-10-31 08:35:30 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 150000.0
2024-10-31 08:35:30 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 303: 400000.0
2024-10-31 08:49:04 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 08:49:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 08:49:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 08:57:59 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 37365 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 08:57:59 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 08:57:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 08:57:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2024-10-31 08:57:59 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 08:57:59 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 08:57:59 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 08:57:59 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 08:57:59 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 625 ms
2024-10-31 08:57:59 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 08:57:59 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 08:57:59 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 08:58:00 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 08:58:00 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 08:58:00 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6b2ef50e
2024-10-31 08:58:00 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 08:58:00 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 08:58:00 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 08:58:00 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@29d29657] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 08:58:00 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 08:58:00 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 08:58:01 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 08:58:01 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@729452f2, org.springframework.security.web.session.ForceEagerSessionCreationFilter@4ea78b91, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7817824d, org.springframework.security.web.context.SecurityContextHolderFilter@1ef50c3b, org.springframework.security.web.header.HeaderWriterFilter@70f0a3a3, org.springframework.web.filter.CorsFilter@62497b5d, org.springframework.security.web.authentication.logout.LogoutFilter@2f0166d7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@59b782fa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29fe45a3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1cdb3ccd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@329ab624, org.springframework.security.web.session.SessionManagementFilter@6203cec, org.springframework.security.web.access.ExceptionTranslationFilter@7a76e1b9, org.springframework.security.web.access.intercept.AuthorizationFilter@79b9ed8d]
2024-10-31 08:58:01 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 08:58:01 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.782 seconds (process running for 3.066)
2024-10-31 08:58:04 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 08:58:04 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 08:58:04 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-10-31 08:58:04 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.DealController.getUserDeals(DealController.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 08:58:06 [http-nio-8080-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.DealController.getUserDeals(DealController.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 08:58:07 [http-nio-8080-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.DealController.getUserDeals(DealController.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 08:58:07 [http-nio-8080-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.UserStatisticsController.getUserStatistics(UserStatisticsController.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 08:58:11 [http-nio-8080-exec-7] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен]
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен]: 0
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен]
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен]: 0
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен]
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен]: 1
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 08:58:11 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 08:58:11 [http-nio-8080-exec-8] ERROR freemarker.runtime - Error executing FreeMarker template
freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> userStatisticsMap[user]  [in template "statistics.ftlh" at line 207, column 47]

----
Tip: It's the final [] step that caused this error, not those before it.
----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${userStatisticsMap[user].completedDe...  [in template "statistics.ftlh" at line 207, column 45]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)
	at freemarker.core.UnexpectedTypeException.newDescriptionBuilder(UnexpectedTypeException.java:85)
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:48)
	at freemarker.core.NonHashException.<init>(NonHashException.java:49)
	at freemarker.core.Dot._eval(Dot.java:48)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:291)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 08:58:11 [http-nio-8080-exec-8] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> userStatisticsMap[user]  [in template "statistics.ftlh" at line 207, column 47]

----
Tip: It's the final [] step that caused this error, not those before it.
----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${userStatisticsMap[user].completedDe...  [in template "statistics.ftlh" at line 207, column 45]
----] with root cause
freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> userStatisticsMap[user]  [in template "statistics.ftlh" at line 207, column 47]

----
Tip: It's the final [] step that caused this error, not those before it.
----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${userStatisticsMap[user].completedDe...  [in template "statistics.ftlh" at line 207, column 45]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)
	at freemarker.core.UnexpectedTypeException.newDescriptionBuilder(UnexpectedTypeException.java:85)
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:48)
	at freemarker.core.NonHashException.<init>(NonHashException.java:49)
	at freemarker.core.Dot._eval(Dot.java:48)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:291)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 08:58:11 [http-nio-8080-exec-8] ERROR o.s.b.a.w.s.e.ErrorMvcAutoConfiguration$StaticView - Cannot render error page for request [/statistics] as the response has already been committed. As a result, the response may have the wrong status code.
2024-10-31 09:01:18 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 09:01:18 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 09:01:18 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 09:01:19 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 37609 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 09:01:19 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 09:01:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 09:01:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-10-31 09:01:20 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 09:01:20 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 09:01:20 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 09:01:20 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 09:01:20 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 664 ms
2024-10-31 09:01:20 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 09:01:20 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 09:01:20 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 09:01:20 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 09:01:20 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 09:01:20 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@472c9f88
2024-10-31 09:01:20 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 09:01:20 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 09:01:20 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 09:01:20 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@11939a9f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 09:01:20 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 09:01:21 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 09:01:21 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 09:01:21 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@d278065, org.springframework.security.web.session.ForceEagerSessionCreationFilter@786c7cc9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@28d26e57, org.springframework.security.web.context.SecurityContextHolderFilter@5a95f63a, org.springframework.security.web.header.HeaderWriterFilter@2f6601f4, org.springframework.web.filter.CorsFilter@4315d110, org.springframework.security.web.authentication.logout.LogoutFilter@6203cec, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7d893815, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@73ce6315, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@73ae7ce4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@728055bf, org.springframework.security.web.session.SessionManagementFilter@23b085ab, org.springframework.security.web.access.ExceptionTranslationFilter@109a4e10, org.springframework.security.web.access.intercept.AuthorizationFilter@6a151f1a]
2024-10-31 09:01:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 09:01:21 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.886 seconds (process running for 3.169)
2024-10-31 09:01:30 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 09:01:30 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 09:01:30 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 09:01:33 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен]: 0
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен]
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен]: 0
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен]: 1
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 09:01:33 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 09:01:33 [http-nio-8080-exec-4] ERROR freemarker.runtime - Error executing FreeMarker template
freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> userStatisticsMap[user]  [in template "statistics.ftlh" at line 207, column 47]

----
Tip: It's the final [] step that caused this error, not those before it.
----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${userStatisticsMap[user].completedDe...  [in template "statistics.ftlh" at line 207, column 45]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)
	at freemarker.core.UnexpectedTypeException.newDescriptionBuilder(UnexpectedTypeException.java:85)
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:48)
	at freemarker.core.NonHashException.<init>(NonHashException.java:49)
	at freemarker.core.Dot._eval(Dot.java:48)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DefaultToExpression._eval(DefaultToExpression.java:96)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:291)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 09:01:33 [http-nio-8080-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> userStatisticsMap[user]  [in template "statistics.ftlh" at line 207, column 47]

----
Tip: It's the final [] step that caused this error, not those before it.
----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${userStatisticsMap[user].completedDe...  [in template "statistics.ftlh" at line 207, column 45]
----] with root cause
freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> userStatisticsMap[user]  [in template "statistics.ftlh" at line 207, column 47]

----
Tip: It's the final [] step that caused this error, not those before it.
----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${userStatisticsMap[user].completedDe...  [in template "statistics.ftlh" at line 207, column 45]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)
	at freemarker.core.UnexpectedTypeException.newDescriptionBuilder(UnexpectedTypeException.java:85)
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:48)
	at freemarker.core.NonHashException.<init>(NonHashException.java:49)
	at freemarker.core.Dot._eval(Dot.java:48)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DefaultToExpression._eval(DefaultToExpression.java:96)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:291)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 09:01:33 [http-nio-8080-exec-4] ERROR o.s.b.a.w.s.e.ErrorMvcAutoConfiguration$StaticView - Cannot render error page for request [/statistics] as the response has already been committed. As a result, the response may have the wrong status code.
2024-10-31 09:02:09 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 09:02:09 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 09:02:09 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 09:02:10 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 37687 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 09:02:10 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 09:02:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 09:02:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-10-31 09:02:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 09:02:11 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 09:02:11 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 09:02:11 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 09:02:11 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 663 ms
2024-10-31 09:02:11 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 09:02:11 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 09:02:11 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 09:02:11 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 09:02:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 09:02:11 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3356ff58
2024-10-31 09:02:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 09:02:11 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 09:02:12 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 09:02:12 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2d114d27] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 09:02:12 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 09:02:12 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 09:02:12 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 09:02:13 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@57a20e44, org.springframework.security.web.session.ForceEagerSessionCreationFilter@537e8a15, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71da2e9e, org.springframework.security.web.context.SecurityContextHolderFilter@77ea06bb, org.springframework.security.web.header.HeaderWriterFilter@500497e3, org.springframework.web.filter.CorsFilter@19a71722, org.springframework.security.web.authentication.logout.LogoutFilter@d278065, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e3c3c3d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a76e1b9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5708b827, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e30ea7c, org.springframework.security.web.session.SessionManagementFilter@5e5db72e, org.springframework.security.web.access.ExceptionTranslationFilter@18a8a42b, org.springframework.security.web.access.intercept.AuthorizationFilter@337f76ff]
2024-10-31 09:02:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 09:02:13 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.875 seconds (process running for 3.159)
2024-10-31 09:02:16 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 09:02:16 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 09:02:16 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-10-31 09:02:18 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен]: 0
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен]
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен]: 0
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен]: 1
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 09:02:18 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 09:02:18 [http-nio-8080-exec-4] ERROR freemarker.runtime - Error executing FreeMarker template
freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> userStatisticsMap[user]  [in template "statistics.ftlh" at line 207, column 47]

----
Tip: It's the final [] step that caused this error, not those before it.
----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${userStatisticsMap[user].completedDe...  [in template "statistics.ftlh" at line 207, column 45]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)
	at freemarker.core.UnexpectedTypeException.newDescriptionBuilder(UnexpectedTypeException.java:85)
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:48)
	at freemarker.core.NonHashException.<init>(NonHashException.java:49)
	at freemarker.core.Dot._eval(Dot.java:48)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DefaultToExpression._eval(DefaultToExpression.java:96)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:291)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 09:02:18 [http-nio-8080-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> userStatisticsMap[user]  [in template "statistics.ftlh" at line 207, column 47]

----
Tip: It's the final [] step that caused this error, not those before it.
----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${userStatisticsMap[user].completedDe...  [in template "statistics.ftlh" at line 207, column 45]
----] with root cause
freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> userStatisticsMap[user]  [in template "statistics.ftlh" at line 207, column 47]

----
Tip: It's the final [] step that caused this error, not those before it.
----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${userStatisticsMap[user].completedDe...  [in template "statistics.ftlh" at line 207, column 45]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)
	at freemarker.core.UnexpectedTypeException.newDescriptionBuilder(UnexpectedTypeException.java:85)
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:48)
	at freemarker.core.NonHashException.<init>(NonHashException.java:49)
	at freemarker.core.Dot._eval(Dot.java:48)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DefaultToExpression._eval(DefaultToExpression.java:96)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:291)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 09:02:18 [http-nio-8080-exec-4] ERROR o.s.b.a.w.s.e.ErrorMvcAutoConfiguration$StaticView - Cannot render error page for request [/statistics] as the response has already been committed. As a result, the response may have the wrong status code.
2024-10-31 09:06:39 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: stroy.live@mail.ru
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен]: 0
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен]
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен]: 0
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен]: 1
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 09:06:39 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 09:06:39 [http-nio-8080-exec-4] ERROR freemarker.runtime - Error executing FreeMarker template
freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> userStatisticsMap[user]  [in template "statistics.ftlh" at line 207, column 47]

----
Tip: It's the final [] step that caused this error, not those before it.
----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${userStatisticsMap[user].completedDe...  [in template "statistics.ftlh" at line 207, column 45]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)
	at freemarker.core.UnexpectedTypeException.newDescriptionBuilder(UnexpectedTypeException.java:85)
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:48)
	at freemarker.core.NonHashException.<init>(NonHashException.java:49)
	at freemarker.core.Dot._eval(Dot.java:48)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DefaultToExpression._eval(DefaultToExpression.java:96)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:291)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 09:06:39 [http-nio-8080-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> userStatisticsMap[user]  [in template "statistics.ftlh" at line 207, column 47]

----
Tip: It's the final [] step that caused this error, not those before it.
----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${userStatisticsMap[user].completedDe...  [in template "statistics.ftlh" at line 207, column 45]
----] with root cause
freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> userStatisticsMap[user]  [in template "statistics.ftlh" at line 207, column 47]

----
Tip: It's the final [] step that caused this error, not those before it.
----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${userStatisticsMap[user].completedDe...  [in template "statistics.ftlh" at line 207, column 45]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)
	at freemarker.core.UnexpectedTypeException.newDescriptionBuilder(UnexpectedTypeException.java:85)
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:48)
	at freemarker.core.NonHashException.<init>(NonHashException.java:49)
	at freemarker.core.Dot._eval(Dot.java:48)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DefaultToExpression._eval(DefaultToExpression.java:96)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:291)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 09:06:39 [http-nio-8080-exec-4] ERROR o.s.b.a.w.s.e.ErrorMvcAutoConfiguration$StaticView - Cannot render error page for request [/statistics] as the response has already been committed. As a result, the response may have the wrong status code.
2024-10-31 09:06:40 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 303: [Payments(paymentId=454, dealId=303, commentPayments=оплата по сч 7, currentDate=2024-10-29, statusPayments=Поступление, sum=400000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=455, dealId=303, commentPayments=оплата в гл по сч 12, currentDate=2024-10-29, statusPayments=Поступление, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=456, dealId=303, commentPayments=оплата в гл счет 15, currentDate=2024-10-29, statusPayments=Расход, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]))]
2024-10-31 09:06:40 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 400000.0
2024-10-31 09:06:40 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 150000.0
2024-10-31 09:06:40 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 150000.0
2024-10-31 09:06:40 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 303: 400000.0
2024-10-31 09:06:46 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 302: [Payments(paymentId=452, dealId=302, commentPayments=счет 6, currentDate=2024-10-29, statusPayments=Поступление, sum=500000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=302, name=Игорь Пигорь, numberPhone=89997776655, whatNeed=кровлю, deliveryAdress=пилькаполькалово, author=Георгий Панус, email=null, user=User(userId=6, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$5gRYptrKWlErjV5PBr3eOu6UxwTkj4nw7w/E48suXmaacRJDT7jZO, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.256208, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=6, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$5gRYptrKWlErjV5PBr3eOu6UxwTkj4nw7w/E48suXmaacRJDT7jZO, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.256208, deals=[])), Payments(paymentId=453, dealId=302, commentPayments=счет гл 2, currentDate=2024-10-29, statusPayments=Расход, sum=100000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=302, name=Игорь Пигорь, numberPhone=89997776655, whatNeed=кровлю, deliveryAdress=пилькаполькалово, author=Георгий Панус, email=null, user=User(userId=6, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$5gRYptrKWlErjV5PBr3eOu6UxwTkj4nw7w/E48suXmaacRJDT7jZO, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.256208, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=6, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$5gRYptrKWlErjV5PBr3eOu6UxwTkj4nw7w/E48suXmaacRJDT7jZO, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.256208, deals=[]))]
2024-10-31 09:06:46 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 500000.0
2024-10-31 09:06:46 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 100000.0
2024-10-31 09:06:46 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 302: 400000.0
2024-10-31 09:06:59 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Сделке с ID 352 присвоен статус 'Новая заявка' с комментарием 'связаться в течение 30 минут!'
2024-10-31 09:06:59 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 303: [Payments(paymentId=454, dealId=303, commentPayments=оплата по сч 7, currentDate=2024-10-29, statusPayments=Поступление, sum=400000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=455, dealId=303, commentPayments=оплата в гл по сч 12, currentDate=2024-10-29, statusPayments=Поступление, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=456, dealId=303, commentPayments=оплата в гл счет 15, currentDate=2024-10-29, statusPayments=Расход, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]))]
2024-10-31 09:06:59 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 400000.0
2024-10-31 09:06:59 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 150000.0
2024-10-31 09:06:59 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 150000.0
2024-10-31 09:06:59 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 303: 400000.0
2024-10-31 09:06:59 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 352: []
2024-10-31 09:06:59 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 352: 0.0
2024-10-31 09:07:02 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 352: []
2024-10-31 09:07:02 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 352: 0.0
2024-10-31 09:07:03 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 352: []
2024-10-31 09:07:03 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 352: 0.0
2024-10-31 09:07:03 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 352: []
2024-10-31 09:07:03 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 352: 0.0
2024-10-31 09:07:08 [http-nio-8080-exec-7] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 352: [Payments(paymentId=502, dealId=352, commentPayments=вакуе, currentDate=2024-10-31, statusPayments=Поступление, sum=34000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=352, name=ывпмвыампвы, numberPhone=8934893289342, whatNeed=цуавцвыва, deliveryAdress=йцвйцв, author=Светлана Халина, email=null, user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]))]
2024-10-31 09:07:08 [http-nio-8080-exec-7] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 34000.0
2024-10-31 09:07:08 [http-nio-8080-exec-7] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 352: 34000.0
2024-10-31 09:07:08 [http-nio-8080-exec-7] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 352: [Payments(paymentId=502, dealId=352, commentPayments=вакуе, currentDate=2024-10-31, statusPayments=Поступление, sum=34000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=352, name=ывпмвыампвы, numberPhone=8934893289342, whatNeed=цуавцвыва, deliveryAdress=йцвйцв, author=Светлана Халина, email=null, user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]))]
2024-10-31 09:07:08 [http-nio-8080-exec-7] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 34000.0
2024-10-31 09:07:08 [http-nio-8080-exec-7] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 352: 34000.0
2024-10-31 09:07:09 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 303: [Payments(paymentId=454, dealId=303, commentPayments=оплата по сч 7, currentDate=2024-10-29, statusPayments=Поступление, sum=400000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=455, dealId=303, commentPayments=оплата в гл по сч 12, currentDate=2024-10-29, statusPayments=Поступление, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=456, dealId=303, commentPayments=оплата в гл счет 15, currentDate=2024-10-29, statusPayments=Расход, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]))]
2024-10-31 09:07:09 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 400000.0
2024-10-31 09:07:09 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 150000.0
2024-10-31 09:07:09 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 150000.0
2024-10-31 09:07:09 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 303: 400000.0
2024-10-31 09:07:09 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 352: [Payments(paymentId=502, dealId=352, commentPayments=вакуе, currentDate=2024-10-31, statusPayments=Поступление, sum=34000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=352, name=ывпмвыампвы, numberPhone=8934893289342, whatNeed=цуавцвыва, deliveryAdress=йцвйцв, author=Светлана Халина, email=null, user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]))]
2024-10-31 09:07:09 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 34000.0
2024-10-31 09:07:09 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 352: 34000.0
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен]: 0
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 34000.0
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 8500.0
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен]
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен]: 0
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен]: 1
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 09:07:10 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 09:07:10 [http-nio-8080-exec-8] ERROR freemarker.runtime - Error executing FreeMarker template
freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> userStatisticsMap[user]  [in template "statistics.ftlh" at line 207, column 47]

----
Tip: It's the final [] step that caused this error, not those before it.
----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${userStatisticsMap[user].completedDe...  [in template "statistics.ftlh" at line 207, column 45]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)
	at freemarker.core.UnexpectedTypeException.newDescriptionBuilder(UnexpectedTypeException.java:85)
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:48)
	at freemarker.core.NonHashException.<init>(NonHashException.java:49)
	at freemarker.core.Dot._eval(Dot.java:48)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DefaultToExpression._eval(DefaultToExpression.java:96)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:291)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 09:07:10 [http-nio-8080-exec-8] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> userStatisticsMap[user]  [in template "statistics.ftlh" at line 207, column 47]

----
Tip: It's the final [] step that caused this error, not those before it.
----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${userStatisticsMap[user].completedDe...  [in template "statistics.ftlh" at line 207, column 45]
----] with root cause
freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> userStatisticsMap[user]  [in template "statistics.ftlh" at line 207, column 47]

----
Tip: It's the final [] step that caused this error, not those before it.
----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${userStatisticsMap[user].completedDe...  [in template "statistics.ftlh" at line 207, column 45]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)
	at freemarker.core.UnexpectedTypeException.newDescriptionBuilder(UnexpectedTypeException.java:85)
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:48)
	at freemarker.core.NonHashException.<init>(NonHashException.java:49)
	at freemarker.core.Dot._eval(Dot.java:48)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DefaultToExpression._eval(DefaultToExpression.java:96)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:291)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 09:07:10 [http-nio-8080-exec-8] ERROR o.s.b.a.w.s.e.ErrorMvcAutoConfiguration$StaticView - Cannot render error page for request [/statistics] as the response has already been committed. As a result, the response may have the wrong status code.
2024-10-31 09:07:15 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 303: [Payments(paymentId=454, dealId=303, commentPayments=оплата по сч 7, currentDate=2024-10-29, statusPayments=Поступление, sum=400000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=455, dealId=303, commentPayments=оплата в гл по сч 12, currentDate=2024-10-29, statusPayments=Поступление, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=456, dealId=303, commentPayments=оплата в гл счет 15, currentDate=2024-10-29, statusPayments=Расход, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]))]
2024-10-31 09:07:15 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 400000.0
2024-10-31 09:07:15 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 150000.0
2024-10-31 09:07:15 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 150000.0
2024-10-31 09:07:15 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 303: 400000.0
2024-10-31 09:07:15 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 352: [Payments(paymentId=502, dealId=352, commentPayments=вакуе, currentDate=2024-10-31, statusPayments=Поступление, sum=34000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=352, name=ывпмвыампвы, numberPhone=8934893289342, whatNeed=цуавцвыва, deliveryAdress=йцвйцв, author=Светлана Халина, email=null, user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]))]
2024-10-31 09:07:15 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 34000.0
2024-10-31 09:07:15 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 352: 34000.0
2024-10-31 09:07:22 [http-nio-8080-exec-5] INFO  c.e.f.s.CustomUserDetailsService - User found: pich@mail.ru
2024-10-31 09:07:22 [http-nio-8080-exec-7] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 09:07:22 [http-nio-8080-exec-7] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 09:07:22 [http-nio-8080-exec-7] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 09:07:22 [http-nio-8080-exec-7] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 09:07:22 [http-nio-8080-exec-7] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 09:07:22 [http-nio-8080-exec-7] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 09:07:22 [http-nio-8080-exec-7] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:07:22 [http-nio-8080-exec-7] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:07:22 [http-nio-8080-exec-7] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:07:22 [http-nio-8080-exec-7] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:07:22 [http-nio-8080-exec-7] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 09:07:22 [http-nio-8080-exec-7] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 09:07:37 [http-nio-8080-exec-2] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен]: 0
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 34000.0
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 8500.0
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен]
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен]: 0
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен]: 1
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 09:07:37 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 09:07:37 [http-nio-8080-exec-3] ERROR freemarker.runtime - Error executing FreeMarker template
freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> userStatisticsMap[user]  [in template "statistics.ftlh" at line 207, column 47]

----
Tip: It's the final [] step that caused this error, not those before it.
----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${userStatisticsMap[user].completedDe...  [in template "statistics.ftlh" at line 207, column 45]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)
	at freemarker.core.UnexpectedTypeException.newDescriptionBuilder(UnexpectedTypeException.java:85)
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:48)
	at freemarker.core.NonHashException.<init>(NonHashException.java:49)
	at freemarker.core.Dot._eval(Dot.java:48)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DefaultToExpression._eval(DefaultToExpression.java:96)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:291)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 09:07:37 [http-nio-8080-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> userStatisticsMap[user]  [in template "statistics.ftlh" at line 207, column 47]

----
Tip: It's the final [] step that caused this error, not those before it.
----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${userStatisticsMap[user].completedDe...  [in template "statistics.ftlh" at line 207, column 45]
----] with root cause
freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> userStatisticsMap[user]  [in template "statistics.ftlh" at line 207, column 47]

----
Tip: It's the final [] step that caused this error, not those before it.
----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${userStatisticsMap[user].completedDe...  [in template "statistics.ftlh" at line 207, column 45]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)
	at freemarker.core.UnexpectedTypeException.newDescriptionBuilder(UnexpectedTypeException.java:85)
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:48)
	at freemarker.core.NonHashException.<init>(NonHashException.java:49)
	at freemarker.core.Dot._eval(Dot.java:48)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DefaultToExpression._eval(DefaultToExpression.java:96)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:291)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 09:07:37 [http-nio-8080-exec-3] ERROR o.s.b.a.w.s.e.ErrorMvcAutoConfiguration$StaticView - Cannot render error page for request [/statistics] as the response has already been committed. As a result, the response may have the wrong status code.
2024-10-31 09:10:47 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 09:10:47 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 09:10:47 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 09:10:49 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 38313 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 09:10:49 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 09:10:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 09:10:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2024-10-31 09:10:50 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 09:10:50 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 09:10:50 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 09:10:50 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 09:10:50 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 668 ms
2024-10-31 09:10:50 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 09:10:50 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 09:10:50 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 09:10:50 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 09:10:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 09:10:50 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6f867b0c
2024-10-31 09:10:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 09:10:50 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 09:10:50 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 09:10:50 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@29d29657] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 09:10:50 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 09:10:51 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 09:10:51 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 09:10:51 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2132f68e, org.springframework.security.web.session.ForceEagerSessionCreationFilter@17d1b2a0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@729452f2, org.springframework.security.web.context.SecurityContextHolderFilter@61e33118, org.springframework.security.web.header.HeaderWriterFilter@7a76e1b9, org.springframework.web.filter.CorsFilter@4ea78b91, org.springframework.security.web.authentication.logout.LogoutFilter@4fa7df5c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e30ea7c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ef50c3b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@516dd567, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7817824d, org.springframework.security.web.session.SessionManagementFilter@70f0a3a3, org.springframework.security.web.access.ExceptionTranslationFilter@77ea06bb, org.springframework.security.web.access.intercept.AuthorizationFilter@19a71722]
2024-10-31 09:10:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 09:10:52 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.924 seconds (process running for 3.214)
2024-10-31 09:10:54 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 09:10:54 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 09:10:54 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 09:10:54 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.UserStatisticsController.getUserStatistics(UserStatisticsController.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 09:10:56 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен]: 0
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 34000.0
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 8500.0
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен]
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен]: 0
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен]: 1
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 09:10:56 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 09:10:56 [http-nio-8080-exec-4] ERROR freemarker.runtime - Error executing FreeMarker template
freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> userStatisticsMap[user]  [in template "statistics.ftlh" at line 207, column 47]

----
Tip: It's the final [] step that caused this error, not those before it.
----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${userStatisticsMap[user].completedDe...  [in template "statistics.ftlh" at line 207, column 45]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)
	at freemarker.core.UnexpectedTypeException.newDescriptionBuilder(UnexpectedTypeException.java:85)
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:48)
	at freemarker.core.NonHashException.<init>(NonHashException.java:49)
	at freemarker.core.Dot._eval(Dot.java:48)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DefaultToExpression._eval(DefaultToExpression.java:96)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:291)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 09:10:56 [http-nio-8080-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> userStatisticsMap[user]  [in template "statistics.ftlh" at line 207, column 47]

----
Tip: It's the final [] step that caused this error, not those before it.
----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${userStatisticsMap[user].completedDe...  [in template "statistics.ftlh" at line 207, column 45]
----] with root cause
freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> userStatisticsMap[user]  [in template "statistics.ftlh" at line 207, column 47]

----
Tip: It's the final [] step that caused this error, not those before it.
----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${userStatisticsMap[user].completedDe...  [in template "statistics.ftlh" at line 207, column 45]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)
	at freemarker.core.UnexpectedTypeException.newDescriptionBuilder(UnexpectedTypeException.java:85)
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:48)
	at freemarker.core.NonHashException.<init>(NonHashException.java:49)
	at freemarker.core.Dot._eval(Dot.java:48)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DefaultToExpression._eval(DefaultToExpression.java:96)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:291)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 09:10:56 [http-nio-8080-exec-4] ERROR o.s.b.a.w.s.e.ErrorMvcAutoConfiguration$StaticView - Cannot render error page for request [/statistics] as the response has already been committed. As a result, the response may have the wrong status code.
2024-10-31 09:14:15 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 09:14:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 09:14:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 09:14:17 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 38570 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 09:14:17 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 09:14:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 09:14:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2024-10-31 09:14:18 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 09:14:18 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 09:14:18 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 09:14:18 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 09:14:18 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 648 ms
2024-10-31 09:14:18 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 09:14:18 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 09:14:18 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 09:14:18 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 09:14:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 09:14:18 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3356ff58
2024-10-31 09:14:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 09:14:18 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 09:14:18 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 09:14:18 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@3bbdf835] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 09:14:18 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 09:14:19 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 09:14:19 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 09:14:19 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@788890e9, org.springframework.security.web.session.ForceEagerSessionCreationFilter@2132f68e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@17d1b2a0, org.springframework.security.web.context.SecurityContextHolderFilter@147b758f, org.springframework.security.web.header.HeaderWriterFilter@1e64a724, org.springframework.web.filter.CorsFilter@729452f2, org.springframework.security.web.authentication.logout.LogoutFilter@3f7a48a1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@19a71722, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@193594ad, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ef50c3b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ea78b91, org.springframework.security.web.session.SessionManagementFilter@5708b827, org.springframework.security.web.access.ExceptionTranslationFilter@44bd3dc5, org.springframework.security.web.access.intercept.AuthorizationFilter@71da2e9e]
2024-10-31 09:14:20 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 09:14:20 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.906 seconds (process running for 3.204)
2024-10-31 09:14:22 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 09:14:22 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 09:14:22 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 09:14:26 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен]: 0
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 34000.0
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 8500.0
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен]
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен]: 0
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен]: 1
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 09:14:26 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 09:14:45 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 303: [Payments(paymentId=454, dealId=303, commentPayments=оплата по сч 7, currentDate=2024-10-29, statusPayments=Поступление, sum=400000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=455, dealId=303, commentPayments=оплата в гл по сч 12, currentDate=2024-10-29, statusPayments=Поступление, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=456, dealId=303, commentPayments=оплата в гл счет 15, currentDate=2024-10-29, statusPayments=Расход, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]))]
2024-10-31 09:14:45 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 400000.0
2024-10-31 09:14:45 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 150000.0
2024-10-31 09:14:45 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 150000.0
2024-10-31 09:14:45 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 303: 400000.0
2024-10-31 09:14:45 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 352: [Payments(paymentId=502, dealId=352, commentPayments=вакуе, currentDate=2024-10-31, statusPayments=Поступление, sum=34000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=352, name=ывпмвыампвы, numberPhone=8934893289342, whatNeed=цуавцвыва, deliveryAdress=йцвйцв, author=Светлана Халина, email=null, user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]))]
2024-10-31 09:14:45 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 34000.0
2024-10-31 09:14:45 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 352: 34000.0
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен]: 0
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 34000.0
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 8500.0
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен]
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен]: 0
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен]: 1
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 09:14:48 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 09:15:46 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 09:15:46 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 09:15:46 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 09:15:47 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 38705 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 09:15:47 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 09:15:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 09:15:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 6 JPA repository interfaces.
2024-10-31 09:15:48 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 09:15:48 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 09:15:48 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 09:15:48 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 09:15:48 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 692 ms
2024-10-31 09:15:48 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 09:15:48 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 09:15:48 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 09:15:48 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 09:15:48 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 09:15:48 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@54be6213
2024-10-31 09:15:48 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 09:15:48 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 09:15:49 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 09:15:49 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@799fc4c9] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 09:15:49 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 09:15:49 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 09:15:50 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 09:15:50 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@59b782fa, org.springframework.security.web.session.ForceEagerSessionCreationFilter@788890e9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2132f68e, org.springframework.security.web.context.SecurityContextHolderFilter@6203cec, org.springframework.security.web.header.HeaderWriterFilter@77ea06bb, org.springframework.web.filter.CorsFilter@17d1b2a0, org.springframework.security.web.authentication.logout.LogoutFilter@520a8ea1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@71da2e9e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61e33118, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@193594ad, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@729452f2, org.springframework.security.web.session.SessionManagementFilter@7a76e1b9, org.springframework.security.web.access.ExceptionTranslationFilter@9edb372, org.springframework.security.web.access.intercept.AuthorizationFilter@537e8a15]
2024-10-31 09:15:50 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 09:15:50 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 3.056 seconds (process running for 3.35)
2024-10-31 09:15:50 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 09:15:50 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 09:15:50 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 09:15:50 [http-nio-8080-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.DealController.getUserDeals(DealController.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 09:15:52 [http-nio-8080-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.UserStatisticsController.getUserStatistics(UserStatisticsController.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 09:15:56 [http-nio-8080-exec-5] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен]: 0
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 34000.0
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 8500.0
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен]
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен]: 0
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен]: 1
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 09:15:56 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 09:15:56 [http-nio-8080-exec-6] ERROR freemarker.runtime - Error executing FreeMarker template
freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> userStatisticsMap[user]  [in template "statistics.ftlh" at line 207, column 47]

----
Tip: It's the final [] step that caused this error, not those before it.
----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${userStatisticsMap[user].completedDe...  [in template "statistics.ftlh" at line 207, column 45]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)
	at freemarker.core.UnexpectedTypeException.newDescriptionBuilder(UnexpectedTypeException.java:85)
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:48)
	at freemarker.core.NonHashException.<init>(NonHashException.java:49)
	at freemarker.core.Dot._eval(Dot.java:48)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DefaultToExpression._eval(DefaultToExpression.java:96)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:291)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 09:15:56 [http-nio-8080-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> userStatisticsMap[user]  [in template "statistics.ftlh" at line 207, column 47]

----
Tip: It's the final [] step that caused this error, not those before it.
----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${userStatisticsMap[user].completedDe...  [in template "statistics.ftlh" at line 207, column 45]
----] with root cause
freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> userStatisticsMap[user]  [in template "statistics.ftlh" at line 207, column 47]

----
Tip: It's the final [] step that caused this error, not those before it.
----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${userStatisticsMap[user].completedDe...  [in template "statistics.ftlh" at line 207, column 45]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)
	at freemarker.core.UnexpectedTypeException.newDescriptionBuilder(UnexpectedTypeException.java:85)
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:48)
	at freemarker.core.NonHashException.<init>(NonHashException.java:49)
	at freemarker.core.Dot._eval(Dot.java:48)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DefaultToExpression._eval(DefaultToExpression.java:96)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:291)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 09:15:56 [http-nio-8080-exec-6] ERROR o.s.b.a.w.s.e.ErrorMvcAutoConfiguration$StaticView - Cannot render error page for request [/statistics] as the response has already been committed. As a result, the response may have the wrong status code.
2024-10-31 09:20:28 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 09:20:28 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 09:20:28 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 09:20:30 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 39064 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 09:20:30 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 09:20:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 09:20:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-10-31 09:20:30 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 09:20:30 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 09:20:30 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 09:20:30 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 09:20:30 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 637 ms
2024-10-31 09:20:31 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 09:20:31 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 09:20:31 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 09:20:31 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 09:20:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 09:20:31 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5e0f2c82
2024-10-31 09:20:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 09:20:31 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 09:20:31 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 09:20:31 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2cb53bfc] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 09:20:31 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 09:20:32 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 09:20:32 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 09:20:32 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4ea78b91, org.springframework.security.web.session.ForceEagerSessionCreationFilter@7817824d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62497b5d, org.springframework.security.web.context.SecurityContextHolderFilter@516dd567, org.springframework.security.web.header.HeaderWriterFilter@4b16671e, org.springframework.web.filter.CorsFilter@329ab624, org.springframework.security.web.authentication.logout.LogoutFilter@42530cd6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@788890e9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1cdb3ccd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2af97fb9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@401358e5, org.springframework.security.web.session.SessionManagementFilter@147b758f, org.springframework.security.web.access.ExceptionTranslationFilter@5708b827, org.springframework.security.web.access.intercept.AuthorizationFilter@59b782fa]
2024-10-31 09:20:32 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 09:20:32 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.799 seconds (process running for 3.08)
2024-10-31 09:20:36 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 09:20:36 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 09:20:36 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 09:20:38 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен]: 0
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 34000.0
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 8500.0
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен]
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен]: 0
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен]: 1
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 09:20:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 09:20:38 [http-nio-8080-exec-4] ERROR freemarker.runtime - Error executing FreeMarker template
freemarker.core.UnexpectedTypeException: For "...[...]" left-hand operand: Expected a sequence or string or something automatically convertible to string (number, date or boolean), but this has evaluated to an extended_hash (wrapper: f.t.SimpleHash):
==> userStatisticsMap  [in template "statistics.ftlh" at line 206, column 22]

----
Tip: You had a numerical value inside the []. Currently that's only supported for sequences (lists) and strings. To get a Map item with a non-string key, use myMap?api.get(myKey).
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if userStatisticsMap[userId]??  [in template "statistics.ftlh" at line 206, column 17]
----
	at freemarker.core.DynamicKeyName.dealWithNumericalKey(DynamicKeyName.java:150)
	at freemarker.core.DynamicKeyName._eval(DynamicKeyName.java:82)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.ExistsExpression._eval(ExistsExpression.java:49)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.Expression.evalToBoolean(Expression.java:177)
	at freemarker.core.Expression.evalToBoolean(Expression.java:163)
	at freemarker.core.IfBlock.accept(IfBlock.java:49)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:291)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 09:20:38 [http-nio-8080-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: freemarker.core.UnexpectedTypeException: For "...[...]" left-hand operand: Expected a sequence or string or something automatically convertible to string (number, date or boolean), but this has evaluated to an extended_hash (wrapper: f.t.SimpleHash):
==> userStatisticsMap  [in template "statistics.ftlh" at line 206, column 22]

----
Tip: You had a numerical value inside the []. Currently that's only supported for sequences (lists) and strings. To get a Map item with a non-string key, use myMap?api.get(myKey).
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if userStatisticsMap[userId]??  [in template "statistics.ftlh" at line 206, column 17]
----] with root cause
freemarker.core.UnexpectedTypeException: For "...[...]" left-hand operand: Expected a sequence or string or something automatically convertible to string (number, date or boolean), but this has evaluated to an extended_hash (wrapper: f.t.SimpleHash):
==> userStatisticsMap  [in template "statistics.ftlh" at line 206, column 22]

----
Tip: You had a numerical value inside the []. Currently that's only supported for sequences (lists) and strings. To get a Map item with a non-string key, use myMap?api.get(myKey).
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if userStatisticsMap[userId]??  [in template "statistics.ftlh" at line 206, column 17]
----
	at freemarker.core.DynamicKeyName.dealWithNumericalKey(DynamicKeyName.java:150)
	at freemarker.core.DynamicKeyName._eval(DynamicKeyName.java:82)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.ExistsExpression._eval(ExistsExpression.java:49)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.Expression.evalToBoolean(Expression.java:177)
	at freemarker.core.Expression.evalToBoolean(Expression.java:163)
	at freemarker.core.IfBlock.accept(IfBlock.java:49)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:291)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 09:20:38 [http-nio-8080-exec-4] ERROR o.s.b.a.w.s.e.ErrorMvcAutoConfiguration$StaticView - Cannot render error page for request [/statistics] as the response has already been committed. As a result, the response may have the wrong status code.
2024-10-31 09:22:08 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 09:22:08 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 09:22:08 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 09:22:09 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 39196 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 09:22:09 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 09:22:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 09:22:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-10-31 09:22:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 09:22:10 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 09:22:10 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 09:22:10 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 09:22:10 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 629 ms
2024-10-31 09:22:10 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 09:22:10 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 09:22:10 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 09:22:10 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 09:22:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 09:22:10 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@547aaa32
2024-10-31 09:22:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 09:22:10 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 09:22:11 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 09:22:11 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@11939a9f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 09:22:11 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 09:22:11 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 09:22:12 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 09:22:12 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4fa7df5c, org.springframework.security.web.session.ForceEagerSessionCreationFilter@29788adf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f0166d7, org.springframework.security.web.context.SecurityContextHolderFilter@7dd5d17a, org.springframework.security.web.header.HeaderWriterFilter@73ce6315, org.springframework.web.filter.CorsFilter@42530cd6, org.springframework.security.web.authentication.logout.LogoutFilter@2af97fb9, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@728055bf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4d5dc037, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@500497e3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@337f76ff, org.springframework.security.web.session.SessionManagementFilter@6ff708d, org.springframework.security.web.access.ExceptionTranslationFilter@5a95f63a, org.springframework.security.web.access.intercept.AuthorizationFilter@4315d110]
2024-10-31 09:22:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 09:22:12 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.856 seconds (process running for 3.152)
2024-10-31 09:22:15 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 09:22:15 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 09:22:15 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 09:22:17 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен]: 0
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 34000.0
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 8500.0
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен]
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен]: 0
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен]: 1
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 09:22:17 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 09:22:17 [http-nio-8080-exec-4] ERROR freemarker.runtime - Error executing FreeMarker template
freemarker.core._MiscTemplateException: Can't use ?api, because the "api_builtin_enabled" configuration setting is false. Think twice before you set it to true though. Especially, it shouldn't abused for modifying Map-s and Collection-s.
The blamed expression:
==> userStatisticsMap?api  [in template "statistics.ftlh" at line 206, column 22]

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if userStatisticsMap?api.get(userId)??  [in template "statistics.ftlh" at line 206, column 17]
----
	at freemarker.core.BuiltInsForMultipleTypes$apiBI._eval(BuiltInsForMultipleTypes.java:230)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.Dot._eval(Dot.java:41)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.MethodCall._eval(MethodCall.java:55)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.ExistsExpression._eval(ExistsExpression.java:49)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.Expression.evalToBoolean(Expression.java:177)
	at freemarker.core.Expression.evalToBoolean(Expression.java:163)
	at freemarker.core.IfBlock.accept(IfBlock.java:49)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:291)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 09:22:17 [http-nio-8080-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: freemarker.core._MiscTemplateException: Can't use ?api, because the "api_builtin_enabled" configuration setting is false. Think twice before you set it to true though. Especially, it shouldn't abused for modifying Map-s and Collection-s.
The blamed expression:
==> userStatisticsMap?api  [in template "statistics.ftlh" at line 206, column 22]

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if userStatisticsMap?api.get(userId)??  [in template "statistics.ftlh" at line 206, column 17]
----] with root cause
freemarker.core._MiscTemplateException: Can't use ?api, because the "api_builtin_enabled" configuration setting is false. Think twice before you set it to true though. Especially, it shouldn't abused for modifying Map-s and Collection-s.
The blamed expression:
==> userStatisticsMap?api  [in template "statistics.ftlh" at line 206, column 22]

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if userStatisticsMap?api.get(userId)??  [in template "statistics.ftlh" at line 206, column 17]
----
	at freemarker.core.BuiltInsForMultipleTypes$apiBI._eval(BuiltInsForMultipleTypes.java:230)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.Dot._eval(Dot.java:41)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.MethodCall._eval(MethodCall.java:55)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.ExistsExpression._eval(ExistsExpression.java:49)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.Expression.evalToBoolean(Expression.java:177)
	at freemarker.core.Expression.evalToBoolean(Expression.java:163)
	at freemarker.core.IfBlock.accept(IfBlock.java:49)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:291)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 09:22:17 [http-nio-8080-exec-4] ERROR o.s.b.a.w.s.e.ErrorMvcAutoConfiguration$StaticView - Cannot render error page for request [/statistics] as the response has already been committed. As a result, the response may have the wrong status code.
2024-10-31 09:24:56 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 09:24:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 09:24:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 09:24:58 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 39410 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 09:24:58 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 09:24:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 09:24:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 6 JPA repository interfaces.
2024-10-31 09:24:59 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 09:24:59 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 09:24:59 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 09:24:59 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 09:24:59 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 660 ms
2024-10-31 09:24:59 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 09:24:59 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 09:24:59 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 09:24:59 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 09:24:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 09:24:59 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4b5ad306
2024-10-31 09:24:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 09:24:59 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 09:25:00 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 09:25:00 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@e0d9e3f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 09:25:00 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 09:25:00 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 09:25:00 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 09:25:01 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5e3c3c3d, org.springframework.security.web.session.ForceEagerSessionCreationFilter@7aafcef3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20c048cc, org.springframework.security.web.context.SecurityContextHolderFilter@5e5db72e, org.springframework.security.web.header.HeaderWriterFilter@53b2e5, org.springframework.web.filter.CorsFilter@68400aa5, org.springframework.security.web.authentication.logout.LogoutFilter@7d893815, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@29788adf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@9edb372, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44bd3dc5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@57a20e44, org.springframework.security.web.session.SessionManagementFilter@18a8a42b, org.springframework.security.web.access.ExceptionTranslationFilter@ccba99, org.springframework.security.web.access.intercept.AuthorizationFilter@4fa7df5c]
2024-10-31 09:25:01 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 09:25:01 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.951 seconds (process running for 3.22)
2024-10-31 09:25:03 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 09:25:03 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 09:25:03 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 09:25:03 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.UserStatisticsController.getUserStatistics(UserStatisticsController.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 09:25:08 [http-nio-8080-exec-4] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен]: 0
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 34000.0
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 8500.0
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен]
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен]: 0
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен]: 1
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 09:25:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 09:31:29 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 09:31:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 09:31:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 09:31:31 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 39875 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 09:31:31 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 09:31:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 09:31:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-10-31 09:31:31 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 09:31:31 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 09:31:31 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 09:31:32 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 09:31:32 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 637 ms
2024-10-31 09:31:32 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 09:31:32 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 09:31:32 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 09:31:32 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 09:31:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 09:31:32 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@54be6213
2024-10-31 09:31:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 09:31:32 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 09:31:32 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 09:31:32 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@44428583] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 09:31:32 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 09:31:33 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 09:31:33 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 09:31:33 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@10aabada, org.springframework.security.web.session.ForceEagerSessionCreationFilter@193bf20, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@69ebb009, org.springframework.security.web.context.SecurityContextHolderFilter@7d893815, org.springframework.security.web.header.HeaderWriterFilter@1cdb3ccd, org.springframework.web.filter.CorsFilter@31d7e70, org.springframework.security.web.authentication.logout.LogoutFilter@71da2e9e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@401358e5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7bf56370, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39da5edb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@462478a3, org.springframework.security.web.session.SessionManagementFilter@1500416c, org.springframework.security.web.access.ExceptionTranslationFilter@516dd567, org.springframework.security.web.access.intercept.AuthorizationFilter@329ab624]
2024-10-31 09:31:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 09:31:33 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.846 seconds (process running for 3.125)
2024-10-31 09:31:35 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 09:31:35 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 09:31:35 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 09:31:35 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.UserStatisticsController.getUserStatistics(UserStatisticsController.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 09:31:37 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен]: 0
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 34000.0
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 8500.0
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен]
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен]: 0
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен]: 1
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 09:31:38 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 09:36:16 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 09:36:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 09:36:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 09:36:18 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 40238 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 09:36:18 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 09:36:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 09:36:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2024-10-31 09:36:18 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 09:36:18 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 09:36:18 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 09:36:18 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 09:36:18 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 672 ms
2024-10-31 09:36:18 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 09:36:18 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 09:36:18 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 09:36:19 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 09:36:19 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 09:36:19 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@54be6213
2024-10-31 09:36:19 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 09:36:19 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 09:36:19 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 09:36:19 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@516155b5] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 09:36:19 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 09:36:19 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 09:36:20 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 09:36:20 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@10aabada, org.springframework.security.web.session.ForceEagerSessionCreationFilter@193bf20, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@69ebb009, org.springframework.security.web.context.SecurityContextHolderFilter@29fe45a3, org.springframework.security.web.header.HeaderWriterFilter@6203cec, org.springframework.web.filter.CorsFilter@31d7e70, org.springframework.security.web.authentication.logout.LogoutFilter@71da2e9e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@401358e5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2af97fb9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1500416c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@462478a3, org.springframework.security.web.session.SessionManagementFilter@61e33118, org.springframework.security.web.access.ExceptionTranslationFilter@70f0a3a3, org.springframework.security.web.access.intercept.AuthorizationFilter@329ab624]
2024-10-31 09:36:20 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 09:36:20 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.874 seconds (process running for 3.151)
2024-10-31 09:36:20 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 09:36:20 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 09:36:20 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-10-31 09:36:22 [http-nio-8080-exec-2] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен]: 0
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 34000.0
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 8500.0
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен]
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен]: 0
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен]: 1
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 09:36:22 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 09:36:46 [http-nio-8080-exec-7] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 303: [Payments(paymentId=454, dealId=303, commentPayments=оплата по сч 7, currentDate=2024-10-29, statusPayments=Поступление, sum=400000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=455, dealId=303, commentPayments=оплата в гл по сч 12, currentDate=2024-10-29, statusPayments=Поступление, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=456, dealId=303, commentPayments=оплата в гл счет 15, currentDate=2024-10-29, statusPayments=Расход, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]))]
2024-10-31 09:36:46 [http-nio-8080-exec-7] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 400000.0
2024-10-31 09:36:46 [http-nio-8080-exec-7] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 150000.0
2024-10-31 09:36:46 [http-nio-8080-exec-7] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 150000.0
2024-10-31 09:36:46 [http-nio-8080-exec-7] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 303: 400000.0
2024-10-31 09:36:46 [http-nio-8080-exec-7] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 352: [Payments(paymentId=502, dealId=352, commentPayments=вакуе, currentDate=2024-10-31, statusPayments=Поступление, sum=34000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=352, name=ывпмвыампвы, numberPhone=8934893289342, whatNeed=цуавцвыва, deliveryAdress=йцвйцв, author=Светлана Халина, email=null, user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]))]
2024-10-31 09:36:46 [http-nio-8080-exec-7] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 34000.0
2024-10-31 09:36:46 [http-nio-8080-exec-7] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 352: 34000.0
2024-10-31 09:36:48 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 302: [Payments(paymentId=452, dealId=302, commentPayments=счет 6, currentDate=2024-10-29, statusPayments=Поступление, sum=500000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=302, name=Игорь Пигорь, numberPhone=89997776655, whatNeed=кровлю, deliveryAdress=пилькаполькалово, author=Георгий Панус, email=null, user=User(userId=6, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$5gRYptrKWlErjV5PBr3eOu6UxwTkj4nw7w/E48suXmaacRJDT7jZO, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.256208, deals=[]), companyProfit=0.0, status=null, lastStatus=Завершен, creationDate=null), user=User(userId=6, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$5gRYptrKWlErjV5PBr3eOu6UxwTkj4nw7w/E48suXmaacRJDT7jZO, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.256208, deals=[])), Payments(paymentId=453, dealId=302, commentPayments=счет гл 2, currentDate=2024-10-29, statusPayments=Расход, sum=100000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=302, name=Игорь Пигорь, numberPhone=89997776655, whatNeed=кровлю, deliveryAdress=пилькаполькалово, author=Георгий Панус, email=null, user=User(userId=6, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$5gRYptrKWlErjV5PBr3eOu6UxwTkj4nw7w/E48suXmaacRJDT7jZO, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.256208, deals=[]), companyProfit=0.0, status=null, lastStatus=Завершен, creationDate=null), user=User(userId=6, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$5gRYptrKWlErjV5PBr3eOu6UxwTkj4nw7w/E48suXmaacRJDT7jZO, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.256208, deals=[]))]
2024-10-31 09:36:48 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 500000.0
2024-10-31 09:36:48 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 100000.0
2024-10-31 09:36:48 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 302: 400000.0
2024-10-31 09:36:53 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 352: [Payments(paymentId=502, dealId=352, commentPayments=вакуе, currentDate=2024-10-31, statusPayments=Поступление, sum=34000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=352, name=ывпмвыампвы, numberPhone=8934893289342, whatNeed=цуавцвыва, deliveryAdress=йцвйцв, author=Светлана Халина, email=null, user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]))]
2024-10-31 09:36:53 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 34000.0
2024-10-31 09:36:53 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 352: 34000.0
2024-10-31 09:36:53 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 352: [Payments(paymentId=502, dealId=352, commentPayments=вакуе, currentDate=2024-10-31, statusPayments=Поступление, sum=34000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=352, name=ывпмвыампвы, numberPhone=8934893289342, whatNeed=цуавцвыва, deliveryAdress=йцвйцв, author=Светлана Халина, email=null, user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]))]
2024-10-31 09:36:53 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 34000.0
2024-10-31 09:36:53 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 352: 34000.0
2024-10-31 09:36:58 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 302: [Payments(paymentId=452, dealId=302, commentPayments=счет 6, currentDate=2024-10-29, statusPayments=Поступление, sum=500000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=302, name=Игорь Пигорь, numberPhone=89997776655, whatNeed=кровлю, deliveryAdress=пилькаполькалово, author=Георгий Панус, email=null, user=User(userId=6, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$5gRYptrKWlErjV5PBr3eOu6UxwTkj4nw7w/E48suXmaacRJDT7jZO, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.256208, deals=[]), companyProfit=0.0, status=null, lastStatus=Завершен, creationDate=null), user=User(userId=6, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$5gRYptrKWlErjV5PBr3eOu6UxwTkj4nw7w/E48suXmaacRJDT7jZO, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.256208, deals=[])), Payments(paymentId=453, dealId=302, commentPayments=счет гл 2, currentDate=2024-10-29, statusPayments=Расход, sum=100000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=302, name=Игорь Пигорь, numberPhone=89997776655, whatNeed=кровлю, deliveryAdress=пилькаполькалово, author=Георгий Панус, email=null, user=User(userId=6, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$5gRYptrKWlErjV5PBr3eOu6UxwTkj4nw7w/E48suXmaacRJDT7jZO, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.256208, deals=[]), companyProfit=0.0, status=null, lastStatus=Завершен, creationDate=null), user=User(userId=6, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$5gRYptrKWlErjV5PBr3eOu6UxwTkj4nw7w/E48suXmaacRJDT7jZO, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.256208, deals=[]))]
2024-10-31 09:36:58 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 500000.0
2024-10-31 09:36:58 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 100000.0
2024-10-31 09:36:58 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 302: 400000.0
2024-10-31 09:37:01 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 352: [Payments(paymentId=502, dealId=352, commentPayments=вакуе, currentDate=2024-10-31, statusPayments=Поступление, sum=34000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=352, name=ывпмвыампвы, numberPhone=8934893289342, whatNeed=цуавцвыва, deliveryAdress=йцвйцв, author=Светлана Халина, email=null, user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]))]
2024-10-31 09:37:01 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 34000.0
2024-10-31 09:37:01 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 352: 34000.0
2024-10-31 09:37:01 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 352: [Payments(paymentId=502, dealId=352, commentPayments=вакуе, currentDate=2024-10-31, statusPayments=Поступление, sum=34000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=352, name=ывпмвыампвы, numberPhone=8934893289342, whatNeed=цуавцвыва, deliveryAdress=йцвйцв, author=Светлана Халина, email=null, user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]))]
2024-10-31 09:37:01 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 34000.0
2024-10-31 09:37:01 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 352: 34000.0
2024-10-31 09:37:07 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 352: [Payments(paymentId=502, dealId=352, commentPayments=вакуе, currentDate=2024-10-31, statusPayments=Поступление, sum=34000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=352, name=ывпмвыампвы, numberPhone=8934893289342, whatNeed=цуавцвыва, deliveryAdress=йцвйцв, author=Светлана Халина, email=null, user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[])), Payments(paymentId=552, dealId=352, commentPayments=wdsd, currentDate=2024-10-31, statusPayments=Расход, sum=2323.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=352, name=ывпмвыампвы, numberPhone=8934893289342, whatNeed=цуавцвыва, deliveryAdress=йцвйцв, author=Светлана Халина, email=null, user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]))]
2024-10-31 09:37:07 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 34000.0
2024-10-31 09:37:07 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 2323.0
2024-10-31 09:37:07 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 352: 31677.0
2024-10-31 09:37:07 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 352: [Payments(paymentId=502, dealId=352, commentPayments=вакуе, currentDate=2024-10-31, statusPayments=Поступление, sum=34000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=352, name=ывпмвыампвы, numberPhone=8934893289342, whatNeed=цуавцвыва, deliveryAdress=йцвйцв, author=Светлана Халина, email=null, user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[])), Payments(paymentId=552, dealId=352, commentPayments=wdsd, currentDate=2024-10-31, statusPayments=Расход, sum=2323.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=352, name=ывпмвыампвы, numberPhone=8934893289342, whatNeed=цуавцвыва, deliveryAdress=йцвйцв, author=Светлана Халина, email=null, user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]))]
2024-10-31 09:37:07 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 34000.0
2024-10-31 09:37:07 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 2323.0
2024-10-31 09:37:07 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 352: 31677.0
2024-10-31 09:37:08 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 302: [Payments(paymentId=452, dealId=302, commentPayments=счет 6, currentDate=2024-10-29, statusPayments=Поступление, sum=500000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=302, name=Игорь Пигорь, numberPhone=89997776655, whatNeed=кровлю, deliveryAdress=пилькаполькалово, author=Георгий Панус, email=null, user=User(userId=6, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$5gRYptrKWlErjV5PBr3eOu6UxwTkj4nw7w/E48suXmaacRJDT7jZO, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.256208, deals=[]), companyProfit=0.0, status=null, lastStatus=Завершен, creationDate=null), user=User(userId=6, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$5gRYptrKWlErjV5PBr3eOu6UxwTkj4nw7w/E48suXmaacRJDT7jZO, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.256208, deals=[])), Payments(paymentId=453, dealId=302, commentPayments=счет гл 2, currentDate=2024-10-29, statusPayments=Расход, sum=100000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=302, name=Игорь Пигорь, numberPhone=89997776655, whatNeed=кровлю, deliveryAdress=пилькаполькалово, author=Георгий Панус, email=null, user=User(userId=6, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$5gRYptrKWlErjV5PBr3eOu6UxwTkj4nw7w/E48suXmaacRJDT7jZO, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.256208, deals=[]), companyProfit=0.0, status=null, lastStatus=Завершен, creationDate=null), user=User(userId=6, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$5gRYptrKWlErjV5PBr3eOu6UxwTkj4nw7w/E48suXmaacRJDT7jZO, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.256208, deals=[]))]
2024-10-31 09:37:08 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 500000.0
2024-10-31 09:37:08 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 100000.0
2024-10-31 09:37:08 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 302: 400000.0
2024-10-31 09:37:20 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 303: [Payments(paymentId=454, dealId=303, commentPayments=оплата по сч 7, currentDate=2024-10-29, statusPayments=Поступление, sum=400000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=455, dealId=303, commentPayments=оплата в гл по сч 12, currentDate=2024-10-29, statusPayments=Поступление, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=456, dealId=303, commentPayments=оплата в гл счет 15, currentDate=2024-10-29, statusPayments=Расход, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]))]
2024-10-31 09:37:20 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 400000.0
2024-10-31 09:37:20 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 150000.0
2024-10-31 09:37:20 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 150000.0
2024-10-31 09:37:20 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 303: 400000.0
2024-10-31 09:37:20 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 352: [Payments(paymentId=502, dealId=352, commentPayments=вакуе, currentDate=2024-10-31, statusPayments=Поступление, sum=34000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=352, name=ывпмвыампвы, numberPhone=8934893289342, whatNeed=цуавцвыва, deliveryAdress=йцвйцв, author=Светлана Халина, email=null, user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[])), Payments(paymentId=552, dealId=352, commentPayments=wdsd, currentDate=2024-10-31, statusPayments=Расход, sum=2323.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=352, name=ывпмвыампвы, numberPhone=8934893289342, whatNeed=цуавцвыва, deliveryAdress=йцвйцв, author=Светлана Халина, email=null, user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]))]
2024-10-31 09:37:20 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 34000.0
2024-10-31 09:37:20 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 2323.0
2024-10-31 09:37:20 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 352: 31677.0
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен]: 1
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 2323.0
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 2323.0
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 31677.0
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 7919.25
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен]
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен]: 0
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен]
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен]: 1
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 09:37:21 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 09:38:56 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 09:38:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 09:38:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 09:38:58 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 40440 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 09:38:58 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 09:38:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 09:38:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-10-31 09:38:59 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 09:38:59 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 09:38:59 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 09:38:59 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 09:38:59 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 642 ms
2024-10-31 09:38:59 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 09:38:59 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 09:38:59 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 09:38:59 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 09:38:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 09:38:59 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2aa6bbad
2024-10-31 09:38:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 09:38:59 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 09:38:59 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 09:38:59 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@29d29657] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 09:39:00 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 09:39:00 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 09:39:00 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 09:39:00 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2132f68e, org.springframework.security.web.session.ForceEagerSessionCreationFilter@17d1b2a0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@729452f2, org.springframework.security.web.context.SecurityContextHolderFilter@61e33118, org.springframework.security.web.header.HeaderWriterFilter@7a76e1b9, org.springframework.web.filter.CorsFilter@4ea78b91, org.springframework.security.web.authentication.logout.LogoutFilter@4fa7df5c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e30ea7c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ef50c3b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@516dd567, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7817824d, org.springframework.security.web.session.SessionManagementFilter@70f0a3a3, org.springframework.security.web.access.ExceptionTranslationFilter@77ea06bb, org.springframework.security.web.access.intercept.AuthorizationFilter@19a71722]
2024-10-31 09:39:01 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 09:39:01 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.882 seconds (process running for 3.153)
2024-10-31 09:39:08 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 09:39:08 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 09:39:08 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-10-31 09:39:09 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 2323.0
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 2323.0
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 31677.0
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 7919.25
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 09:39:10 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 09:39:13 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 303: [Payments(paymentId=454, dealId=303, commentPayments=оплата по сч 7, currentDate=2024-10-29, statusPayments=Поступление, sum=400000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=455, dealId=303, commentPayments=оплата в гл по сч 12, currentDate=2024-10-29, statusPayments=Поступление, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=456, dealId=303, commentPayments=оплата в гл счет 15, currentDate=2024-10-29, statusPayments=Расход, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]))]
2024-10-31 09:39:14 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 400000.0
2024-10-31 09:39:14 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 150000.0
2024-10-31 09:39:14 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 150000.0
2024-10-31 09:39:14 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 303: 400000.0
2024-10-31 09:39:14 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 352: [Payments(paymentId=502, dealId=352, commentPayments=вакуе, currentDate=2024-10-31, statusPayments=Поступление, sum=34000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=352, name=ывпмвыампвы, numberPhone=8934893289342, whatNeed=цуавцвыва, deliveryAdress=йцвйцв, author=Светлана Халина, email=null, user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[])), Payments(paymentId=552, dealId=352, commentPayments=wdsd, currentDate=2024-10-31, statusPayments=Расход, sum=2323.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=352, name=ывпмвыампвы, numberPhone=8934893289342, whatNeed=цуавцвыва, deliveryAdress=йцвйцв, author=Светлана Халина, email=null, user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]))]
2024-10-31 09:39:14 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 34000.0
2024-10-31 09:39:14 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 2323.0
2024-10-31 09:39:14 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 352: 31677.0
2024-10-31 09:39:15 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 302: [Payments(paymentId=452, dealId=302, commentPayments=счет 6, currentDate=2024-10-29, statusPayments=Поступление, sum=500000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=302, name=Игорь Пигорь, numberPhone=89997776655, whatNeed=кровлю, deliveryAdress=пилькаполькалово, author=Георгий Панус, email=null, user=User(userId=6, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$5gRYptrKWlErjV5PBr3eOu6UxwTkj4nw7w/E48suXmaacRJDT7jZO, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.256208, deals=[]), companyProfit=0.0, status=null, lastStatus=Завершен, creationDate=null), user=User(userId=6, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$5gRYptrKWlErjV5PBr3eOu6UxwTkj4nw7w/E48suXmaacRJDT7jZO, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.256208, deals=[])), Payments(paymentId=453, dealId=302, commentPayments=счет гл 2, currentDate=2024-10-29, statusPayments=Расход, sum=100000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=302, name=Игорь Пигорь, numberPhone=89997776655, whatNeed=кровлю, deliveryAdress=пилькаполькалово, author=Георгий Панус, email=null, user=User(userId=6, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$5gRYptrKWlErjV5PBr3eOu6UxwTkj4nw7w/E48suXmaacRJDT7jZO, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.256208, deals=[]), companyProfit=0.0, status=null, lastStatus=Завершен, creationDate=null), user=User(userId=6, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$5gRYptrKWlErjV5PBr3eOu6UxwTkj4nw7w/E48suXmaacRJDT7jZO, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.256208, deals=[]))]
2024-10-31 09:39:15 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 500000.0
2024-10-31 09:39:15 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 100000.0
2024-10-31 09:39:15 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 302: 400000.0
2024-10-31 09:39:22 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 303: [Payments(paymentId=454, dealId=303, commentPayments=оплата по сч 7, currentDate=2024-10-29, statusPayments=Поступление, sum=400000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=455, dealId=303, commentPayments=оплата в гл по сч 12, currentDate=2024-10-29, statusPayments=Поступление, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=456, dealId=303, commentPayments=оплата в гл счет 15, currentDate=2024-10-29, statusPayments=Расход, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]))]
2024-10-31 09:39:22 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 400000.0
2024-10-31 09:39:22 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 150000.0
2024-10-31 09:39:22 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 150000.0
2024-10-31 09:39:22 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 303: 400000.0
2024-10-31 09:39:22 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 352: [Payments(paymentId=502, dealId=352, commentPayments=вакуе, currentDate=2024-10-31, statusPayments=Поступление, sum=34000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=352, name=ывпмвыампвы, numberPhone=8934893289342, whatNeed=цуавцвыва, deliveryAdress=йцвйцв, author=Светлана Халина, email=null, user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[])), Payments(paymentId=552, dealId=352, commentPayments=wdsd, currentDate=2024-10-31, statusPayments=Расход, sum=2323.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=352, name=ывпмвыампвы, numberPhone=8934893289342, whatNeed=цуавцвыва, deliveryAdress=йцвйцв, author=Светлана Халина, email=null, user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]))]
2024-10-31 09:39:22 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 34000.0
2024-10-31 09:39:22 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 2323.0
2024-10-31 09:39:22 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 352: 31677.0
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 2323.0
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 2323.0
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 31677.0
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 7919.25
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 09:39:23 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 09:39:30 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 303: [Payments(paymentId=454, dealId=303, commentPayments=оплата по сч 7, currentDate=2024-10-29, statusPayments=Поступление, sum=400000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=455, dealId=303, commentPayments=оплата в гл по сч 12, currentDate=2024-10-29, statusPayments=Поступление, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=456, dealId=303, commentPayments=оплата в гл счет 15, currentDate=2024-10-29, statusPayments=Расход, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]))]
2024-10-31 09:39:30 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 400000.0
2024-10-31 09:39:30 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 150000.0
2024-10-31 09:39:30 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 150000.0
2024-10-31 09:39:30 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 303: 400000.0
2024-10-31 09:39:30 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 352: [Payments(paymentId=502, dealId=352, commentPayments=вакуе, currentDate=2024-10-31, statusPayments=Поступление, sum=34000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=352, name=ывпмвыампвы, numberPhone=8934893289342, whatNeed=цуавцвыва, deliveryAdress=йцвйцв, author=Светлана Халина, email=null, user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[])), Payments(paymentId=552, dealId=352, commentPayments=wdsd, currentDate=2024-10-31, statusPayments=Расход, sum=2323.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=352, name=ывпмвыампвы, numberPhone=8934893289342, whatNeed=цуавцвыва, deliveryAdress=йцвйцв, author=Светлана Халина, email=null, user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]))]
2024-10-31 09:39:30 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 34000.0
2024-10-31 09:39:30 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 2323.0
2024-10-31 09:39:30 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 352: 31677.0
2024-10-31 09:43:53 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 09:43:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 09:43:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 09:43:55 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 40831 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 09:43:55 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 09:43:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 09:43:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-10-31 09:43:55 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 09:43:55 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 09:43:55 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 09:43:55 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 09:43:55 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 623 ms
2024-10-31 09:43:55 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 09:43:55 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 09:43:55 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 09:43:56 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 09:43:56 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 09:43:56 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@48a46b0f
2024-10-31 09:43:56 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 09:43:56 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 09:43:56 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 09:43:56 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@265c0752] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 09:43:56 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 09:43:56 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 09:43:57 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 09:43:57 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@401358e5, org.springframework.security.web.session.ForceEagerSessionCreationFilter@4d2af40, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d68af14, org.springframework.security.web.context.SecurityContextHolderFilter@1500416c, org.springframework.security.web.header.HeaderWriterFilter@193594ad, org.springframework.web.filter.CorsFilter@4a24170b, org.springframework.security.web.authentication.logout.LogoutFilter@20c048cc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4ea78b91, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b70ad7a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a151f1a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10aabada, org.springframework.security.web.session.SessionManagementFilter@516dd567, org.springframework.security.web.access.ExceptionTranslationFilter@147b758f, org.springframework.security.web.access.intercept.AuthorizationFilter@729452f2]
2024-10-31 09:43:57 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 09:43:57 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.772 seconds (process running for 3.053)
2024-10-31 09:44:02 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 09:44:02 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 09:44:02 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 09:44:03 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 2323.0
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 2323.0
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 31677.0
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 7919.25
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 09:44:04 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 10:02:30 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=5m33s812ms).
2024-10-31 10:26:42 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=11m42s471ms).
2024-10-31 10:27:22 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 10:27:22 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 10:27:22 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 10:27:24 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 42846 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 10:27:24 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 10:27:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 10:27:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-10-31 10:27:25 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 10:27:25 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 10:27:25 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 10:27:25 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 10:27:25 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 639 ms
2024-10-31 10:27:25 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 10:27:25 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 10:27:25 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 10:27:25 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 10:27:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 10:27:25 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@141aba65
2024-10-31 10:27:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 10:27:25 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 10:27:26 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 10:27:26 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@779448b8] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 10:27:26 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 10:27:26 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 10:27:26 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 10:27:27 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5c3e0c92, org.springframework.security.web.session.ForceEagerSessionCreationFilter@4dc1f629, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4795def, org.springframework.security.web.context.SecurityContextHolderFilter@a0d555f, org.springframework.security.web.header.HeaderWriterFilter@1c028ae2, org.springframework.web.filter.CorsFilter@4d33713a, org.springframework.security.web.authentication.logout.LogoutFilter@43c28101, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@c7ba58d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6c49db66, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@476efc81, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6145be92, org.springframework.security.web.session.SessionManagementFilter@234a21e9, org.springframework.security.web.access.ExceptionTranslationFilter@2f33a2e3, org.springframework.security.web.access.intercept.AuthorizationFilter@3833a045]
2024-10-31 10:27:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 10:27:27 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.829 seconds (process running for 3.11)
2024-10-31 10:27:30 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 10:27:30 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 10:27:30 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 10:27:30 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.UserStatisticsController.getUserStatistics(UserStatisticsController.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 10:27:33 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 2323.0
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 2323.0
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 31677.0
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 7919.25
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 10:27:34 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 10:28:59 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 10:28:59 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 10:28:59 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 10:29:01 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 42984 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 10:29:01 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 10:29:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 10:29:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-10-31 10:29:01 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 10:29:01 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 10:29:01 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 10:29:01 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 10:29:01 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 633 ms
2024-10-31 10:29:01 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 10:29:01 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 10:29:01 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 10:29:02 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 10:29:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 10:29:02 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6f867b0c
2024-10-31 10:29:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 10:29:02 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 10:29:02 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 10:29:02 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@e0d9e3f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 10:29:02 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 10:29:02 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 10:29:03 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 10:29:03 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4795def, org.springframework.security.web.session.ForceEagerSessionCreationFilter@4d33713a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6145be92, org.springframework.security.web.context.SecurityContextHolderFilter@6c49db66, org.springframework.security.web.header.HeaderWriterFilter@234a21e9, org.springframework.web.filter.CorsFilter@23f77c2d, org.springframework.security.web.authentication.logout.LogoutFilter@538ee7ab, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@282c2bbd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@27a9fe9e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cfd4d4d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6dafdb99, org.springframework.security.web.session.SessionManagementFilter@c7eb2a9, org.springframework.security.web.access.ExceptionTranslationFilter@1c028ae2, org.springframework.security.web.access.intercept.AuthorizationFilter@2d579733]
2024-10-31 10:29:03 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 10:29:03 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.858 seconds (process running for 3.13)
2024-10-31 10:29:05 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 10:29:05 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 10:29:05 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-10-31 10:29:05 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.UserStatisticsController.getUserStatistics(UserStatisticsController.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 10:29:08 [http-nio-8080-exec-4] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 2323.0
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 2323.0
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 31677.0
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 7919.25
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 10:29:08 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 10:31:29 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 10:31:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 10:31:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 10:31:30 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 43172 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 10:31:30 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 10:31:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 10:31:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 6 JPA repository interfaces.
2024-10-31 10:31:31 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 10:31:31 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 10:31:31 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 10:31:31 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 10:31:31 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 673 ms
2024-10-31 10:31:31 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 10:31:31 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 10:31:31 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 10:31:31 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 10:31:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 10:31:31 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2ef041bb
2024-10-31 10:31:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 10:31:31 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 10:31:32 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 10:31:32 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7d4b32d1] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 10:31:32 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 10:31:32 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 10:31:33 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 10:31:33 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@513156fd, org.springframework.security.web.session.ForceEagerSessionCreationFilter@4fd43b14, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b9d7666, org.springframework.security.web.context.SecurityContextHolderFilter@2c3c36df, org.springframework.security.web.header.HeaderWriterFilter@6b21a869, org.springframework.web.filter.CorsFilter@36bcae97, org.springframework.security.web.authentication.logout.LogoutFilter@7c5024c1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7eecb648, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6edbdbed, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e5bc4e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d618003, org.springframework.security.web.session.SessionManagementFilter@43c28101, org.springframework.security.web.access.ExceptionTranslationFilter@54372b03, org.springframework.security.web.access.intercept.AuthorizationFilter@6a478680]
2024-10-31 10:31:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 10:31:33 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.939 seconds (process running for 3.232)
2024-10-31 10:31:34 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 10:31:34 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 10:31:34 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 10:31:34 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.UserStatisticsController.getUserStatistics(UserStatisticsController.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 10:31:36 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 2323.0
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 2323.0
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 31677.0
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 7919.25
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 10:31:36 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 10:32:46 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 10:32:46 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 10:32:46 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 10:32:47 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 43300 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 10:32:47 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 10:32:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 10:32:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2024-10-31 10:32:48 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 10:32:48 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 10:32:48 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 10:32:48 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 10:32:48 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 648 ms
2024-10-31 10:32:48 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 10:32:48 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 10:32:48 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 10:32:48 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 10:32:48 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 10:32:48 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6f867b0c
2024-10-31 10:32:48 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 10:32:48 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 10:32:49 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 10:32:49 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@799fc4c9] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 10:32:49 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 10:32:49 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 10:32:50 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 10:32:50 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@513156fd, org.springframework.security.web.session.ForceEagerSessionCreationFilter@4fd43b14, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b9d7666, org.springframework.security.web.context.SecurityContextHolderFilter@2c3c36df, org.springframework.security.web.header.HeaderWriterFilter@6b21a869, org.springframework.web.filter.CorsFilter@36bcae97, org.springframework.security.web.authentication.logout.LogoutFilter@7c5024c1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7eecb648, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6edbdbed, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e5bc4e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d618003, org.springframework.security.web.session.SessionManagementFilter@43c28101, org.springframework.security.web.access.ExceptionTranslationFilter@54372b03, org.springframework.security.web.access.intercept.AuthorizationFilter@6a478680]
2024-10-31 10:32:50 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 10:32:50 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.968 seconds (process running for 3.243)
2024-10-31 10:32:51 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 10:32:51 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 10:32:51 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 10:32:52 [http-nio-8080-exec-2] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 2323.0
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 2323.0
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 31677.0
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 7919.25
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 10:32:53 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 10:32:57 [http-nio-8080-exec-9] INFO  c.e.f.s.CustomUserDetailsService - User found: pich@mail.ru
2024-10-31 10:32:57 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 10:32:57 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 10:32:57 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 10:32:57 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 10:32:57 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 10:32:57 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 10:32:57 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 10:32:57 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 10:32:57 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 10:32:57 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 10:32:57 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 10:32:57 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 10:34:01 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 10:34:01 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 10:34:01 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 10:34:02 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 43417 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 10:34:02 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 10:34:03 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 10:34:03 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-10-31 10:34:03 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 10:34:03 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 10:34:03 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 10:34:03 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 10:34:03 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 654 ms
2024-10-31 10:34:03 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 10:34:03 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 10:34:03 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 10:34:03 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 10:34:03 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 10:34:03 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4afd65fd
2024-10-31 10:34:03 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 10:34:03 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 10:34:04 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 10:34:04 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@779448b8] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 10:34:04 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 10:34:04 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 10:34:05 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 10:34:05 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@31dbe419, org.springframework.security.web.session.ForceEagerSessionCreationFilter@4cd0b8cf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4a094674, org.springframework.security.web.context.SecurityContextHolderFilter@78288298, org.springframework.security.web.header.HeaderWriterFilter@27a9fe9e, org.springframework.web.filter.CorsFilter@4f5f4f7a, org.springframework.security.web.authentication.logout.LogoutFilter@c7ba58d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6f3059ad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e0ccdd6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f849a79, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@214a81a4, org.springframework.security.web.session.SessionManagementFilter@1053b20d, org.springframework.security.web.access.ExceptionTranslationFilter@6c49db66, org.springframework.security.web.access.intercept.AuthorizationFilter@773e4573]
2024-10-31 10:34:05 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 10:34:05 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.946 seconds (process running for 3.234)
2024-10-31 10:34:07 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 10:34:07 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 10:34:07 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-10-31 10:34:07 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.UserStatisticsController.getUserStatistics(UserStatisticsController.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 10:34:10 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: pich@mail.ru
2024-10-31 10:34:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 10:34:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 10:34:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 10:34:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 10:34:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 10:34:10 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 10:34:10 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 10:34:10 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 10:34:10 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 10:34:10 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 10:34:10 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 10:34:10 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 10:34:16 [http-nio-8080-exec-10] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 2323.0
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 2323.0
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 31677.0
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 7919.25
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 10:34:16 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 10:34:43 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 10:34:43 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 10:34:43 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 10:34:45 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 43483 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 10:34:45 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 10:34:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 10:34:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2024-10-31 10:34:46 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 10:34:46 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 10:34:46 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 10:34:46 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 10:34:46 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 639 ms
2024-10-31 10:34:46 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 10:34:46 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 10:34:46 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 10:34:46 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 10:34:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 10:34:46 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5822ecda
2024-10-31 10:34:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 10:34:46 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 10:34:46 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 10:34:46 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5e83298e] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 10:34:46 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 10:34:47 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 10:34:47 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 10:34:47 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4795def, org.springframework.security.web.session.ForceEagerSessionCreationFilter@4d33713a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6145be92, org.springframework.security.web.context.SecurityContextHolderFilter@1c028ae2, org.springframework.security.web.header.HeaderWriterFilter@1189f179, org.springframework.web.filter.CorsFilter@23f77c2d, org.springframework.security.web.authentication.logout.LogoutFilter@6304ff53, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@282c2bbd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@234a21e9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4236d55, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6dafdb99, org.springframework.security.web.session.SessionManagementFilter@1f6881af, org.springframework.security.web.access.ExceptionTranslationFilter@b381194, org.springframework.security.web.access.intercept.AuthorizationFilter@6edbdbed]
2024-10-31 10:34:48 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 10:34:48 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.917 seconds (process running for 3.224)
2024-10-31 10:34:50 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 10:34:50 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 10:34:50 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 10:34:50 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.UserStatisticsController.getUserStatistics(UserStatisticsController.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 10:34:56 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: pich@mail.ru
2024-10-31 10:34:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 10:34:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 10:34:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 10:34:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 10:34:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 10:34:56 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 10:34:56 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 10:34:56 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 10:34:56 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 10:34:56 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 10:34:56 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 10:34:56 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 10:35:04 [http-nio-8080-exec-10] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 2323.0
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 2323.0
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 31677.0
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 7919.25
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 10:35:04 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 10:36:11 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 303: [Payments(paymentId=454, dealId=303, commentPayments=оплата по сч 7, currentDate=2024-10-29, statusPayments=Поступление, sum=400000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=455, dealId=303, commentPayments=оплата в гл по сч 12, currentDate=2024-10-29, statusPayments=Поступление, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=456, dealId=303, commentPayments=оплата в гл счет 15, currentDate=2024-10-29, statusPayments=Расход, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]))]
2024-10-31 10:36:11 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 400000.0
2024-10-31 10:36:11 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 150000.0
2024-10-31 10:36:11 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 150000.0
2024-10-31 10:36:11 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 303: 400000.0
2024-10-31 10:36:11 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 352: [Payments(paymentId=502, dealId=352, commentPayments=вакуе, currentDate=2024-10-31, statusPayments=Поступление, sum=34000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=352, name=ывпмвыампвы, numberPhone=8934893289342, whatNeed=цуавцвыва, deliveryAdress=йцвйцв, author=Светлана Халина, email=null, user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[])), Payments(paymentId=552, dealId=352, commentPayments=wdsd, currentDate=2024-10-31, statusPayments=Расход, sum=2323.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=352, name=ывпмвыампвы, numberPhone=8934893289342, whatNeed=цуавцвыва, deliveryAdress=йцвйцв, author=Светлана Халина, email=null, user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]))]
2024-10-31 10:36:11 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 34000.0
2024-10-31 10:36:11 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 2323.0
2024-10-31 10:36:11 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 352: 31677.0
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 2323.0
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 34000.0
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 2323.0
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 31677.0
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 7919.25
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 1
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 100000.0
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Завершен]
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Завершен]: 0
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь pich@mail.ru и статусы [Отказ]
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя pich@mail.ru и статусов [Отказ]: 0
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 550000.0
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 150000.0
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя pich@mail.ru: 400000.0
2024-10-31 10:36:13 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя pich@mail.ru: 100000.0
2024-10-31 10:36:36 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 303: [Payments(paymentId=454, dealId=303, commentPayments=оплата по сч 7, currentDate=2024-10-29, statusPayments=Поступление, sum=400000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=455, dealId=303, commentPayments=оплата в гл по сч 12, currentDate=2024-10-29, statusPayments=Поступление, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[])), Payments(paymentId=456, dealId=303, commentPayments=оплата в гл счет 15, currentDate=2024-10-29, statusPayments=Расход, sum=150000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=303, name=пигр, numberPhone=89995554433, whatNeed=кровл, deliveryAdress=палькино, author=Снежана Юрченко, email=null, user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=7, email=pich@mail.ru, phoneNumber=89811419730, name=Снежана Юрченко, active=true, password=$2a$10$uUfAJp9XH0bdRUgPk8nBKOmIaejV/zVuFRx5TavrmHRq/uzL17pPS, roles=[ROLE_USER], dateOfCreated=2024-10-29T07:22:05.195354, deals=[]))]
2024-10-31 10:36:36 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 400000.0
2024-10-31 10:36:36 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 150000.0
2024-10-31 10:36:36 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 150000.0
2024-10-31 10:36:36 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 303: 400000.0
2024-10-31 10:36:36 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 352: [Payments(paymentId=502, dealId=352, commentPayments=вакуе, currentDate=2024-10-31, statusPayments=Поступление, sum=34000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=352, name=ывпмвыампвы, numberPhone=8934893289342, whatNeed=цуавцвыва, deliveryAdress=йцвйцв, author=Светлана Халина, email=null, user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[])), Payments(paymentId=552, dealId=352, commentPayments=wdsd, currentDate=2024-10-31, statusPayments=Расход, sum=2323.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=352, name=ывпмвыампвы, numberPhone=8934893289342, whatNeed=цуавцвыва, deliveryAdress=йцвйцв, author=Светлана Халина, email=null, user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=5, email=stroy.live@mail.ru, phoneNumber=89319652535, name=Светлана Халина, active=true, password=$2a$10$bXSsQkC7zOo4o9Ab3sA9HOlk3Pw1oGBQGYxHmhoGhmkI2h.7sUFxa, roles=[ROLE_ADMIN], dateOfCreated=2024-10-28T09:32:16.121183, deals=[]))]
2024-10-31 10:36:36 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 34000.0
2024-10-31 10:36:36 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 2323.0
2024-10-31 10:36:36 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 352: 31677.0
2024-10-31 10:45:05 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m48s828ms).
2024-10-31 11:02:38 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=12m33s512ms).
2024-10-31 11:15:38 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m59s14ms).
2024-10-31 12:59:23 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h36m45s709ms).
2024-10-31 13:23:31 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=24m8s137ms).
2024-10-31 13:59:23 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=35m21s619ms).
2024-10-31 14:12:54 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m667ms).
2024-10-31 14:22:35 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 14:22:36 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 14:22:36 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 14:44:10 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 48994 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 14:44:10 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 14:44:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 14:44:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-10-31 14:44:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 14:44:11 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 14:44:11 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 14:44:11 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 14:44:11 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 630 ms
2024-10-31 14:44:11 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 14:44:11 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 14:44:11 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 14:44:11 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 14:44:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 14:44:11 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@d16209e
2024-10-31 14:44:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 14:44:11 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 14:44:11 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 14:44:11 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2d1f3639] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 14:44:11 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 14:44:12 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 14:44:12 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 14:44:12 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4219e848, org.springframework.security.web.session.ForceEagerSessionCreationFilter@179e0823, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2453e3ce, org.springframework.security.web.context.SecurityContextHolderFilter@2d579733, org.springframework.security.web.header.HeaderWriterFilter@539c833d, org.springframework.web.filter.CorsFilter@46460f58, org.springframework.security.web.authentication.logout.LogoutFilter@5d3e24e2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@331d7260, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d388775, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c3e0c92, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b10e470, org.springframework.security.web.session.SessionManagementFilter@4fbdd61f, org.springframework.security.web.access.ExceptionTranslationFilter@6edbdbed, org.springframework.security.web.access.intercept.AuthorizationFilter@3030a20]
2024-10-31 14:44:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 14:44:13 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.893 seconds (process running for 3.19)
2024-10-31 14:44:13 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-10-31 14:44:13 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.orm.jpa.JpaSystemException: Null value was assigned to a property [class com.example.fenikaCRM10.models.User.percentage] of primitive type: 'com.example.fenikaCRM10.models.User.percentage' (setter)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:341)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:249)
	at jdk.proxy2/jdk.proxy2.$Proxy120.findByEmail(Unknown Source)
	at com.example.fenikaCRM10.services.UserService.findByEmail(UserService.java:53)
	at com.example.fenikaCRM10.configirations.DataInitializer.run(DataInitializer.java:23)
	at org.springframework.boot.SpringApplication.lambda$callRunner$5(SpringApplication.java:798)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:83)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:88)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:806)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:782)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:782)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:341)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1358)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1347)
	at com.example.fenikaCRM10.FenikaCrm10Application.main(FenikaCrm10Application.java:10)
Caused by: org.hibernate.PropertyAccessException: Null value was assigned to a property [class com.example.fenikaCRM10.models.User.percentage] of primitive type: 'com.example.fenikaCRM10.models.User.percentage' (setter)
	at org.hibernate.property.access.spi.SetterFieldImpl.set(SetterFieldImpl.java:63)
	at org.hibernate.persister.entity.AbstractEntityPersister.setPropertyValues(AbstractEntityPersister.java:4443)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:853)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:813)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:799)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:204)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:137)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:300)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:509)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:427)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:564)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:415)
	at jdk.proxy2/jdk.proxy2.$Proxy141.getSingleResult(Unknown Source)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:223)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 29 common frames omitted
Caused by: java.lang.IllegalArgumentException: Can not set double field com.example.fenikaCRM10.models.User.percentage to null value
	at java.base/jdk.internal.reflect.FieldAccessorImpl.throwSetIllegalArgumentException(FieldAccessorImpl.java:228)
	at java.base/jdk.internal.reflect.FieldAccessorImpl.throwSetIllegalArgumentException(FieldAccessorImpl.java:232)
	at java.base/jdk.internal.reflect.MethodHandleDoubleFieldAccessorImpl.set(MethodHandleDoubleFieldAccessorImpl.java:111)
	at java.base/java.lang.reflect.Field.set(Field.java:836)
	at org.hibernate.property.access.spi.SetterFieldImpl.set(SetterFieldImpl.java:57)
	... 68 common frames omitted
2024-10-31 14:44:13 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 14:44:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 14:44:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 14:44:57 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 49065 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 14:44:57 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 14:44:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 14:44:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-10-31 14:44:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 14:44:58 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 14:44:58 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 14:44:58 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 14:44:58 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 666 ms
2024-10-31 14:44:58 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 14:44:58 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 14:44:58 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 14:44:58 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 14:44:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 14:44:58 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4b5ad306
2024-10-31 14:44:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 14:44:58 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 14:44:59 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 14:44:59 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7a14ab66] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 14:44:59 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 14:44:59 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 14:45:00 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 14:45:00 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@61140895, org.springframework.security.web.session.ForceEagerSessionCreationFilter@2d6b53a3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@40bfd515, org.springframework.security.web.context.SecurityContextHolderFilter@6145be92, org.springframework.security.web.header.HeaderWriterFilter@282c2bbd, org.springframework.web.filter.CorsFilter@204e6dda, org.springframework.security.web.authentication.logout.LogoutFilter@513156fd, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@46460f58, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6dafdb99, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3bc3cdb7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@61df99e6, org.springframework.security.web.session.SessionManagementFilter@5c3e0c92, org.springframework.security.web.access.ExceptionTranslationFilter@c7ba58d, org.springframework.security.web.access.intercept.AuthorizationFilter@2453e3ce]
2024-10-31 14:45:00 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 14:45:00 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.958 seconds (process running for 3.253)
2024-10-31 14:45:00 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-10-31 14:45:00 [main] ERROR o.s.boot.SpringApplication - Application run failed
java.lang.UnsupportedOperationException: null
	at java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142)
	at java.base/java.util.ImmutableCollections$AbstractImmutableCollection.add(ImmutableCollections.java:147)
	at com.example.fenikaCRM10.services.UserService.createUser(UserService.java:29)
	at com.example.fenikaCRM10.configirations.DataInitializer.run(DataInitializer.java:32)
	at org.springframework.boot.SpringApplication.lambda$callRunner$5(SpringApplication.java:798)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:83)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:88)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:806)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:782)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:782)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:341)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1358)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1347)
	at com.example.fenikaCRM10.FenikaCrm10Application.main(FenikaCrm10Application.java:10)
2024-10-31 14:45:00 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 14:45:00 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 14:45:00 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 14:45:20 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 49103 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 14:45:20 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 14:45:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 14:45:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2024-10-31 14:45:20 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 14:45:20 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 14:45:20 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 14:45:20 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 14:45:20 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 647 ms
2024-10-31 14:45:21 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 14:45:21 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 14:45:21 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 14:45:21 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 14:45:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 14:45:21 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@472c9f88
2024-10-31 14:45:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 14:45:21 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 14:45:21 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 14:45:21 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@3bbdf835] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 14:45:21 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 14:45:22 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 14:45:22 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 14:45:22 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4a74e70d, org.springframework.security.web.session.ForceEagerSessionCreationFilter@513156fd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4fd43b14, org.springframework.security.web.context.SecurityContextHolderFilter@7b217a33, org.springframework.security.web.header.HeaderWriterFilter@2f9b24ae, org.springframework.web.filter.CorsFilter@5b9d7666, org.springframework.security.web.authentication.logout.LogoutFilter@6f3059ad, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6a478680, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4a4cdeb0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6edbdbed, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@36bcae97, org.springframework.security.web.session.SessionManagementFilter@2e40d8f9, org.springframework.security.web.access.ExceptionTranslationFilter@2cad213d, org.springframework.security.web.access.intercept.AuthorizationFilter@280cc940]
2024-10-31 14:45:23 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 14:45:23 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 3.096 seconds (process running for 3.468)
2024-10-31 14:45:23 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-10-31 14:45:23 [main] ERROR o.s.boot.SpringApplication - Application run failed
java.lang.UnsupportedOperationException: null
	at java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142)
	at java.base/java.util.ImmutableCollections$AbstractImmutableCollection.add(ImmutableCollections.java:147)
	at com.example.fenikaCRM10.services.UserService.createUser(UserService.java:29)
	at com.example.fenikaCRM10.configirations.DataInitializer.run(DataInitializer.java:32)
	at org.springframework.boot.SpringApplication.lambda$callRunner$5(SpringApplication.java:798)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:83)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:88)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:806)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:782)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:782)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:341)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1358)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1347)
	at com.example.fenikaCRM10.FenikaCrm10Application.main(FenikaCrm10Application.java:10)
2024-10-31 14:45:23 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 14:45:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 14:45:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 14:45:55 [main] INFO  c.e.f.FenikaCrm10ApplicationTests - Starting FenikaCrm10ApplicationTests using Java 21.0.3 with PID 49179 (started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 14:45:55 [main] INFO  c.e.f.FenikaCrm10ApplicationTests - No active profile set, falling back to 1 default profile: "default"
2024-10-31 14:45:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 14:45:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 6 JPA repository interfaces.
2024-10-31 14:45:56 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 14:45:56 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 14:45:56 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 14:45:56 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 14:45:56 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 14:45:57 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7d3bf8db
2024-10-31 14:45:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 14:45:57 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 14:45:57 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 14:45:57 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@4a68cbc5] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 14:45:57 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 14:45:57 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 14:45:58 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 14:45:58 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@31dbe419, org.springframework.security.web.session.ForceEagerSessionCreationFilter@4cd0b8cf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4a094674, org.springframework.security.web.context.SecurityContextHolderFilter@27a9fe9e, org.springframework.security.web.header.HeaderWriterFilter@c7eb2a9, org.springframework.web.filter.CorsFilter@4f5f4f7a, org.springframework.security.web.authentication.logout.LogoutFilter@2c3c36df, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5c3e0c92, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4ecd395f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e775ef3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@214a81a4, org.springframework.security.web.session.SessionManagementFilter@a0d555f, org.springframework.security.web.access.ExceptionTranslationFilter@1f6881af, org.springframework.security.web.access.intercept.AuthorizationFilter@d388775]
2024-10-31 14:45:58 [main] INFO  c.e.f.FenikaCrm10ApplicationTests - Started FenikaCrm10ApplicationTests in 3.279 seconds (process running for 3.805)
2024-10-31 14:45:59 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-10-31 14:45:59 [main] ERROR o.s.boot.SpringApplication - Application run failed
java.lang.UnsupportedOperationException: null
	at java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142)
	at java.base/java.util.ImmutableCollections$AbstractImmutableCollection.add(ImmutableCollections.java:147)
	at com.example.fenikaCRM10.services.UserService.createUser(UserService.java:29)
	at com.example.fenikaCRM10.configirations.DataInitializer.run(DataInitializer.java:32)
	at org.springframework.boot.SpringApplication.lambda$callRunner$5(SpringApplication.java:798)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:83)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:88)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:806)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:782)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:782)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:341)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1458)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:552)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2024-10-31 14:45:59 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 14:45:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 14:45:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 14:45:59 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.example.fenikaCRM10.FenikaCrm10ApplicationTests@421a0ba2]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2566428f testClass = com.example.fenikaCRM10.FenikaCrm10ApplicationTests, locations = [], classes = [com.example.fenikaCRM10.FenikaCrm10Application], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6bbe85a8, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@53fb3dab, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@909217e, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@8462f31, org.springframework.boot.test.context.SpringBootTestAnnotation@7e93227b], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: java.lang.UnsupportedOperationException: null
	at java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142)
	at java.base/java.util.ImmutableCollections$AbstractImmutableCollection.add(ImmutableCollections.java:147)
	at com.example.fenikaCRM10.services.UserService.createUser(UserService.java:29)
	at com.example.fenikaCRM10.configirations.DataInitializer.run(DataInitializer.java:32)
	at org.springframework.boot.SpringApplication.lambda$callRunner$5(SpringApplication.java:798)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:83)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:88)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:806)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:782)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:782)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:341)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1458)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:552)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 73 common frames omitted
2024-10-31 14:46:13 [main] INFO  c.e.f.FenikaCrm10ApplicationTests - Starting FenikaCrm10ApplicationTests using Java 21.0.3 with PID 49223 (started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 14:46:13 [main] INFO  c.e.f.FenikaCrm10ApplicationTests - No active profile set, falling back to 1 default profile: "default"
2024-10-31 14:46:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 14:46:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 6 JPA repository interfaces.
2024-10-31 14:46:13 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 14:46:13 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 14:46:13 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 14:46:14 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 14:46:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 14:46:14 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7c7ed72a
2024-10-31 14:46:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 14:46:14 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 14:46:14 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 14:46:14 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@56ec6ac0] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 14:46:14 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 14:46:15 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 14:46:15 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 14:46:15 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4fd43b14, org.springframework.security.web.session.ForceEagerSessionCreationFilter@5b9d7666, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@36bcae97, org.springframework.security.web.context.SecurityContextHolderFilter@4a4cdeb0, org.springframework.security.web.header.HeaderWriterFilter@2e40d8f9, org.springframework.web.filter.CorsFilter@6d618003, org.springframework.security.web.authentication.logout.LogoutFilter@595be089, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@52599443, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e5bc4e7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@539c833d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3030a20, org.springframework.security.web.session.SessionManagementFilter@350a7383, org.springframework.security.web.access.ExceptionTranslationFilter@544364ba, org.springframework.security.web.access.intercept.AuthorizationFilter@7eecb648]
2024-10-31 14:46:16 [main] INFO  c.e.f.FenikaCrm10ApplicationTests - Started FenikaCrm10ApplicationTests in 3.022 seconds (process running for 3.498)
2024-10-31 14:46:16 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-10-31 14:46:16 [main] ERROR o.s.boot.SpringApplication - Application run failed
java.lang.UnsupportedOperationException: null
	at java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142)
	at java.base/java.util.ImmutableCollections$AbstractImmutableCollection.add(ImmutableCollections.java:147)
	at com.example.fenikaCRM10.services.UserService.createUser(UserService.java:29)
	at com.example.fenikaCRM10.configirations.DataInitializer.run(DataInitializer.java:32)
	at org.springframework.boot.SpringApplication.lambda$callRunner$5(SpringApplication.java:798)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:83)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:88)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:806)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:782)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:782)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:341)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1458)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:552)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2024-10-31 14:46:16 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 14:46:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 14:46:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 14:46:16 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.example.fenikaCRM10.FenikaCrm10ApplicationTests@4228da9a]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@396feeb5 testClass = com.example.fenikaCRM10.FenikaCrm10ApplicationTests, locations = [], classes = [com.example.fenikaCRM10.FenikaCrm10Application], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6bbe85a8, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@53fb3dab, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@909217e, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@8462f31, org.springframework.boot.test.context.SpringBootTestAnnotation@7e93227b], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: java.lang.UnsupportedOperationException: null
	at java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142)
	at java.base/java.util.ImmutableCollections$AbstractImmutableCollection.add(ImmutableCollections.java:147)
	at com.example.fenikaCRM10.services.UserService.createUser(UserService.java:29)
	at com.example.fenikaCRM10.configirations.DataInitializer.run(DataInitializer.java:32)
	at org.springframework.boot.SpringApplication.lambda$callRunner$5(SpringApplication.java:798)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:83)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:88)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:806)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:782)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:782)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:341)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1458)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:552)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 73 common frames omitted
2024-10-31 14:46:39 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 49279 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 14:46:39 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 14:46:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 14:46:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 6 JPA repository interfaces.
2024-10-31 14:46:40 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 14:46:40 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 14:46:40 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 14:46:40 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 14:46:40 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 680 ms
2024-10-31 14:46:40 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 14:46:40 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 14:46:40 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 14:46:40 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 14:46:40 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 14:46:41 [main] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
org.postgresql.util.PSQLException: FATAL: database "CRMfenika" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2824)
	at org.postgresql.core.v3.QueryExecutorImpl.<init>(QueryExecutorImpl.java:174)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:313)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:444)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:129)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1232)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1358)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1347)
	at com.example.fenikaCRM10.FenikaCrm10Application.main(FenikaCrm10Application.java:10)
2024-10-31 14:46:41 [main] WARN  o.h.e.j.e.i.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
java.lang.NullPointerException: Cannot invoke "org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)" because the return value of "org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()" is null
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:129)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1232)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1358)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1347)
	at com.example.fenikaCRM10.FenikaCrm10Application.main(FenikaCrm10Application.java:10)
2024-10-31 14:46:41 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 14:46:42 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 14:46:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 14:46:43 [main] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
org.postgresql.util.PSQLException: FATAL: database "CRMfenika" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2824)
	at org.postgresql.core.v3.QueryExecutorImpl.<init>(QueryExecutorImpl.java:174)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:313)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:444)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43)
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60)
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1232)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1358)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1347)
	at com.example.fenikaCRM10.FenikaCrm10Application.main(FenikaCrm10Application.java:10)
2024-10-31 14:46:43 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 3D000
2024-10-31 14:46:43 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - FATAL: database "CRMfenika" does not exist
2024-10-31 14:46:43 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution [FATAL: database "CRMfenika" does not exist] [n/a]
2024-10-31 14:46:43 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution [FATAL: database "CRMfenika" does not exist] [n/a]
2024-10-31 14:46:43 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-10-31 14:46:43 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-10-31 14:46:43 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution [FATAL: database "CRMfenika" does not exist] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1232)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1358)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1347)
	at com.example.fenikaCRM10.FenikaCrm10Application.main(FenikaCrm10Application.java:10)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution [FATAL: database "CRMfenika" does not exist] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	... 16 common frames omitted
Caused by: org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution [FATAL: database "CRMfenika" does not exist] [n/a]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:63)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43)
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60)
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 20 common frames omitted
Caused by: org.postgresql.util.PSQLException: FATAL: database "CRMfenika" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2824)
	at org.postgresql.core.v3.QueryExecutorImpl.<init>(QueryExecutorImpl.java:174)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:313)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:444)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	... 40 common frames omitted
2024-10-31 14:47:15 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 49335 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 14:47:15 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 14:47:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 14:47:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 6 JPA repository interfaces.
2024-10-31 14:47:15 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 14:47:15 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 14:47:15 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 14:47:15 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 14:47:15 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 692 ms
2024-10-31 14:47:16 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 14:47:16 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 14:47:16 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 14:47:16 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 14:47:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 14:47:16 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@98637a2
2024-10-31 14:47:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 14:47:16 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 14:47:16 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 14:47:16 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@516155b5] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 14:47:16 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2024-10-31 14:47:16 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk_6dotkott2kjsp8vw4d0m25fb7" of relation "users" does not exist, skipping
2024-10-31 14:47:16 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 14:47:17 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 14:47:17 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 14:47:17 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6dafdb99, org.springframework.security.web.session.ForceEagerSessionCreationFilter@3bc3cdb7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@773e4573, org.springframework.security.web.context.SecurityContextHolderFilter@4ecd395f, org.springframework.security.web.header.HeaderWriterFilter@a0d555f, org.springframework.web.filter.CorsFilter@6f3059ad, org.springframework.security.web.authentication.logout.LogoutFilter@6edbdbed, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4795def, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@164212ad, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1053b20d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c5024c1, org.springframework.security.web.session.SessionManagementFilter@6c49db66, org.springframework.security.web.access.ExceptionTranslationFilter@c7eb2a9, org.springframework.security.web.access.intercept.AuthorizationFilter@4dc1f629]
2024-10-31 14:47:18 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 14:47:18 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.993 seconds (process running for 3.333)
2024-10-31 14:47:18 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-10-31 14:47:18 [main] ERROR o.s.boot.SpringApplication - Application run failed
java.lang.UnsupportedOperationException: null
	at java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142)
	at java.base/java.util.ImmutableCollections$AbstractImmutableCollection.add(ImmutableCollections.java:147)
	at com.example.fenikaCRM10.services.UserService.createUser(UserService.java:29)
	at com.example.fenikaCRM10.configirations.DataInitializer.run(DataInitializer.java:32)
	at org.springframework.boot.SpringApplication.lambda$callRunner$5(SpringApplication.java:798)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:83)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:88)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:806)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:782)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:782)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:341)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1358)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1347)
	at com.example.fenikaCRM10.FenikaCrm10Application.main(FenikaCrm10Application.java:10)
2024-10-31 14:47:18 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 14:47:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 14:47:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 14:53:22 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 49780 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 14:53:22 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 14:53:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 14:53:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2024-10-31 14:53:23 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 14:53:23 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 14:53:23 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 14:53:23 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 14:53:23 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 632 ms
2024-10-31 14:53:23 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 14:53:23 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 14:53:23 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 14:53:23 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 14:53:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 14:53:23 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@21c75084
2024-10-31 14:53:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 14:53:23 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 14:53:23 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 14:53:23 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2d1f3639] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 14:53:24 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 14:53:24 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 14:53:24 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 14:53:24 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6d618003, org.springframework.security.web.session.ForceEagerSessionCreationFilter@3030a20, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@331d7260, org.springframework.security.web.context.SecurityContextHolderFilter@539c833d, org.springframework.security.web.header.HeaderWriterFilter@538ee7ab, org.springframework.web.filter.CorsFilter@6086ba82, org.springframework.security.web.authentication.logout.LogoutFilter@4cd0b8cf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@513156fd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4fbdd61f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@f014ff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1065f09, org.springframework.security.web.session.SessionManagementFilter@2c3c36df, org.springframework.security.web.access.ExceptionTranslationFilter@43c28101, org.springframework.security.web.access.intercept.AuthorizationFilter@4a74e70d]
2024-10-31 14:53:25 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 14:53:25 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.871 seconds (process running for 3.183)
2024-10-31 14:53:25 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-10-31 14:53:25 [main] ERROR o.s.boot.SpringApplication - Application run failed
java.lang.UnsupportedOperationException: null
	at java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142)
	at java.base/java.util.ImmutableCollections$AbstractImmutableCollection.add(ImmutableCollections.java:147)
	at com.example.fenikaCRM10.services.UserService.createUser(UserService.java:29)
	at com.example.fenikaCRM10.configirations.DataInitializer.run(DataInitializer.java:32)
	at org.springframework.boot.SpringApplication.lambda$callRunner$5(SpringApplication.java:798)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:83)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:88)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:806)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:782)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:782)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:341)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1358)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1347)
	at com.example.fenikaCRM10.FenikaCrm10Application.main(FenikaCrm10Application.java:10)
2024-10-31 14:53:25 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 14:53:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 14:53:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 15:02:04 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 50398 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 15:02:04 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 15:02:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 15:02:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-10-31 15:02:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 15:02:04 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 15:02:04 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 15:02:05 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 15:02:05 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 648 ms
2024-10-31 15:02:05 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 15:02:05 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 15:02:05 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 15:02:05 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 15:02:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 15:02:05 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6b2ef50e
2024-10-31 15:02:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 15:02:05 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 15:02:05 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 15:02:05 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@282240] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 15:02:05 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:02:06 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 15:02:06 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 15:02:06 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2d6b53a3, org.springframework.security.web.session.ForceEagerSessionCreationFilter@40bfd515, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@204e6dda, org.springframework.security.web.context.SecurityContextHolderFilter@23f77c2d, org.springframework.security.web.header.HeaderWriterFilter@d388775, org.springframework.web.filter.CorsFilter@61df99e6, org.springframework.security.web.authentication.logout.LogoutFilter@4fd43b14, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4b10e470, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3bc3cdb7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@773e4573, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@165e3835, org.springframework.security.web.session.SessionManagementFilter@4dc1f629, org.springframework.security.web.access.ExceptionTranslationFilter@2d579733, org.springframework.security.web.access.intercept.AuthorizationFilter@46460f58]
2024-10-31 15:02:07 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 15:02:07 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.918 seconds (process running for 3.241)
2024-10-31 15:02:07 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-10-31 15:02:07 [main] ERROR o.s.boot.SpringApplication - Application run failed
java.lang.UnsupportedOperationException: null
	at java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142)
	at java.base/java.util.ImmutableCollections$AbstractImmutableCollection.add(ImmutableCollections.java:147)
	at com.example.fenikaCRM10.services.UserService.createUser(UserService.java:29)
	at com.example.fenikaCRM10.configirations.DataInitializer.run(DataInitializer.java:32)
	at org.springframework.boot.SpringApplication.lambda$callRunner$5(SpringApplication.java:798)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:83)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:88)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:806)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:782)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:782)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:341)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1358)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1347)
	at com.example.fenikaCRM10.FenikaCrm10Application.main(FenikaCrm10Application.java:10)
2024-10-31 15:02:07 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:02:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 15:02:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 15:07:04 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 50787 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 15:07:04 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 15:07:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 15:07:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2024-10-31 15:07:05 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 15:07:05 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 15:07:05 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 15:07:05 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 15:07:05 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 634 ms
2024-10-31 15:07:05 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 15:07:05 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 15:07:05 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 15:07:05 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 15:07:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 15:07:05 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2ef041bb
2024-10-31 15:07:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 15:07:05 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 15:07:05 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 15:07:05 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@54780c40] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 15:07:06 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:07:06 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 15:07:06 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 15:07:06 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@61140895, org.springframework.security.web.session.ForceEagerSessionCreationFilter@2d6b53a3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@40bfd515, org.springframework.security.web.context.SecurityContextHolderFilter@6145be92, org.springframework.security.web.header.HeaderWriterFilter@282c2bbd, org.springframework.web.filter.CorsFilter@204e6dda, org.springframework.security.web.authentication.logout.LogoutFilter@513156fd, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@46460f58, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6dafdb99, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3bc3cdb7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@61df99e6, org.springframework.security.web.session.SessionManagementFilter@5c3e0c92, org.springframework.security.web.access.ExceptionTranslationFilter@c7ba58d, org.springframework.security.web.access.intercept.AuthorizationFilter@2453e3ce]
2024-10-31 15:07:07 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 15:07:07 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.869 seconds (process running for 3.164)
2024-10-31 15:07:07 [main] INFO  c.e.fenikaCRM10.services.UserService - New user saved with email: stroy.live@mail.ru
2024-10-31 15:07:07 [main] INFO  c.e.fenikaCRM10.services.UserService - New user saved with email: panamo.work@gmail.com
2024-10-31 15:07:41 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 15:07:41 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 15:07:41 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 15:07:42 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.DealController.getUserDeals(DealController.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 15:07:44 [http-nio-8080-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.UserStatisticsController.getUserStatistics(UserStatisticsController.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 15:07:44 [http-nio-8080-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.DealController.getUserDeals(DealController.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 15:07:45 [http-nio-8080-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.UserStatisticsController.getUserStatistics(UserStatisticsController.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 15:07:48 [http-nio-8080-exec-7] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 15:08:02 [http-nio-8080-exec-9] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 15:08:16 [http-nio-8080-exec-1] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 15:08:17 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 15:08:18 [http-nio-8080-exec-5] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 15:08:35 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:08:35 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 15:08:35 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 15:08:37 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 50917 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 15:08:37 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 15:08:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 15:08:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-10-31 15:08:38 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 15:08:38 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 15:08:38 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 15:08:38 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 15:08:38 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 619 ms
2024-10-31 15:08:38 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 15:08:38 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 15:08:38 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 15:08:38 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 15:08:38 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 15:08:38 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@48a46b0f
2024-10-31 15:08:38 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 15:08:38 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 15:08:39 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 15:08:39 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@4d91d2da] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 15:08:39 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:08:39 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 15:08:40 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 15:08:40 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4e0e9fc1, org.springframework.security.web.session.ForceEagerSessionCreationFilter@63dc973e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@694adaac, org.springframework.security.web.context.SecurityContextHolderFilter@4a094674, org.springframework.security.web.header.HeaderWriterFilter@6f3059ad, org.springframework.web.filter.CorsFilter@793dbe67, org.springframework.security.web.authentication.logout.LogoutFilter@179e0823, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7b84d8ef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@214a81a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68955382, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4377d616, org.springframework.security.web.session.SessionManagementFilter@595be089, org.springframework.security.web.access.ExceptionTranslationFilter@3bc3cdb7, org.springframework.security.web.access.intercept.AuthorizationFilter@28f74096]
2024-10-31 15:08:40 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 15:08:40 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.856 seconds (process running for 3.14)
2024-10-31 15:08:42 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 15:08:42 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 15:08:42 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 15:08:44 [http-nio-8080-exec-2] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 15:09:15 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:09:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 15:09:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 15:09:17 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 50987 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 15:09:17 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 15:09:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 15:09:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2024-10-31 15:09:17 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 15:09:17 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 15:09:17 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 15:09:17 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 15:09:17 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 642 ms
2024-10-31 15:09:18 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 15:09:18 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 15:09:18 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 15:09:18 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 15:09:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 15:09:18 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@45e7bb79
2024-10-31 15:09:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 15:09:18 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 15:09:18 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 15:09:18 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@6ac83e67] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 15:09:18 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:09:19 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 15:09:19 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 15:09:19 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3030a20, org.springframework.security.web.session.ForceEagerSessionCreationFilter@331d7260, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6086ba82, org.springframework.security.web.context.SecurityContextHolderFilter@7f096ea0, org.springframework.security.web.header.HeaderWriterFilter@54372b03, org.springframework.web.filter.CorsFilter@1065f09, org.springframework.security.web.authentication.logout.LogoutFilter@4a094674, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4fd43b14, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f014ff3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3833a045, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1acf0703, org.springframework.security.web.session.SessionManagementFilter@6b21a869, org.springframework.security.web.access.ExceptionTranslationFilter@6304ff53, org.springframework.security.web.access.intercept.AuthorizationFilter@513156fd]
2024-10-31 15:09:20 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 15:09:20 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.904 seconds (process running for 3.187)
2024-10-31 15:09:22 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 15:09:22 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 15:09:22 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 15:09:22 [http-nio-8080-exec-1] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 15:09:22 [http-nio-8080-exec-2] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 15:09:23 [http-nio-8080-exec-4] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 15:09:24 [http-nio-8080-exec-6] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 15:09:24 [http-nio-8080-exec-8] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 15:09:24 [http-nio-8080-exec-9] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 15:09:25 [http-nio-8080-exec-2] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 15:09:25 [http-nio-8080-exec-1] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 15:09:25 [http-nio-8080-exec-4] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 15:09:25 [http-nio-8080-exec-6] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 15:09:26 [http-nio-8080-exec-8] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 15:10:29 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:10:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 15:10:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 15:10:31 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 51091 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 15:10:31 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 15:10:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 15:10:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2024-10-31 15:10:32 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 15:10:32 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 15:10:32 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 15:10:32 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 15:10:32 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 627 ms
2024-10-31 15:10:32 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 15:10:32 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 15:10:32 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 15:10:32 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 15:10:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 15:10:32 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7b44bfb8
2024-10-31 15:10:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 15:10:32 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 15:10:33 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 15:10:33 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7a75183d] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 15:10:33 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:10:33 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 15:10:33 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 15:10:34 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@214a81a4, org.springframework.security.web.session.ForceEagerSessionCreationFilter@68955382, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@682f9202, org.springframework.security.web.context.SecurityContextHolderFilter@6304ff53, org.springframework.security.web.header.HeaderWriterFilter@73372652, org.springframework.web.filter.CorsFilter@5d3e24e2, org.springframework.security.web.authentication.logout.LogoutFilter@5c3e0c92, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@31dbe419, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54372b03, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2f9b24ae, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@280cc940, org.springframework.security.web.session.SessionManagementFilter@78288298, org.springframework.security.web.access.ExceptionTranslationFilter@1053b20d, org.springframework.security.web.access.intercept.AuthorizationFilter@5c4b230c]
2024-10-31 15:10:34 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 15:10:34 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.845 seconds (process running for 3.126)
2024-10-31 15:10:36 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 15:10:36 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 15:10:36 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 15:10:38 [http-nio-8080-exec-2] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 15:13:34 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:13:34 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 15:13:34 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 15:13:36 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 51320 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 15:13:36 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 15:13:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 15:13:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2024-10-31 15:13:37 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 15:13:37 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 15:13:37 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 15:13:37 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 15:13:37 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 623 ms
2024-10-31 15:13:37 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 15:13:37 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 15:13:37 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 15:13:37 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 15:13:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 15:13:37 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4afd65fd
2024-10-31 15:13:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 15:13:37 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 15:13:38 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 15:13:38 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5b31a9e3] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 15:13:38 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:13:38 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 15:13:38 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 15:13:39 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@513156fd, org.springframework.security.web.session.ForceEagerSessionCreationFilter@4fd43b14, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b9d7666, org.springframework.security.web.context.SecurityContextHolderFilter@2c3c36df, org.springframework.security.web.header.HeaderWriterFilter@6b21a869, org.springframework.web.filter.CorsFilter@36bcae97, org.springframework.security.web.authentication.logout.LogoutFilter@7c5024c1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7eecb648, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6edbdbed, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e5bc4e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d618003, org.springframework.security.web.session.SessionManagementFilter@43c28101, org.springframework.security.web.access.ExceptionTranslationFilter@54372b03, org.springframework.security.web.access.intercept.AuthorizationFilter@6a478680]
2024-10-31 15:13:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 15:13:39 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.854 seconds (process running for 3.135)
2024-10-31 15:13:42 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 15:13:42 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 15:13:42 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 15:13:43 [http-nio-8080-exec-2] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 15:14:01 [http-nio-8080-exec-4] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 15:14:09 [http-nio-8080-exec-6] INFO  c.e.f.s.CustomUserDetailsService - User found: stroy.live@mail.ru
2024-10-31 15:14:18 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:14:18 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 15:14:18 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 15:29:04 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 52195 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 15:29:04 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 15:29:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 15:29:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2024-10-31 15:29:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 15:29:04 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 15:29:04 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 15:29:04 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 15:29:04 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 623 ms
2024-10-31 15:29:04 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 15:29:04 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 15:29:04 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 15:29:04 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 15:29:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 15:29:05 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7b44bfb8
2024-10-31 15:29:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 15:29:05 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 15:29:05 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 15:29:05 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@6c6b00f1] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 15:29:05 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:29:05 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 15:29:06 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 15:29:06 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1065f09, org.springframework.security.web.session.ForceEagerSessionCreationFilter@1acf0703, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4219e848, org.springframework.security.web.context.SecurityContextHolderFilter@3833a045, org.springframework.security.web.header.HeaderWriterFilter@6edbdbed, org.springframework.web.filter.CorsFilter@179e0823, org.springframework.security.web.authentication.logout.LogoutFilter@68955382, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6d618003, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d579733, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@282c2bbd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2453e3ce, org.springframework.security.web.session.SessionManagementFilter@539c833d, org.springframework.security.web.access.ExceptionTranslationFilter@2c3c36df, org.springframework.security.web.access.intercept.AuthorizationFilter@36bcae97]
2024-10-31 15:29:06 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 15:29:06 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.844 seconds (process running for 3.143)
2024-10-31 15:29:09 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 15:29:09 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 15:29:09 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-10-31 15:29:11 [http-nio-8080-exec-2] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 15:30:50 [main] INFO  c.e.f.FenikaCrm10ApplicationTests - Starting FenikaCrm10ApplicationTests using Java 21.0.3 with PID 52370 (started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 15:30:50 [main] INFO  c.e.f.FenikaCrm10ApplicationTests - No active profile set, falling back to 1 default profile: "default"
2024-10-31 15:30:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 15:30:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 6 JPA repository interfaces.
2024-10-31 15:30:50 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 15:30:50 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 15:30:50 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 15:30:50 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 15:30:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 15:30:51 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1f179f51
2024-10-31 15:30:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 15:30:51 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 15:30:51 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 15:30:51 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@716eae1] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 15:30:51 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:30:51 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 15:30:52 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 15:30:52 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@214a81a4, org.springframework.security.web.session.ForceEagerSessionCreationFilter@68955382, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@682f9202, org.springframework.security.web.context.SecurityContextHolderFilter@6304ff53, org.springframework.security.web.header.HeaderWriterFilter@73372652, org.springframework.web.filter.CorsFilter@5d3e24e2, org.springframework.security.web.authentication.logout.LogoutFilter@5c3e0c92, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@31dbe419, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54372b03, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2f9b24ae, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@280cc940, org.springframework.security.web.session.SessionManagementFilter@78288298, org.springframework.security.web.access.ExceptionTranslationFilter@476efc81, org.springframework.security.web.access.intercept.AuthorizationFilter@5c4b230c]
2024-10-31 15:30:52 [main] INFO  c.e.f.FenikaCrm10ApplicationTests - Started FenikaCrm10ApplicationTests in 2.941 seconds (process running for 3.438)
2024-10-31 15:30:53 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:30:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 15:30:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 15:30:57 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:30:57 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 15:30:57 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 15:31:00 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 52408 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 15:31:00 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 15:31:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 15:31:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2024-10-31 15:31:00 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 15:31:00 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 15:31:00 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 15:31:00 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 15:31:00 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 629 ms
2024-10-31 15:31:00 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 15:31:00 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 15:31:00 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 15:31:00 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 15:31:00 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 15:31:01 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1b47b7f5
2024-10-31 15:31:01 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 15:31:01 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 15:31:01 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 15:31:01 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@f252762] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 15:31:01 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:31:01 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 15:31:02 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 15:31:02 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7bb5f1b5, org.springframework.security.web.session.ForceEagerSessionCreationFilter@6fefa622, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@12550aaf, org.springframework.security.web.context.SecurityContextHolderFilter@68955382, org.springframework.security.web.header.HeaderWriterFilter@5c4b230c, org.springframework.web.filter.CorsFilter@784bb800, org.springframework.security.web.authentication.logout.LogoutFilter@61140895, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@694adaac, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7eecb648, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@52599443, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c27d6e5, org.springframework.security.web.session.SessionManagementFilter@4cd0b8cf, org.springframework.security.web.access.ExceptionTranslationFilter@7c5024c1, org.springframework.security.web.access.intercept.AuthorizationFilter@63dc973e]
2024-10-31 15:31:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 15:31:02 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.856 seconds (process running for 3.133)
2024-10-31 15:31:06 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 15:31:06 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 15:31:06 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 15:31:07 [http-nio-8080-exec-1] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 15:31:08 [http-nio-8080-exec-5] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 15:31:54 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:31:54 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 15:31:54 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 15:31:56 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 52516 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 15:31:56 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 15:31:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 15:31:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 6 JPA repository interfaces.
2024-10-31 15:31:56 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 15:31:56 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 15:31:56 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 15:31:56 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 15:31:56 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 629 ms
2024-10-31 15:31:57 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 15:31:57 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 15:31:57 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 15:31:57 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 15:31:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 15:31:57 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1b47b7f5
2024-10-31 15:31:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 15:31:57 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 15:31:57 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 15:31:57 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2123a61c] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 15:31:57 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:31:58 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 15:31:58 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 15:31:58 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4377d616, org.springframework.security.web.session.ForceEagerSessionCreationFilter@4415cc21, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7bb5f1b5, org.springframework.security.web.context.SecurityContextHolderFilter@682f9202, org.springframework.security.web.header.HeaderWriterFilter@31dbe419, org.springframework.web.filter.CorsFilter@6fefa622, org.springframework.security.web.authentication.logout.LogoutFilter@2c283221, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4e0e9fc1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@280cc940, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a478680, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12550aaf, org.springframework.security.web.session.SessionManagementFilter@4a094674, org.springframework.security.web.access.ExceptionTranslationFilter@595be089, org.springframework.security.web.access.intercept.AuthorizationFilter@13106eec]
2024-10-31 15:31:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 15:31:58 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.827 seconds (process running for 3.097)
2024-10-31 15:32:01 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 15:32:01 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 15:32:01 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 15:32:02 [http-nio-8080-exec-4] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 15:40:07 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:40:07 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 15:40:07 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 15:40:09 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 53157 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 15:40:09 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 15:40:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 15:40:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-10-31 15:40:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 15:40:10 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 15:40:10 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 15:40:10 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 15:40:10 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 630 ms
2024-10-31 15:40:10 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 15:40:10 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 15:40:10 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 15:40:10 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 15:40:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 15:40:10 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@75527e36
2024-10-31 15:40:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 15:40:10 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 15:40:10 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 15:40:10 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@12811f95] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 15:40:11 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:40:11 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 15:40:11 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 15:40:11 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4e0e9fc1, org.springframework.security.web.session.ForceEagerSessionCreationFilter@63dc973e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@694adaac, org.springframework.security.web.context.SecurityContextHolderFilter@4a094674, org.springframework.security.web.header.HeaderWriterFilter@4dc1f629, org.springframework.web.filter.CorsFilter@793dbe67, org.springframework.security.web.authentication.logout.LogoutFilter@179e0823, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7b84d8ef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@214a81a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68955382, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4377d616, org.springframework.security.web.session.SessionManagementFilter@595be089, org.springframework.security.web.access.ExceptionTranslationFilter@d388775, org.springframework.security.web.access.intercept.AuthorizationFilter@28f74096]
2024-10-31 15:40:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 15:40:12 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.89 seconds (process running for 3.168)
2024-10-31 15:40:12 [main] INFO  c.e.fenikaCRM10.services.UserService - New user saved with email: stroy.live@mail.ru
2024-10-31 15:40:12 [main] INFO  c.e.fenikaCRM10.services.UserService - New user saved with email: panamo.work@gmail.com
2024-10-31 15:40:31 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 15:40:31 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 15:40:31 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 15:40:32 [http-nio-8080-exec-4] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 15:40:57 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:40:57 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 15:40:57 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 15:42:10 [main] INFO  c.e.f.FenikaCrm10ApplicationTests - Starting FenikaCrm10ApplicationTests using Java 21.0.3 with PID 53352 (started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 15:42:10 [main] INFO  c.e.f.FenikaCrm10ApplicationTests - No active profile set, falling back to 1 default profile: "default"
2024-10-31 15:42:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 15:42:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2024-10-31 15:42:11 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 15:42:11 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 15:42:11 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 15:42:11 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 15:42:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 15:42:11 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7babed9e
2024-10-31 15:42:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 15:42:11 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 15:42:12 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 15:42:12 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@56ec6ac0] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 15:42:12 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:42:12 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 15:42:12 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 15:42:13 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@214a81a4, org.springframework.security.web.session.ForceEagerSessionCreationFilter@68955382, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@682f9202, org.springframework.security.web.context.SecurityContextHolderFilter@6304ff53, org.springframework.security.web.header.HeaderWriterFilter@73372652, org.springframework.web.filter.CorsFilter@5d3e24e2, org.springframework.security.web.authentication.logout.LogoutFilter@5c3e0c92, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@31dbe419, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54372b03, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2f9b24ae, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@280cc940, org.springframework.security.web.session.SessionManagementFilter@78288298, org.springframework.security.web.access.ExceptionTranslationFilter@476efc81, org.springframework.security.web.access.intercept.AuthorizationFilter@5c4b230c]
2024-10-31 15:42:13 [main] INFO  c.e.f.FenikaCrm10ApplicationTests - Started FenikaCrm10ApplicationTests in 2.882 seconds (process running for 3.347)
2024-10-31 15:42:13 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:42:13 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 15:42:13 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 15:42:29 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 53398 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 15:42:29 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 15:42:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 15:42:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 6 JPA repository interfaces.
2024-10-31 15:42:30 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 15:42:30 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 15:42:30 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 15:42:30 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 15:42:30 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 627 ms
2024-10-31 15:42:30 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 15:42:30 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 15:42:30 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 15:42:30 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 15:42:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 15:42:30 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@75527e36
2024-10-31 15:42:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 15:42:30 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 15:42:31 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 15:42:31 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@74bcf1ab] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 15:42:31 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:42:31 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 15:42:31 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 15:42:32 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2d6b53a3, org.springframework.security.web.session.ForceEagerSessionCreationFilter@40bfd515, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@204e6dda, org.springframework.security.web.context.SecurityContextHolderFilter@23f77c2d, org.springframework.security.web.header.HeaderWriterFilter@d388775, org.springframework.web.filter.CorsFilter@61df99e6, org.springframework.security.web.authentication.logout.LogoutFilter@4fd43b14, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4b10e470, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3bc3cdb7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@773e4573, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@165e3835, org.springframework.security.web.session.SessionManagementFilter@4dc1f629, org.springframework.security.web.access.ExceptionTranslationFilter@2d579733, org.springframework.security.web.access.intercept.AuthorizationFilter@46460f58]
2024-10-31 15:42:32 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 15:42:32 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.879 seconds (process running for 3.157)
2024-10-31 15:42:32 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 15:42:32 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 15:42:32 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 15:42:50 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 15:43:15 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:43:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 15:43:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 15:43:17 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 53478 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 15:43:17 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 15:43:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 15:43:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2024-10-31 15:43:18 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 15:43:18 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 15:43:18 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 15:43:18 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 15:43:18 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 617 ms
2024-10-31 15:43:18 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 15:43:18 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 15:43:18 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 15:43:18 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 15:43:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 15:43:18 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1b47b7f5
2024-10-31 15:43:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 15:43:18 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 15:43:19 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 15:43:19 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2123a61c] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 15:43:19 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:43:19 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 15:43:19 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 15:43:20 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@337d97e3, org.springframework.security.web.session.ForceEagerSessionCreationFilter@502aa66a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5a06fcfc, org.springframework.security.web.context.SecurityContextHolderFilter@5b9d7666, org.springframework.security.web.header.HeaderWriterFilter@4f5f4f7a, org.springframework.web.filter.CorsFilter@4c9a3ae, org.springframework.security.web.authentication.logout.LogoutFilter@66896ed0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2c27d6e5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d618003, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3030a20, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b54fe5b, org.springframework.security.web.session.SessionManagementFilter@68955382, org.springframework.security.web.access.ExceptionTranslationFilter@4cd0b8cf, org.springframework.security.web.access.intercept.AuthorizationFilter@784bb800]
2024-10-31 15:43:20 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 15:43:20 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.798 seconds (process running for 3.069)
2024-10-31 15:43:22 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 15:43:22 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 15:43:22 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-10-31 15:43:23 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 15:50:20 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:50:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 15:50:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 15:50:22 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 54017 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 15:50:22 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 15:50:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 15:50:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-10-31 15:50:23 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 15:50:23 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 15:50:23 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 15:50:23 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 15:50:23 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 611 ms
2024-10-31 15:50:23 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 15:50:23 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 15:50:23 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 15:50:23 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 15:50:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 15:50:23 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1b47b7f5
2024-10-31 15:50:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 15:50:23 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 15:50:24 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 15:50:24 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2123a61c] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 15:50:24 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 15:50:24 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 15:50:25 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 15:50:25 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4e0e9fc1, org.springframework.security.web.session.ForceEagerSessionCreationFilter@63dc973e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@694adaac, org.springframework.security.web.context.SecurityContextHolderFilter@4a094674, org.springframework.security.web.header.HeaderWriterFilter@6f3059ad, org.springframework.web.filter.CorsFilter@793dbe67, org.springframework.security.web.authentication.logout.LogoutFilter@179e0823, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7b84d8ef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@214a81a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68955382, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4377d616, org.springframework.security.web.session.SessionManagementFilter@595be089, org.springframework.security.web.access.ExceptionTranslationFilter@3bc3cdb7, org.springframework.security.web.access.intercept.AuthorizationFilter@28f74096]
2024-10-31 15:50:25 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 15:50:25 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.844 seconds (process running for 3.116)
2024-10-31 15:50:26 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 15:50:26 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 15:50:26 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 15:50:28 [http-nio-8080-exec-2] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 16:10:56 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m2s618ms).
2024-10-31 16:12:29 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 16:12:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 16:12:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 16:12:31 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 54609 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 16:12:31 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 16:12:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 16:12:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2024-10-31 16:12:32 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 16:12:32 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 16:12:32 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 16:12:32 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 16:12:32 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 608 ms
2024-10-31 16:12:32 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 16:12:32 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 16:12:32 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 16:12:32 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 16:12:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 16:12:32 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4b5ad306
2024-10-31 16:12:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 16:12:32 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 16:12:33 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 16:12:33 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@9c5d76b] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 16:12:33 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 16:12:33 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 16:12:33 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 16:12:34 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@204e6dda, org.springframework.security.web.session.ForceEagerSessionCreationFilter@61df99e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@165e3835, org.springframework.security.web.context.SecurityContextHolderFilter@5c3e0c92, org.springframework.security.web.header.HeaderWriterFilter@f014ff3, org.springframework.web.filter.CorsFilter@28f74096, org.springframework.security.web.authentication.logout.LogoutFilter@7eecb648, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1acf0703, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4795def, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d33713a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b84d8ef, org.springframework.security.web.session.SessionManagementFilter@c7ba58d, org.springframework.security.web.access.ExceptionTranslationFilter@7f096ea0, org.springframework.security.web.access.intercept.AuthorizationFilter@1065f09]
2024-10-31 16:12:34 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 16:12:34 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.78 seconds (process running for 3.051)
2024-10-31 16:12:34 [main] INFO  c.e.fenikaCRM10.services.UserService - New user saved with email: work@gmail.com
2024-10-31 16:12:42 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 16:12:42 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 16:12:42 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-10-31 16:12:42 [http-nio-8080-exec-1] INFO  c.e.f.s.CustomUserDetailsService - User found: work@gmail.com
2024-10-31 16:13:29 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: work@gmail.com
2024-10-31 16:13:37 [http-nio-8080-exec-6] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 16:14:14 [http-nio-8080-exec-10] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 16:14:40 [http-nio-8080-exec-2] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 16:14:51 [http-nio-8080-exec-4] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 16:23:22 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 16:23:22 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 16:23:22 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 16:23:24 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 55415 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 16:23:24 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 16:23:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 16:23:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-10-31 16:23:25 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 16:23:25 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 16:23:25 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 16:23:25 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 16:23:25 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 630 ms
2024-10-31 16:23:25 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 16:23:25 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 16:23:25 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 16:23:25 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 16:23:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 16:23:25 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@75527e36
2024-10-31 16:23:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 16:23:25 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 16:23:26 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 16:23:26 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@6e5b3642] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 16:23:26 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 16:23:26 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 16:23:27 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 16:23:27 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@179e0823, org.springframework.security.web.session.ForceEagerSessionCreationFilter@2453e3ce, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@46460f58, org.springframework.security.web.context.SecurityContextHolderFilter@282c2bbd, org.springframework.security.web.header.HeaderWriterFilter@7f096ea0, org.springframework.web.filter.CorsFilter@4b10e470, org.springframework.security.web.authentication.logout.LogoutFilter@280cc940, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6086ba82, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5c3e0c92, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4dc1f629, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c283221, org.springframework.security.web.session.SessionManagementFilter@f014ff3, org.springframework.security.web.access.ExceptionTranslationFilter@1e5bc4e7, org.springframework.security.web.access.intercept.AuthorizationFilter@331d7260]
2024-10-31 16:23:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 16:23:27 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.823 seconds (process running for 3.096)
2024-10-31 16:23:29 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 16:23:29 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 16:23:29 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 16:23:29 [http-nio-8080-exec-1] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 16:23:30 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 16:24:00 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 16:24:00 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 16:24:00 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 16:24:01 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 55481 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 16:24:01 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 16:24:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 16:24:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2024-10-31 16:24:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 16:24:02 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 16:24:02 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 16:24:02 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 16:24:02 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 616 ms
2024-10-31 16:24:02 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 16:24:02 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 16:24:02 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 16:24:02 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 16:24:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 16:24:02 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@75527e36
2024-10-31 16:24:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 16:24:02 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 16:24:03 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 16:24:03 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@74bcf1ab] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 16:24:03 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 16:24:03 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 16:24:04 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 16:24:04 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@694adaac, org.springframework.security.web.session.ForceEagerSessionCreationFilter@793dbe67, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4377d616, org.springframework.security.web.context.SecurityContextHolderFilter@214a81a4, org.springframework.security.web.header.HeaderWriterFilter@595be089, org.springframework.web.filter.CorsFilter@4415cc21, org.springframework.security.web.authentication.logout.LogoutFilter@46460f58, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1716da4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@682f9202, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d3e24e2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7bb5f1b5, org.springframework.security.web.session.SessionManagementFilter@31dbe419, org.springframework.security.web.access.ExceptionTranslationFilter@6f3059ad, org.springframework.security.web.access.intercept.AuthorizationFilter@66896ed0]
2024-10-31 16:24:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 16:24:04 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.821 seconds (process running for 3.085)
2024-10-31 16:24:06 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 16:24:06 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 16:24:06 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 16:24:07 [http-nio-8080-exec-2] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 16:24:28 [http-nio-8080-exec-4] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 16:28:28 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 16:28:28 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 16:28:28 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 16:28:30 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 55810 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 16:28:30 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 16:28:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 16:28:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2024-10-31 16:28:31 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 16:28:31 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 16:28:31 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 16:28:31 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 16:28:31 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 633 ms
2024-10-31 16:28:31 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 16:28:31 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 16:28:31 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 16:28:31 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 16:28:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 16:28:31 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1b47b7f5
2024-10-31 16:28:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 16:28:31 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 16:28:32 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 16:28:32 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2123a61c] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 16:28:32 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 16:28:32 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 16:28:33 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 16:28:33 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4e0e9fc1, org.springframework.security.web.session.ForceEagerSessionCreationFilter@63dc973e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@694adaac, org.springframework.security.web.context.SecurityContextHolderFilter@4a094674, org.springframework.security.web.header.HeaderWriterFilter@6f3059ad, org.springframework.web.filter.CorsFilter@793dbe67, org.springframework.security.web.authentication.logout.LogoutFilter@179e0823, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7b84d8ef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@214a81a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68955382, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4377d616, org.springframework.security.web.session.SessionManagementFilter@595be089, org.springframework.security.web.access.ExceptionTranslationFilter@3bc3cdb7, org.springframework.security.web.access.intercept.AuthorizationFilter@28f74096]
2024-10-31 16:28:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 16:28:33 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.823 seconds (process running for 3.091)
2024-10-31 16:28:35 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 16:28:35 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 16:28:35 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-10-31 16:28:36 [http-nio-8080-exec-2] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 16:28:45 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 16:28:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 16:28:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 16:28:47 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 55856 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 16:28:47 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 16:28:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 16:28:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2024-10-31 16:28:48 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 16:28:48 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 16:28:48 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 16:28:48 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 16:28:48 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 608 ms
2024-10-31 16:28:48 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 16:28:48 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 16:28:48 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 16:28:48 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 16:28:48 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 16:28:48 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1b47b7f5
2024-10-31 16:28:48 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 16:28:48 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 16:28:49 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 16:28:49 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7b6b466a] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 16:28:49 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 16:28:49 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 16:28:49 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 16:28:49 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@204e6dda, org.springframework.security.web.session.ForceEagerSessionCreationFilter@61df99e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@165e3835, org.springframework.security.web.context.SecurityContextHolderFilter@3bc3cdb7, org.springframework.security.web.header.HeaderWriterFilter@4dc1f629, org.springframework.web.filter.CorsFilter@28f74096, org.springframework.security.web.authentication.logout.LogoutFilter@36bcae97, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@17dee9f9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f3059ad, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c5024c1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b84d8ef, org.springframework.security.web.session.SessionManagementFilter@4d33713a, org.springframework.security.web.access.ExceptionTranslationFilter@d388775, org.springframework.security.web.access.intercept.AuthorizationFilter@2c283221]
2024-10-31 16:28:50 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 16:28:50 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.759 seconds (process running for 3.023)
2024-10-31 16:28:52 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 16:28:52 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 16:28:52 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 16:28:53 [http-nio-8080-exec-2] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 16:29:00 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 16:29:00 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 16:29:00 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 16:29:02 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 55894 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 16:29:02 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 16:29:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 16:29:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2024-10-31 16:29:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 16:29:02 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 16:29:02 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 16:29:02 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 16:29:02 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 613 ms
2024-10-31 16:29:02 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 16:29:02 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 16:29:02 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 16:29:02 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 16:29:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 16:29:03 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@54be6213
2024-10-31 16:29:03 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 16:29:03 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 16:29:03 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 16:29:03 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@54780c40] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 16:29:03 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 16:29:03 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 16:29:04 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 16:29:04 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7eecb648, org.springframework.security.web.session.ForceEagerSessionCreationFilter@52599443, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1c510181, org.springframework.security.web.context.SecurityContextHolderFilter@43c28101, org.springframework.security.web.header.HeaderWriterFilter@6304ff53, org.springframework.web.filter.CorsFilter@4a74e70d, org.springframework.security.web.authentication.logout.LogoutFilter@6dafdb99, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@682f9202, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@538ee7ab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b217a33, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@513156fd, org.springframework.security.web.session.SessionManagementFilter@54372b03, org.springframework.security.web.access.ExceptionTranslationFilter@1e0ccdd6, org.springframework.security.web.access.intercept.AuthorizationFilter@68955382]
2024-10-31 16:29:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 16:29:04 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.797 seconds (process running for 3.06)
2024-10-31 16:29:07 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 16:29:07 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 16:29:07 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 16:29:07 [http-nio-8080-exec-1] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 16:36:25 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 16:36:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 16:36:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 16:36:27 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 56431 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 16:36:27 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 16:36:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 16:36:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-10-31 16:36:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 16:36:27 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 16:36:27 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 16:36:27 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 16:36:27 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 610 ms
2024-10-31 16:36:27 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 16:36:27 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 16:36:28 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 16:36:28 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 16:36:28 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 16:36:28 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4b5ad306
2024-10-31 16:36:28 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 16:36:28 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 16:36:28 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 16:36:28 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@9c5d76b] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 16:36:28 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 16:36:28 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 16:36:29 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 16:36:29 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1065f09, org.springframework.security.web.session.ForceEagerSessionCreationFilter@1acf0703, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4219e848, org.springframework.security.web.context.SecurityContextHolderFilter@3833a045, org.springframework.security.web.header.HeaderWriterFilter@6edbdbed, org.springframework.web.filter.CorsFilter@179e0823, org.springframework.security.web.authentication.logout.LogoutFilter@68955382, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6d618003, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d579733, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@282c2bbd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2453e3ce, org.springframework.security.web.session.SessionManagementFilter@539c833d, org.springframework.security.web.access.ExceptionTranslationFilter@2c3c36df, org.springframework.security.web.access.intercept.AuthorizationFilter@36bcae97]
2024-10-31 16:36:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 16:36:29 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.784 seconds (process running for 3.059)
2024-10-31 16:37:47 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 16:37:47 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 16:37:47 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 16:37:49 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 56563 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 16:37:49 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 16:37:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 16:37:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2024-10-31 16:37:49 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 16:37:49 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 16:37:49 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 16:37:49 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 16:37:49 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 614 ms
2024-10-31 16:37:49 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 16:37:49 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 16:37:49 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 16:37:50 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 16:37:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 16:37:50 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4b5ad306
2024-10-31 16:37:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 16:37:50 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 16:37:50 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 16:37:50 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@9c5d76b] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 16:37:50 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 16:37:50 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 16:37:51 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 16:37:51 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@204e6dda, org.springframework.security.web.session.ForceEagerSessionCreationFilter@61df99e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@165e3835, org.springframework.security.web.context.SecurityContextHolderFilter@3bc3cdb7, org.springframework.security.web.header.HeaderWriterFilter@4dc1f629, org.springframework.web.filter.CorsFilter@28f74096, org.springframework.security.web.authentication.logout.LogoutFilter@36bcae97, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@17dee9f9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f3059ad, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c5024c1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b84d8ef, org.springframework.security.web.session.SessionManagementFilter@4d33713a, org.springframework.security.web.access.ExceptionTranslationFilter@d388775, org.springframework.security.web.access.intercept.AuthorizationFilter@2c283221]
2024-10-31 16:37:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 16:37:51 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.777 seconds (process running for 3.047)
2024-10-31 16:37:52 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 16:37:52 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 16:37:52 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 16:37:54 [http-nio-8080-exec-2] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 16:37:55 [http-nio-8080-exec-4] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 16:38:09 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 16:38:09 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 16:38:09 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 16:38:10 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 56606 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 16:38:10 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 16:38:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 16:38:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 6 JPA repository interfaces.
2024-10-31 16:38:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 16:38:11 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 16:38:11 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 16:38:11 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 16:38:11 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 622 ms
2024-10-31 16:38:11 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 16:38:11 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 16:38:11 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 16:38:11 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 16:38:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 16:38:11 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4b5ad306
2024-10-31 16:38:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 16:38:11 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 16:38:12 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 16:38:12 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@9c5d76b] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 16:38:12 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 16:38:12 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 16:38:13 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 16:38:13 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@204e6dda, org.springframework.security.web.session.ForceEagerSessionCreationFilter@61df99e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@165e3835, org.springframework.security.web.context.SecurityContextHolderFilter@3bc3cdb7, org.springframework.security.web.header.HeaderWriterFilter@4dc1f629, org.springframework.web.filter.CorsFilter@28f74096, org.springframework.security.web.authentication.logout.LogoutFilter@36bcae97, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@17dee9f9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f3059ad, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c5024c1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b84d8ef, org.springframework.security.web.session.SessionManagementFilter@4d33713a, org.springframework.security.web.access.ExceptionTranslationFilter@d388775, org.springframework.security.web.access.intercept.AuthorizationFilter@2c283221]
2024-10-31 16:38:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 16:38:13 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.896 seconds (process running for 3.18)
2024-10-31 16:38:14 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 16:38:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 16:38:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 16:38:16 [http-nio-8080-exec-2] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 16:52:32 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m20s594ms).
2024-10-31 17:16:40 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=19m8s41ms).
2024-10-31 17:33:56 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 17:33:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 17:33:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 17:38:35 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 59357 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 17:38:35 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 17:38:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 17:38:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2024-10-31 17:38:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 17:38:35 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 17:38:35 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 17:38:35 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 17:38:35 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 624 ms
2024-10-31 17:38:35 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 17:38:35 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 17:38:35 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 17:38:36 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 17:38:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 17:38:36 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6b2ef50e
2024-10-31 17:38:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 17:38:36 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 17:38:36 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 17:38:36 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@3b590f6a] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 17:38:36 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 17:38:36 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 17:38:37 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-10-31 17:38:37 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-10-31 17:38:37 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-10-31 17:38:37 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-10-31 17:38:37 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 17:38:37 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@28f74096, org.springframework.security.web.session.ForceEagerSessionCreationFilter@7b84d8ef, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66896ed0, org.springframework.security.web.context.SecurityContextHolderFilter@7c5024c1, org.springframework.security.web.header.HeaderWriterFilter@6145be92, org.springframework.web.filter.CorsFilter@1716da4, org.springframework.security.web.authentication.logout.LogoutFilter@331d7260, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@40bfd515, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5c4b230c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@31dbe419, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@13106eec, org.springframework.security.web.session.SessionManagementFilter@6dafdb99, org.springframework.security.web.access.ExceptionTranslationFilter@4795def, org.springframework.security.web.access.intercept.AuthorizationFilter@2d6b53a3]
2024-10-31 17:38:37 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 17:38:37 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.834 seconds (process running for 3.126)
2024-10-31 17:38:43 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 17:38:43 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 17:38:43 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 17:38:43 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-10-31 17:38:43 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-10-31 17:38:43 [http-nio-8080-exec-1] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 17:38:43 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since password does not match stored value
2024-10-31 17:38:43 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /login?error
2024-10-31 17:38:43 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login?error
2024-10-31 17:38:43 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 17:38:43 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login?error
2024-10-31 17:41:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login?error
2024-10-31 17:41:13 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 17:41:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login?error
2024-10-31 17:41:14 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-10-31 17:41:14 [http-nio-8080-exec-6] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 17:41:14 [http-nio-8080-exec-6] WARN  o.s.s.c.bcrypt.BCryptPasswordEncoder - Encoded password does not look like BCrypt
2024-10-31 17:41:14 [http-nio-8080-exec-6] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since password does not match stored value
2024-10-31 17:41:14 [http-nio-8080-exec-6] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /login?error
2024-10-31 17:41:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login?error
2024-10-31 17:41:14 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 17:41:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login?error
2024-10-31 17:41:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-10-31 17:41:24 [http-nio-8080-exec-8] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 17:41:24 [http-nio-8080-exec-8] WARN  o.s.s.c.bcrypt.BCryptPasswordEncoder - Encoded password does not look like BCrypt
2024-10-31 17:41:24 [http-nio-8080-exec-8] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since password does not match stored value
2024-10-31 17:41:24 [http-nio-8080-exec-8] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /login?error
2024-10-31 17:41:24 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login?error
2024-10-31 17:41:24 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 17:41:24 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login?error
2024-10-31 17:41:39 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 17:41:39 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 17:41:39 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 17:41:58 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 59621 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 17:41:58 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 17:41:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 17:41:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 6 JPA repository interfaces.
2024-10-31 17:41:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 17:41:58 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 17:41:58 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 17:41:59 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 17:41:59 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 848 ms
2024-10-31 17:41:59 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 17:41:59 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 17:41:59 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 17:41:59 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 17:41:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 17:41:59 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@45e7bb79
2024-10-31 17:41:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 17:41:59 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 17:41:59 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 17:41:59 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@1e160a9e] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 17:41:59 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2024-10-31 17:41:59 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk_6dotkott2kjsp8vw4d0m25fb7" of relation "users" does not exist, skipping
2024-10-31 17:41:59 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 17:42:00 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 17:42:00 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-10-31 17:42:00 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-10-31 17:42:00 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-10-31 17:42:00 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-10-31 17:42:00 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 17:42:00 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@23f77c2d, org.springframework.security.web.session.ForceEagerSessionCreationFilter@6dafdb99, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3bc3cdb7, org.springframework.security.web.context.SecurityContextHolderFilter@6cfd4d4d, org.springframework.security.web.header.HeaderWriterFilter@783a76d8, org.springframework.web.filter.CorsFilter@773e4573, org.springframework.security.web.authentication.logout.LogoutFilter@4a4cdeb0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4dc1f629, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7e775ef3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@164212ad, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f3059ad, org.springframework.security.web.session.SessionManagementFilter@15dbd88e, org.springframework.security.web.access.ExceptionTranslationFilter@4236d55, org.springframework.security.web.access.intercept.AuthorizationFilter@5c3e0c92]
2024-10-31 17:42:01 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 17:42:01 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 3.175 seconds (process running for 3.474)
2024-10-31 17:42:01 [main] INFO  c.e.fenikaCRM10.services.UserService - New user saved with email: stroy.live@mail.ru
2024-10-31 17:42:01 [main] INFO  c.e.fenikaCRM10.services.UserService - New user saved with email: panamo.work@gmail.com
2024-10-31 17:42:01 [main] INFO  c.e.fenikaCRM10.services.UserService - New user saved with email: work@gmail.com
2024-10-31 17:42:12 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 17:42:12 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 17:42:12 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 17:42:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login?error
2024-10-31 17:42:13 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-10-31 17:42:13 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 17:42:13 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 89FFDF555DF4F6559D424FB49E3939E1
2024-10-31 17:42:13 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login?error
2024-10-31 17:42:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-10-31 17:42:14 [http-nio-8080-exec-2] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 17:42:15 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since password does not match stored value
2024-10-31 17:42:15 [http-nio-8080-exec-2] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /login?error
2024-10-31 17:42:15 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login?error
2024-10-31 17:42:15 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 17:42:15 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login?error
2024-10-31 17:44:04 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 17:44:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 17:44:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 17:44:06 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 59804 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 17:44:06 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 17:44:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 17:44:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 42 ms. Found 6 JPA repository interfaces.
2024-10-31 17:44:07 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 17:44:07 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 17:44:07 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 17:44:07 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 17:44:07 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 671 ms
2024-10-31 17:44:07 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 17:44:07 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 17:44:07 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 17:44:07 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 17:44:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 17:44:07 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6d0114c0
2024-10-31 17:44:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 17:44:07 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 17:44:08 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 17:44:08 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7b6b466a] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 17:44:08 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 17:44:08 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 17:44:09 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-10-31 17:44:09 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-10-31 17:44:09 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-10-31 17:44:09 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-10-31 17:44:09 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 17:44:09 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@784bb800, org.springframework.security.web.session.ForceEagerSessionCreationFilter@2c27d6e5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3eebbbf5, org.springframework.security.web.context.SecurityContextHolderFilter@52599443, org.springframework.security.web.header.HeaderWriterFilter@68955382, org.springframework.web.filter.CorsFilter@451cef5, org.springframework.security.web.authentication.logout.LogoutFilter@204e6dda, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4415cc21, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4a74e70d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@513156fd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21ffedc7, org.springframework.security.web.session.SessionManagementFilter@5d3e24e2, org.springframework.security.web.access.ExceptionTranslationFilter@4f5f4f7a, org.springframework.security.web.access.intercept.AuthorizationFilter@4377d616]
2024-10-31 17:44:09 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 17:44:09 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.945 seconds (process running for 3.223)
2024-10-31 17:44:17 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 17:44:17 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 17:44:17 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 17:44:18 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 59833 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 17:44:18 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 17:44:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 17:44:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2024-10-31 17:44:19 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 17:44:19 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 17:44:19 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 17:44:19 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 17:44:19 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 617 ms
2024-10-31 17:44:19 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 17:44:19 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 17:44:19 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 17:44:19 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 17:44:19 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 17:44:19 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@75527e36
2024-10-31 17:44:19 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 17:44:19 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 17:44:20 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 17:44:20 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@6e5b3642] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 17:44:20 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 17:44:20 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 17:44:20 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-10-31 17:44:20 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-10-31 17:44:20 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-10-31 17:44:20 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-10-31 17:44:20 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 17:44:21 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@46460f58, org.springframework.security.web.session.ForceEagerSessionCreationFilter@4b10e470, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2c283221, org.springframework.security.web.context.SecurityContextHolderFilter@5c3e0c92, org.springframework.security.web.header.HeaderWriterFilter@f014ff3, org.springframework.web.filter.CorsFilter@17dee9f9, org.springframework.security.web.authentication.logout.LogoutFilter@7eecb648, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1acf0703, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4795def, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d33713a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@61140895, org.springframework.security.web.session.SessionManagementFilter@c7ba58d, org.springframework.security.web.access.ExceptionTranslationFilter@7f096ea0, org.springframework.security.web.access.intercept.AuthorizationFilter@1065f09]
2024-10-31 17:44:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 17:44:21 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.888 seconds (process running for 3.169)
2024-10-31 17:44:21 [main] INFO  c.e.fenikaCRM10.services.UserService - New user saved with email: stroy.live@mail.ru
2024-10-31 17:44:21 [main] INFO  c.e.fenikaCRM10.services.UserService - New user saved with email: panamo.work@gmail.com
2024-10-31 17:44:22 [main] INFO  c.e.fenikaCRM10.services.UserService - New user saved with email: work@gmail.com
2024-10-31 17:44:26 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 17:44:26 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 17:44:26 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 17:44:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login?error
2024-10-31 17:44:26 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-10-31 17:44:26 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 17:44:26 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 84E0A5C97D49506458FCD882BADA6932
2024-10-31 17:44:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login?error
2024-10-31 17:44:27 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-10-31 17:44:27 [http-nio-8080-exec-2] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 17:44:27 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since password does not match stored value
2024-10-31 17:44:27 [http-nio-8080-exec-2] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /login?error
2024-10-31 17:44:27 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login?error
2024-10-31 17:44:27 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 17:44:27 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login?error
2024-10-31 17:44:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-10-31 17:44:42 [http-nio-8080-exec-4] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 17:44:43 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since password does not match stored value
2024-10-31 17:44:43 [http-nio-8080-exec-4] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /login?error
2024-10-31 17:44:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login?error
2024-10-31 17:44:43 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 17:44:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login?error
2024-10-31 17:51:10 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=50s319ms).
2024-10-31 17:54:32 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 17:54:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 17:54:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 17:54:34 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 60584 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 17:54:34 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 17:54:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 17:54:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2024-10-31 17:54:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 17:54:35 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 17:54:35 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 17:54:35 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 17:54:35 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 651 ms
2024-10-31 17:54:35 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 17:54:35 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 17:54:35 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 17:54:35 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 17:54:35 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 17:54:35 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2ff498b0
2024-10-31 17:54:35 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 17:54:35 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 17:54:36 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 17:54:36 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2cb53bfc] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 17:54:36 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 17:54:36 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 17:54:36 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-10-31 17:54:37 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-10-31 17:54:37 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-10-31 17:54:37 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-10-31 17:54:37 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 17:54:37 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6dafdb99, org.springframework.security.web.session.ForceEagerSessionCreationFilter@3bc3cdb7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@773e4573, org.springframework.security.web.context.SecurityContextHolderFilter@4ecd395f, org.springframework.security.web.header.HeaderWriterFilter@a0d555f, org.springframework.web.filter.CorsFilter@6f3059ad, org.springframework.security.web.authentication.logout.LogoutFilter@6edbdbed, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4795def, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@164212ad, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1053b20d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c5024c1, org.springframework.security.web.session.SessionManagementFilter@6c49db66, org.springframework.security.web.access.ExceptionTranslationFilter@c7eb2a9, org.springframework.security.web.access.intercept.AuthorizationFilter@4dc1f629]
2024-10-31 17:54:37 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 17:54:37 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 3.137 seconds (process running for 3.453)
2024-10-31 17:54:37 [main] INFO  c.e.fenikaCRM10.services.UserService - New user saved with email: stroy.live@mail.ru
2024-10-31 17:54:37 [main] INFO  c.e.fenikaCRM10.services.UserService - New user saved with email: panamo.work@gmail.com
2024-10-31 17:54:37 [main] INFO  c.e.fenikaCRM10.services.UserService - New user saved with email: work@gmail.com
2024-10-31 17:54:42 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 17:54:42 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 17:54:42 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-10-31 17:54:42 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-10-31 17:54:42 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-10-31 17:54:42 [http-nio-8080-exec-1] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 17:54:42 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-10-31 17:54:42 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@6fbe12f6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5246C56F58161C7B9A4F41BA3F5D487F], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@620dfecc]
2024-10-31 17:54:42 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@6fbe12f6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5246C56F58161C7B9A4F41BA3F5D487F], Granted Authorities=[ROLE_ADMIN]]
2024-10-31 17:54:42 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-10-31 17:54:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-10-31 17:54:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-10-31 17:54:42 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@6fbe12f6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5246C56F58161C7B9A4F41BA3F5D487F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 0
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 0.0
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 0.0
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Завершен]
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Завершен]: 0
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Отказ]
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Отказ]: 0
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя work@gmail.com: 0.0
2024-10-31 17:54:42 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя work@gmail.com: 0.0
2024-10-31 17:54:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-10-31 17:54:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-10-31 17:54:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-10-31 17:54:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-10-31 17:54:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-10-31 17:54:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-10-31 17:54:42 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@6fbe12f6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5246C56F58161C7B9A4F41BA3F5D487F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 17:54:42 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@6fbe12f6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5246C56F58161C7B9A4F41BA3F5D487F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 17:54:42 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@6fbe12f6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5246C56F58161C7B9A4F41BA3F5D487F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 17:55:33 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 17:55:33 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 17:55:33 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 17:55:34 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 60680 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 17:55:34 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 17:55:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 17:55:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2024-10-31 17:55:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 17:55:35 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 17:55:35 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 17:55:35 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 17:55:35 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 636 ms
2024-10-31 17:55:35 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 17:55:35 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 17:55:35 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 17:55:35 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 17:55:35 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 17:55:35 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3356ff58
2024-10-31 17:55:35 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 17:55:35 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 17:55:36 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 17:55:36 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@6f695077] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 17:55:36 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 17:55:36 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 17:55:37 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-10-31 17:55:37 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-10-31 17:55:37 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-10-31 17:55:37 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-10-31 17:55:37 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 17:55:37 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4b10e470, org.springframework.security.web.session.ForceEagerSessionCreationFilter@2c283221, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@17dee9f9, org.springframework.security.web.context.SecurityContextHolderFilter@4dc1f629, org.springframework.security.web.header.HeaderWriterFilter@3833a045, org.springframework.web.filter.CorsFilter@61140895, org.springframework.security.web.authentication.logout.LogoutFilter@52599443, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4219e848, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4d33713a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6145be92, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d6b53a3, org.springframework.security.web.session.SessionManagementFilter@2d579733, org.springframework.security.web.access.ExceptionTranslationFilter@4fbdd61f, org.springframework.security.web.access.intercept.AuthorizationFilter@1acf0703]
2024-10-31 17:55:37 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 17:55:37 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.916 seconds (process running for 3.203)
2024-10-31 17:55:38 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 17:55:38 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 17:55:38 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 17:55:38 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-10-31 17:55:38 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-10-31 17:55:38 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 17:55:38 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 5246C56F58161C7B9A4F41BA3F5D487F
2024-10-31 17:55:38 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-10-31 17:55:38 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.UserStatisticsController.getUserStatistics(UserStatisticsController.java:30)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 17:55:38 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 17:55:38 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 17:55:38 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 17:55:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login?error
2024-10-31 17:55:40 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 17:55:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login?error
2024-10-31 17:55:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login?error
2024-10-31 17:55:40 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 17:55:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login?error
2024-10-31 17:55:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-10-31 17:55:42 [http-nio-8080-exec-4] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 17:55:42 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-10-31 17:55:42 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 88E6C726FA3C328B5980D3579E4BBB6C
2024-10-31 17:55:42 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@65a262d4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=88E6C726FA3C328B5980D3579E4BBB6C], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@1806f413]
2024-10-31 17:55:42 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@65a262d4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=88E6C726FA3C328B5980D3579E4BBB6C], Granted Authorities=[ROLE_ADMIN]]
2024-10-31 17:55:42 [http-nio-8080-exec-4] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-10-31 17:55:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-10-31 17:55:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-10-31 17:55:42 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@65a262d4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=88E6C726FA3C328B5980D3579E4BBB6C], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 0
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 0.0
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 0.0
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Завершен]
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Завершен]: 0
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Отказ]
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Отказ]: 0
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя work@gmail.com: 0.0
2024-10-31 17:55:42 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя work@gmail.com: 0.0
2024-10-31 17:55:42 [http-nio-8080-exec-5] ERROR freemarker.runtime - Error executing FreeMarker template
freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> percentage  [in template "statistics.ftlh" at line 221, column 51]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${percentage}  [in template "statistics.ftlh" at line 221, column 49]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)
	at freemarker.core.EvalUtil.coerceModelToTextualCommon(EvalUtil.java:481)
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:401)
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:370)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:377)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:291)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 17:55:42 [http-nio-8080-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> percentage  [in template "statistics.ftlh" at line 221, column 51]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${percentage}  [in template "statistics.ftlh" at line 221, column 49]
----] with root cause
freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> percentage  [in template "statistics.ftlh" at line 221, column 51]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${percentage}  [in template "statistics.ftlh" at line 221, column 49]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)
	at freemarker.core.EvalUtil.coerceModelToTextualCommon(EvalUtil.java:481)
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:401)
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:370)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:377)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:291)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 17:55:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-10-31 17:55:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-10-31 17:55:42 [http-nio-8080-exec-5] ERROR o.s.b.a.w.s.e.ErrorMvcAutoConfiguration$StaticView - Cannot render error page for request [/statistics] as the response has already been committed. As a result, the response may have the wrong status code.
2024-10-31 17:55:42 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@65a262d4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=88E6C726FA3C328B5980D3579E4BBB6C], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 17:55:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-10-31 17:55:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-10-31 17:55:42 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-10-31 17:55:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-10-31 17:55:42 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-10-31 17:55:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-10-31 17:55:42 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@65a262d4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=88E6C726FA3C328B5980D3579E4BBB6C], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 17:55:42 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@65a262d4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=88E6C726FA3C328B5980D3579E4BBB6C], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 17:55:42 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@65a262d4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=88E6C726FA3C328B5980D3579E4BBB6C], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:00:58 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /user-settings
2024-10-31 18:00:58 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /user-settings
2024-10-31 18:00:58 [http-nio-8080-exec-2] ERROR freemarker.runtime - Error executing FreeMarker template
freemarker.core._TemplateModelException: Java method "com.example.fenikaCRM10.models.User.setPercentage(double)" takes 1 argument, but 0 was given.

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.setPercentage()}  [in template "user-settings.ftlh" at line 16, column 64]
----
	at freemarker.ext.beans.SimpleMethod.unwrapArguments(SimpleMethod.java:73)
	at freemarker.ext.beans.SimpleMethodModel.exec(SimpleMethodModel.java:74)
	at freemarker.core.MethodCall._eval(MethodCall.java:62)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:321)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:00:58 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@65a262d4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=88E6C726FA3C328B5980D3579E4BBB6C], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:00:58 [http-nio-8080-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: freemarker.core._TemplateModelException: Java method "com.example.fenikaCRM10.models.User.setPercentage(double)" takes 1 argument, but 0 was given.

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.setPercentage()}  [in template "user-settings.ftlh" at line 16, column 64]
----] with root cause
freemarker.core._TemplateModelException: Java method "com.example.fenikaCRM10.models.User.setPercentage(double)" takes 1 argument, but 0 was given.

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.setPercentage()}  [in template "user-settings.ftlh" at line 16, column 64]
----
	at freemarker.ext.beans.SimpleMethod.unwrapArguments(SimpleMethod.java:73)
	at freemarker.ext.beans.SimpleMethodModel.exec(SimpleMethodModel.java:74)
	at freemarker.core.MethodCall._eval(MethodCall.java:62)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:321)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:00:58 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /user-settings
2024-10-31 18:00:58 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /user-settings
2024-10-31 18:00:58 [http-nio-8080-exec-2] ERROR o.s.b.a.w.s.e.ErrorMvcAutoConfiguration$StaticView - Cannot render error page for request [/user-settings] as the response has already been committed. As a result, the response may have the wrong status code.
2024-10-31 18:00:58 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@65a262d4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=88E6C726FA3C328B5980D3579E4BBB6C], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:02:44 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 18:02:44 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 18:02:44 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 18:02:46 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 61218 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 18:02:46 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 18:02:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 18:02:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 6 JPA repository interfaces.
2024-10-31 18:02:47 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 18:02:47 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 18:02:47 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 18:02:47 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 18:02:47 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 636 ms
2024-10-31 18:02:47 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 18:02:47 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 18:02:47 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 18:02:47 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 18:02:47 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 18:02:47 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@9f9146d
2024-10-31 18:02:47 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 18:02:47 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 18:02:47 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 18:02:47 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@54780c40] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 18:02:48 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 18:02:48 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 18:02:48 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-10-31 18:02:48 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-10-31 18:02:48 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-10-31 18:02:48 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-10-31 18:02:48 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 18:02:48 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2d6b53a3, org.springframework.security.web.session.ForceEagerSessionCreationFilter@40bfd515, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@204e6dda, org.springframework.security.web.context.SecurityContextHolderFilter@23f77c2d, org.springframework.security.web.header.HeaderWriterFilter@d388775, org.springframework.web.filter.CorsFilter@61df99e6, org.springframework.security.web.authentication.logout.LogoutFilter@4fd43b14, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4b10e470, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3bc3cdb7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@773e4573, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@165e3835, org.springframework.security.web.session.SessionManagementFilter@4dc1f629, org.springframework.security.web.access.ExceptionTranslationFilter@2d579733, org.springframework.security.web.access.intercept.AuthorizationFilter@46460f58]
2024-10-31 18:02:49 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 18:02:49 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.856 seconds (process running for 3.133)
2024-10-31 18:02:53 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 18:02:53 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 18:02:53 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 18:02:53 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /user-settings
2024-10-31 18:02:53 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-10-31 18:02:53 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:02:53 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 4C9362C9F8A67CADBA132D176FF87AE1
2024-10-31 18:02:53 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /user-settings
2024-10-31 18:02:53 [http-nio-8080-exec-1] ERROR freemarker.runtime - Error executing FreeMarker template
freemarker.core._TemplateModelException: Java method "com.example.fenikaCRM10.models.User.setPercentage(double)" takes 1 argument, but 0 was given.

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.setPercentage()}  [in template "user-settings.ftlh" at line 16, column 64]
----
	at freemarker.ext.beans.SimpleMethod.unwrapArguments(SimpleMethod.java:73)
	at freemarker.ext.beans.SimpleMethodModel.exec(SimpleMethodModel.java:74)
	at freemarker.core.MethodCall._eval(MethodCall.java:62)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:321)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:02:53 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: freemarker.core._TemplateModelException: Java method "com.example.fenikaCRM10.models.User.setPercentage(double)" takes 1 argument, but 0 was given.

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.setPercentage()}  [in template "user-settings.ftlh" at line 16, column 64]
----] with root cause
freemarker.core._TemplateModelException: Java method "com.example.fenikaCRM10.models.User.setPercentage(double)" takes 1 argument, but 0 was given.

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.setPercentage()}  [in template "user-settings.ftlh" at line 16, column 64]
----
	at freemarker.ext.beans.SimpleMethod.unwrapArguments(SimpleMethod.java:73)
	at freemarker.ext.beans.SimpleMethodModel.exec(SimpleMethodModel.java:74)
	at freemarker.core.MethodCall._eval(MethodCall.java:62)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:321)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:02:53 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /user-settings
2024-10-31 18:02:53 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /user-settings
2024-10-31 18:02:53 [http-nio-8080-exec-1] ERROR o.s.b.a.w.s.e.ErrorMvcAutoConfiguration$StaticView - Cannot render error page for request [/user-settings] as the response has already been committed. As a result, the response may have the wrong status code.
2024-10-31 18:02:53 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:02:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-10-31 18:02:54 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:02:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-10-31 18:02:54 [http-nio-8080-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.UserStatisticsController.getUserStatistics(UserStatisticsController.java:30)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:02:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 18:02:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 18:02:54 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:02:55 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login?error
2024-10-31 18:02:55 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:02:55 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login?error
2024-10-31 18:02:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-10-31 18:02:56 [http-nio-8080-exec-4] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 18:02:56 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-10-31 18:02:56 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from E1B370DDCD1FE6D54805E4F972E7481A
2024-10-31 18:02:56 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7c0941, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E1B370DDCD1FE6D54805E4F972E7481A], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@164d6176]
2024-10-31 18:02:56 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7c0941, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E1B370DDCD1FE6D54805E4F972E7481A], Granted Authorities=[ROLE_ADMIN]]
2024-10-31 18:02:56 [http-nio-8080-exec-4] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-10-31 18:02:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-10-31 18:02:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-10-31 18:02:56 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7c0941, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E1B370DDCD1FE6D54805E4F972E7481A], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 0
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 0.0
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 0.0
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Завершен]
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Завершен]: 0
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Отказ]
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Отказ]: 0
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя work@gmail.com: 0.0
2024-10-31 18:02:56 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя work@gmail.com: 0.0
2024-10-31 18:02:56 [http-nio-8080-exec-5] ERROR freemarker.runtime - Error executing FreeMarker template
freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> percentage  [in template "statistics.ftlh" at line 221, column 51]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${percentage}  [in template "statistics.ftlh" at line 221, column 49]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)
	at freemarker.core.EvalUtil.coerceModelToTextualCommon(EvalUtil.java:481)
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:401)
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:370)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:377)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:291)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:02:56 [http-nio-8080-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> percentage  [in template "statistics.ftlh" at line 221, column 51]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${percentage}  [in template "statistics.ftlh" at line 221, column 49]
----] with root cause
freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> percentage  [in template "statistics.ftlh" at line 221, column 51]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${percentage}  [in template "statistics.ftlh" at line 221, column 49]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)
	at freemarker.core.EvalUtil.coerceModelToTextualCommon(EvalUtil.java:481)
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:401)
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:370)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:377)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:291)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:02:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-10-31 18:02:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-10-31 18:02:56 [http-nio-8080-exec-5] ERROR o.s.b.a.w.s.e.ErrorMvcAutoConfiguration$StaticView - Cannot render error page for request [/statistics] as the response has already been committed. As a result, the response may have the wrong status code.
2024-10-31 18:02:56 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7c0941, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E1B370DDCD1FE6D54805E4F972E7481A], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:02:56 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-10-31 18:02:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-10-31 18:02:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-10-31 18:02:56 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-10-31 18:02:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-10-31 18:02:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-10-31 18:02:56 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7c0941, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E1B370DDCD1FE6D54805E4F972E7481A], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:02:56 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7c0941, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E1B370DDCD1FE6D54805E4F972E7481A], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:02:56 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7c0941, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E1B370DDCD1FE6D54805E4F972E7481A], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:04:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /logout
2024-10-31 18:04:34 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7c0941, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E1B370DDCD1FE6D54805E4F972E7481A], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:04:34 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.logout.LogoutFilter - Logging out [UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7c0941, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E1B370DDCD1FE6D54805E4F972E7481A], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:04:34 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.l.SecurityContextLogoutHandler - Invalidated session A95633C1B3595FD809491309741C918B
2024-10-31 18:04:34 [http-nio-8080-exec-2] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /login?logout
2024-10-31 18:04:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login?logout
2024-10-31 18:04:34 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-10-31 18:04:34 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:04:34 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id A95633C1B3595FD809491309741C918B
2024-10-31 18:04:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login?logout
2024-10-31 18:04:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-10-31 18:04:45 [http-nio-8080-exec-4] INFO  c.e.f.s.CustomUserDetailsService - User found: work@gmail.com
2024-10-31 18:04:45 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-10-31 18:04:45 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 882482EA0749FA7D190C0F0B7C32CA37
2024-10-31 18:04:45 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7d7f7031, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=882482EA0749FA7D190C0F0B7C32CA37], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@1582b78c]
2024-10-31 18:04:45 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7d7f7031, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=882482EA0749FA7D190C0F0B7C32CA37], Granted Authorities=[ROLE_USER]]
2024-10-31 18:04:45 [http-nio-8080-exec-4] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-10-31 18:04:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-10-31 18:04:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-10-31 18:04:45 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7d7f7031, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=882482EA0749FA7D190C0F0B7C32CA37], Granted Authorities=[ROLE_USER]]]
2024-10-31 18:04:45 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Завершен]
2024-10-31 18:04:45 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Завершен]: 0
2024-10-31 18:04:45 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:04:45 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 18:04:45 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Отказ]
2024-10-31 18:04:45 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Отказ]: 0
2024-10-31 18:04:45 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:04:45 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:04:45 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:04:45 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:04:45 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя work@gmail.com: 0.0
2024-10-31 18:04:45 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя work@gmail.com: 0.0
2024-10-31 18:04:45 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-10-31 18:04:45 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-10-31 18:04:45 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-10-31 18:04:45 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-10-31 18:04:45 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-10-31 18:04:45 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-10-31 18:04:45 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7d7f7031, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=882482EA0749FA7D190C0F0B7C32CA37], Granted Authorities=[ROLE_USER]]]
2024-10-31 18:04:45 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7d7f7031, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=882482EA0749FA7D190C0F0B7C32CA37], Granted Authorities=[ROLE_USER]]]
2024-10-31 18:04:45 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@7d7f7031, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=882482EA0749FA7D190C0F0B7C32CA37], Granted Authorities=[ROLE_USER]]]
2024-10-31 18:06:12 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 18:06:12 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 18:06:12 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 18:06:13 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 61476 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 18:06:13 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 18:06:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 18:06:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2024-10-31 18:06:14 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 18:06:14 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 18:06:14 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 18:06:14 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 18:06:14 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 604 ms
2024-10-31 18:06:14 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 18:06:14 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 18:06:14 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 18:06:14 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 18:06:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 18:06:14 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@75527e36
2024-10-31 18:06:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 18:06:14 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 18:06:15 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 18:06:15 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@6e5b3642] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 18:06:15 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 18:06:15 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 18:06:15 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-10-31 18:06:15 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-10-31 18:06:15 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-10-31 18:06:15 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-10-31 18:06:15 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 18:06:16 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4415cc21, org.springframework.security.web.session.ForceEagerSessionCreationFilter@7bb5f1b5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6fefa622, org.springframework.security.web.context.SecurityContextHolderFilter@5d3e24e2, org.springframework.security.web.header.HeaderWriterFilter@3bc3cdb7, org.springframework.web.filter.CorsFilter@12550aaf, org.springframework.security.web.authentication.logout.LogoutFilter@17dee9f9, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@63dc973e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a478680, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7eecb648, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@784bb800, org.springframework.security.web.session.SessionManagementFilter@4f5f4f7a, org.springframework.security.web.access.ExceptionTranslationFilter@23f77c2d, org.springframework.security.web.access.intercept.AuthorizationFilter@4e0e9fc1]
2024-10-31 18:06:16 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 18:06:16 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.853 seconds (process running for 3.142)
2024-10-31 18:06:19 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 18:06:19 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 18:06:19 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-10-31 18:06:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /logout
2024-10-31 18:06:19 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-10-31 18:06:19 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.logout.LogoutFilter - Logging out [null]
2024-10-31 18:06:19 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.l.SecurityContextLogoutHandler - Invalidated session 45DE7E48AE0D4E80AB1C1362A0553130
2024-10-31 18:06:19 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /login?logout
2024-10-31 18:06:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login?logout
2024-10-31 18:06:19 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-10-31 18:06:19 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:06:19 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 45DE7E48AE0D4E80AB1C1362A0553130
2024-10-31 18:06:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login?logout
2024-10-31 18:06:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-10-31 18:06:22 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 18:06:22 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-10-31 18:06:22 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 05EDAB186720322FDACE55377B0B76F4
2024-10-31 18:06:22 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@6389edb8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=05EDAB186720322FDACE55377B0B76F4], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@59ab69e9]
2024-10-31 18:06:22 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@6389edb8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=05EDAB186720322FDACE55377B0B76F4], Granted Authorities=[ROLE_ADMIN]]
2024-10-31 18:06:22 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-10-31 18:06:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-10-31 18:06:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-10-31 18:06:22 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@6389edb8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=05EDAB186720322FDACE55377B0B76F4], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 0
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 0.0
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 0.0
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Завершен]
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Завершен]: 0
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Отказ]
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Отказ]: 0
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя work@gmail.com: 0.0
2024-10-31 18:06:22 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя work@gmail.com: 0.0
2024-10-31 18:06:22 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-10-31 18:06:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-10-31 18:06:22 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-10-31 18:06:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-10-31 18:06:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-10-31 18:06:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-10-31 18:06:22 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@6389edb8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=05EDAB186720322FDACE55377B0B76F4], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:06:22 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@6389edb8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=05EDAB186720322FDACE55377B0B76F4], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:06:22 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@6389edb8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=05EDAB186720322FDACE55377B0B76F4], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:06:43 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /user-settings
2024-10-31 18:06:43 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /user-settings
2024-10-31 18:06:43 [http-nio-8080-exec-8] ERROR freemarker.runtime - Error executing FreeMarker template
freemarker.core._TemplateModelException: Java method "com.example.fenikaCRM10.models.User.setPercentage(double)" takes 1 argument, but 0 was given.

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.setPercentage()}  [in template "user-settings.ftlh" at line 16, column 64]
----
	at freemarker.ext.beans.SimpleMethod.unwrapArguments(SimpleMethod.java:73)
	at freemarker.ext.beans.SimpleMethodModel.exec(SimpleMethodModel.java:74)
	at freemarker.core.MethodCall._eval(MethodCall.java:62)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:321)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:06:43 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@6389edb8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=05EDAB186720322FDACE55377B0B76F4], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:06:43 [http-nio-8080-exec-8] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: freemarker.core._TemplateModelException: Java method "com.example.fenikaCRM10.models.User.setPercentage(double)" takes 1 argument, but 0 was given.

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.setPercentage()}  [in template "user-settings.ftlh" at line 16, column 64]
----] with root cause
freemarker.core._TemplateModelException: Java method "com.example.fenikaCRM10.models.User.setPercentage(double)" takes 1 argument, but 0 was given.

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.setPercentage()}  [in template "user-settings.ftlh" at line 16, column 64]
----
	at freemarker.ext.beans.SimpleMethod.unwrapArguments(SimpleMethod.java:73)
	at freemarker.ext.beans.SimpleMethodModel.exec(SimpleMethodModel.java:74)
	at freemarker.core.MethodCall._eval(MethodCall.java:62)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:321)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:06:43 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /user-settings
2024-10-31 18:06:43 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /user-settings
2024-10-31 18:06:43 [http-nio-8080-exec-8] ERROR o.s.b.a.w.s.e.ErrorMvcAutoConfiguration$StaticView - Cannot render error page for request [/user-settings] as the response has already been committed. As a result, the response may have the wrong status code.
2024-10-31 18:06:43 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@6389edb8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=05EDAB186720322FDACE55377B0B76F4], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:11:46 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 18:11:46 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 18:11:46 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 18:11:48 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 61912 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 18:11:48 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 18:11:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 18:11:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2024-10-31 18:11:49 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 18:11:49 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 18:11:49 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 18:11:49 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 18:11:49 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 623 ms
2024-10-31 18:11:49 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 18:11:49 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 18:11:49 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 18:11:49 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 18:11:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 18:11:49 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6d0114c0
2024-10-31 18:11:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 18:11:49 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 18:11:50 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 18:11:50 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7b6b466a] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 18:11:50 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 18:11:50 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 18:11:51 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-10-31 18:11:51 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-10-31 18:11:51 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-10-31 18:11:51 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-10-31 18:11:51 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 18:11:51 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6fefa622, org.springframework.security.web.session.ForceEagerSessionCreationFilter@12550aaf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@784bb800, org.springframework.security.web.context.SecurityContextHolderFilter@6a478680, org.springframework.security.web.header.HeaderWriterFilter@4f5f4f7a, org.springframework.web.filter.CorsFilter@2c27d6e5, org.springframework.security.web.authentication.logout.LogoutFilter@2d6b53a3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@793dbe67, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52599443, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1c510181, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3eebbbf5, org.springframework.security.web.session.SessionManagementFilter@68955382, org.springframework.security.web.access.ExceptionTranslationFilter@4cd0b8cf, org.springframework.security.web.access.intercept.AuthorizationFilter@694adaac]
2024-10-31 18:11:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 18:11:51 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.858 seconds (process running for 3.149)
2024-10-31 18:11:54 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 18:11:54 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 18:11:54 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-10-31 18:11:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /user-settings
2024-10-31 18:11:54 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-10-31 18:11:54 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:11:54 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 3D63A8A56720B66305325674B3C32FD4
2024-10-31 18:11:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /user-settings
2024-10-31 18:11:54 [http-nio-8080-exec-1] ERROR freemarker.runtime - Error executing FreeMarker template
freemarker.core._TemplateModelException: Java method "com.example.fenikaCRM10.models.User.setPercentage(double)" takes 1 argument, but 0 was given.

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.setPercentage()}  [in template "user-settings.ftlh" at line 16, column 64]
----
	at freemarker.ext.beans.SimpleMethod.unwrapArguments(SimpleMethod.java:73)
	at freemarker.ext.beans.SimpleMethodModel.exec(SimpleMethodModel.java:74)
	at freemarker.core.MethodCall._eval(MethodCall.java:62)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:321)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:11:54 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: freemarker.core._TemplateModelException: Java method "com.example.fenikaCRM10.models.User.setPercentage(double)" takes 1 argument, but 0 was given.

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.setPercentage()}  [in template "user-settings.ftlh" at line 16, column 64]
----] with root cause
freemarker.core._TemplateModelException: Java method "com.example.fenikaCRM10.models.User.setPercentage(double)" takes 1 argument, but 0 was given.

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.setPercentage()}  [in template "user-settings.ftlh" at line 16, column 64]
----
	at freemarker.ext.beans.SimpleMethod.unwrapArguments(SimpleMethod.java:73)
	at freemarker.ext.beans.SimpleMethodModel.exec(SimpleMethodModel.java:74)
	at freemarker.core.MethodCall._eval(MethodCall.java:62)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:321)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:11:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /user-settings
2024-10-31 18:11:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /user-settings
2024-10-31 18:11:54 [http-nio-8080-exec-1] ERROR o.s.b.a.w.s.e.ErrorMvcAutoConfiguration$StaticView - Cannot render error page for request [/user-settings] as the response has already been committed. As a result, the response may have the wrong status code.
2024-10-31 18:11:54 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:11:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /user-settings
2024-10-31 18:11:55 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:11:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /user-settings
2024-10-31 18:11:55 [http-nio-8080-exec-2] ERROR freemarker.runtime - Error executing FreeMarker template
freemarker.core._TemplateModelException: Java method "com.example.fenikaCRM10.models.User.setPercentage(double)" takes 1 argument, but 0 was given.

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.setPercentage()}  [in template "user-settings.ftlh" at line 16, column 64]
----
	at freemarker.ext.beans.SimpleMethod.unwrapArguments(SimpleMethod.java:73)
	at freemarker.ext.beans.SimpleMethodModel.exec(SimpleMethodModel.java:74)
	at freemarker.core.MethodCall._eval(MethodCall.java:62)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:321)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:11:55 [http-nio-8080-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: freemarker.core._TemplateModelException: Java method "com.example.fenikaCRM10.models.User.setPercentage(double)" takes 1 argument, but 0 was given.

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.setPercentage()}  [in template "user-settings.ftlh" at line 16, column 64]
----] with root cause
freemarker.core._TemplateModelException: Java method "com.example.fenikaCRM10.models.User.setPercentage(double)" takes 1 argument, but 0 was given.

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.setPercentage()}  [in template "user-settings.ftlh" at line 16, column 64]
----
	at freemarker.ext.beans.SimpleMethod.unwrapArguments(SimpleMethod.java:73)
	at freemarker.ext.beans.SimpleMethodModel.exec(SimpleMethodModel.java:74)
	at freemarker.core.MethodCall._eval(MethodCall.java:62)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:321)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:11:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /user-settings
2024-10-31 18:11:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /user-settings
2024-10-31 18:11:55 [http-nio-8080-exec-2] ERROR o.s.b.a.w.s.e.ErrorMvcAutoConfiguration$StaticView - Cannot render error page for request [/user-settings] as the response has already been committed. As a result, the response may have the wrong status code.
2024-10-31 18:11:55 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:11:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-10-31 18:11:56 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:11:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-10-31 18:11:56 [http-nio-8080-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.UserStatisticsController.getUserStatistics(UserStatisticsController.java:30)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:11:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 18:11:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 18:11:56 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:11:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login?logout
2024-10-31 18:11:56 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:11:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login?logout
2024-10-31 18:11:58 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-10-31 18:11:58 [http-nio-8080-exec-5] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 18:11:58 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-10-31 18:11:58 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 0E31466A19E858F5AA5F65DBD07CAC4F
2024-10-31 18:11:58 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1379180b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E31466A19E858F5AA5F65DBD07CAC4F], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@547b55c8]
2024-10-31 18:11:58 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1379180b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E31466A19E858F5AA5F65DBD07CAC4F], Granted Authorities=[ROLE_ADMIN]]
2024-10-31 18:11:58 [http-nio-8080-exec-5] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-10-31 18:11:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-10-31 18:11:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-10-31 18:11:58 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1379180b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E31466A19E858F5AA5F65DBD07CAC4F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 0
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 0.0
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 0.0
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Завершен]
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Завершен]: 0
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Отказ]
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Отказ]: 0
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя work@gmail.com: 0.0
2024-10-31 18:11:58 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя work@gmail.com: 0.0
2024-10-31 18:11:58 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-10-31 18:11:58 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-10-31 18:11:58 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-10-31 18:11:58 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-10-31 18:11:58 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-10-31 18:11:58 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-10-31 18:11:58 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1379180b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E31466A19E858F5AA5F65DBD07CAC4F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:11:58 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1379180b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E31466A19E858F5AA5F65DBD07CAC4F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:11:58 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1379180b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E31466A19E858F5AA5F65DBD07CAC4F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:12:06 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /user-settings
2024-10-31 18:12:06 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /user-settings
2024-10-31 18:12:06 [http-nio-8080-exec-10] ERROR freemarker.runtime - Error executing FreeMarker template
freemarker.core._TemplateModelException: Java method "com.example.fenikaCRM10.models.User.setPercentage(double)" takes 1 argument, but 0 was given.

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.setPercentage()}  [in template "user-settings.ftlh" at line 16, column 64]
----
	at freemarker.ext.beans.SimpleMethod.unwrapArguments(SimpleMethod.java:73)
	at freemarker.ext.beans.SimpleMethodModel.exec(SimpleMethodModel.java:74)
	at freemarker.core.MethodCall._eval(MethodCall.java:62)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:321)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:12:06 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1379180b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E31466A19E858F5AA5F65DBD07CAC4F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:12:06 [http-nio-8080-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: freemarker.core._TemplateModelException: Java method "com.example.fenikaCRM10.models.User.setPercentage(double)" takes 1 argument, but 0 was given.

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.setPercentage()}  [in template "user-settings.ftlh" at line 16, column 64]
----] with root cause
freemarker.core._TemplateModelException: Java method "com.example.fenikaCRM10.models.User.setPercentage(double)" takes 1 argument, but 0 was given.

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.setPercentage()}  [in template "user-settings.ftlh" at line 16, column 64]
----
	at freemarker.ext.beans.SimpleMethod.unwrapArguments(SimpleMethod.java:73)
	at freemarker.ext.beans.SimpleMethodModel.exec(SimpleMethodModel.java:74)
	at freemarker.core.MethodCall._eval(MethodCall.java:62)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:371)
	at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:321)
	at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)
	at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)
	at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)
	at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)
	at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)
	at freemarker.core.Environment.visit(Environment.java:335)
	at freemarker.core.Environment.visit(Environment.java:341)
	at freemarker.core.Environment.process(Environment.java:314)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:332)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:266)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:220)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:12:06 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /user-settings
2024-10-31 18:12:06 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /user-settings
2024-10-31 18:12:06 [http-nio-8080-exec-10] ERROR o.s.b.a.w.s.e.ErrorMvcAutoConfiguration$StaticView - Cannot render error page for request [/user-settings] as the response has already been committed. As a result, the response may have the wrong status code.
2024-10-31 18:12:06 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@1379180b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E31466A19E858F5AA5F65DBD07CAC4F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:16:19 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 18:16:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 18:16:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 18:16:21 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 62265 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 18:16:21 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 18:16:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 18:16:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2024-10-31 18:16:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 18:16:22 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 18:16:22 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 18:16:22 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 18:16:22 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 613 ms
2024-10-31 18:16:22 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 18:16:22 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 18:16:22 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 18:16:22 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 18:16:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 18:16:22 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6d0114c0
2024-10-31 18:16:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 18:16:22 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 18:16:23 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 18:16:23 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7b6b466a] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 18:16:23 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 18:16:23 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 18:16:23 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-10-31 18:16:23 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-10-31 18:16:23 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-10-31 18:16:23 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-10-31 18:16:23 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 18:16:24 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@61140895, org.springframework.security.web.session.ForceEagerSessionCreationFilter@2d6b53a3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@40bfd515, org.springframework.security.web.context.SecurityContextHolderFilter@6145be92, org.springframework.security.web.header.HeaderWriterFilter@282c2bbd, org.springframework.web.filter.CorsFilter@204e6dda, org.springframework.security.web.authentication.logout.LogoutFilter@513156fd, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@46460f58, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6dafdb99, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3bc3cdb7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@61df99e6, org.springframework.security.web.session.SessionManagementFilter@5c3e0c92, org.springframework.security.web.access.ExceptionTranslationFilter@c7ba58d, org.springframework.security.web.access.intercept.AuthorizationFilter@2453e3ce]
2024-10-31 18:16:24 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 18:16:24 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.843 seconds (process running for 3.129)
2024-10-31 18:16:27 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 18:16:27 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 18:16:27 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 18:16:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-10-31 18:16:27 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-10-31 18:16:27 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:16:27 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 2FBF2AFDF1BED0CB90DE3365B03AC9A1
2024-10-31 18:16:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-10-31 18:16:27 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.UserStatisticsController.getUserStatistics(UserStatisticsController.java:30)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:16:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 18:16:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 18:16:27 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:16:28 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login?logout
2024-10-31 18:16:28 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:16:28 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login?logout
2024-10-31 18:16:30 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-10-31 18:16:30 [http-nio-8080-exec-3] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 18:16:30 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-10-31 18:16:30 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from F1C83CF46D167C64EE765735ECB9E36F
2024-10-31 18:16:30 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@55e3a94b]
2024-10-31 18:16:30 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]
2024-10-31 18:16:30 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-10-31 18:16:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-10-31 18:16:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-10-31 18:16:30 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 0
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 0.0
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 0.0
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Завершен]
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Завершен]: 0
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Отказ]
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Отказ]: 0
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя work@gmail.com: 0.0
2024-10-31 18:16:30 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя work@gmail.com: 0.0
2024-10-31 18:16:30 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-10-31 18:16:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-10-31 18:16:30 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-10-31 18:16:30 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-10-31 18:16:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-10-31 18:16:30 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-10-31 18:16:30 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:16:30 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:16:30 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:16:33 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /user-settings
2024-10-31 18:16:33 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /user-settings
2024-10-31 18:16:33 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:16:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /update-percentage
2024-10-31 18:16:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /update-percentage
2024-10-31 18:16:50 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:16:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /user-settings
2024-10-31 18:16:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /user-settings
2024-10-31 18:16:50 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:16:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /update-percentage
2024-10-31 18:16:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /update-percentage
2024-10-31 18:16:55 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:16:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /user-settings
2024-10-31 18:16:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /user-settings
2024-10-31 18:16:55 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:17:00 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /update-percentage
2024-10-31 18:17:00 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /update-percentage
2024-10-31 18:17:00 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:17:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /user-settings
2024-10-31 18:17:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /user-settings
2024-10-31 18:17:00 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:17:06 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-10-31 18:17:06 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-10-31 18:17:06 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 0
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 0.0
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 0.0
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Завершен]
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Завершен]: 0
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Отказ]
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Отказ]: 0
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя work@gmail.com: 0.0
2024-10-31 18:17:06 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя work@gmail.com: 0.0
2024-10-31 18:17:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-10-31 18:17:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-10-31 18:17:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-10-31 18:17:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-10-31 18:17:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-10-31 18:17:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-10-31 18:17:06 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:17:06 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:17:06 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:17:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-10-31 18:17:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-10-31 18:17:17 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:17:19 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deal-create?
2024-10-31 18:17:19 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deal-create?
2024-10-31 18:17:19 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:17:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /deal-create-save
2024-10-31 18:17:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /deal-create-save
2024-10-31 18:17:26 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:17:26 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Сделке с ID 1 присвоен статус 'Новая заявка' с комментарием 'связаться в течение 30 минут!'
2024-10-31 18:17:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-10-31 18:17:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-10-31 18:17:26 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:17:26 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 1: []
2024-10-31 18:17:26 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 1: 0.0
2024-10-31 18:17:28 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deal-info/1
2024-10-31 18:17:28 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deal-info/1
2024-10-31 18:17:28 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:17:29 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 1: []
2024-10-31 18:17:29 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 1: 0.0
2024-10-31 18:17:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /payments/1
2024-10-31 18:17:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /payments/1
2024-10-31 18:17:30 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 1: []
2024-10-31 18:17:30 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 1: 0.0
2024-10-31 18:17:30 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:17:30 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 1: []
2024-10-31 18:17:30 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 1: 0.0
2024-10-31 18:17:38 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /savePayment/1
2024-10-31 18:17:38 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /savePayment/1
2024-10-31 18:17:38 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:17:38 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /payments/1
2024-10-31 18:17:38 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /payments/1
2024-10-31 18:17:38 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 1: [Payments(paymentId=1, dealId=1, commentPayments=defef, currentDate=2024-10-31, statusPayments=Поступление, sum=500000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=1, name=efdfdf, numberPhone=9909090, whatNeed=dfdfd, deliveryAdress=dfdfdf, author=Георгий Панус, email=null, user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0))]
2024-10-31 18:17:38 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 500000.0
2024-10-31 18:17:38 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 1: 500000.0
2024-10-31 18:17:38 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:17:38 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 1: [Payments(paymentId=1, dealId=1, commentPayments=defef, currentDate=2024-10-31, statusPayments=Поступление, sum=500000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=1, name=efdfdf, numberPhone=9909090, whatNeed=dfdfd, deliveryAdress=dfdfdf, author=Георгий Панус, email=null, user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0))]
2024-10-31 18:17:38 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 500000.0
2024-10-31 18:17:38 [http-nio-8080-exec-6] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 1: 500000.0
2024-10-31 18:17:49 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /savePayment/1
2024-10-31 18:17:49 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /savePayment/1
2024-10-31 18:17:49 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:17:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /payments/1
2024-10-31 18:17:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /payments/1
2024-10-31 18:17:49 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 1: [Payments(paymentId=1, dealId=1, commentPayments=defef, currentDate=2024-10-31, statusPayments=Поступление, sum=500000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=1, name=efdfdf, numberPhone=9909090, whatNeed=dfdfd, deliveryAdress=dfdfdf, author=Георгий Панус, email=null, user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0)), Payments(paymentId=2, dealId=1, commentPayments=dfdfdf, currentDate=2024-10-31, statusPayments=Расход, sum=100000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=1, name=efdfdf, numberPhone=9909090, whatNeed=dfdfd, deliveryAdress=dfdfdf, author=Георгий Панус, email=null, user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0))]
2024-10-31 18:17:49 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 500000.0
2024-10-31 18:17:49 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 100000.0
2024-10-31 18:17:49 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 1: 400000.0
2024-10-31 18:17:49 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:17:49 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 1: [Payments(paymentId=1, dealId=1, commentPayments=defef, currentDate=2024-10-31, statusPayments=Поступление, sum=500000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=1, name=efdfdf, numberPhone=9909090, whatNeed=dfdfd, deliveryAdress=dfdfdf, author=Георгий Панус, email=null, user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0)), Payments(paymentId=2, dealId=1, commentPayments=dfdfdf, currentDate=2024-10-31, statusPayments=Расход, sum=100000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=1, name=efdfdf, numberPhone=9909090, whatNeed=dfdfd, deliveryAdress=dfdfdf, author=Георгий Панус, email=null, user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0))]
2024-10-31 18:17:49 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 500000.0
2024-10-31 18:17:49 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 100000.0
2024-10-31 18:17:49 [http-nio-8080-exec-8] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 1: 400000.0
2024-10-31 18:17:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals?
2024-10-31 18:17:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals?
2024-10-31 18:17:54 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:17:54 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 1: [Payments(paymentId=1, dealId=1, commentPayments=defef, currentDate=2024-10-31, statusPayments=Поступление, sum=500000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=1, name=efdfdf, numberPhone=9909090, whatNeed=dfdfd, deliveryAdress=dfdfdf, author=Георгий Панус, email=null, user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0)), Payments(paymentId=2, dealId=1, commentPayments=dfdfdf, currentDate=2024-10-31, statusPayments=Расход, sum=100000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=1, name=efdfdf, numberPhone=9909090, whatNeed=dfdfd, deliveryAdress=dfdfdf, author=Георгий Панус, email=null, user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0))]
2024-10-31 18:17:54 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 500000.0
2024-10-31 18:17:54 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 100000.0
2024-10-31 18:17:54 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 1: 400000.0
2024-10-31 18:17:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics?
2024-10-31 18:17:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics?
2024-10-31 18:17:55 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 0
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 200000.0
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Завершен]
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Завершен]: 0
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Отказ]
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Отказ]: 0
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя work@gmail.com: 0.0
2024-10-31 18:17:55 [http-nio-8080-exec-10] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя work@gmail.com: 0.0
2024-10-31 18:17:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-10-31 18:17:55 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-10-31 18:17:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-10-31 18:17:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-10-31 18:17:55 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-10-31 18:17:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-10-31 18:17:55 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:17:55 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:17:55 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@165f5de2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F1C83CF46D167C64EE765735ECB9E36F], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:37:22 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=7m29s573ms).
2024-10-31 18:51:19 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m27s285ms).
2024-10-31 18:53:37 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 18:53:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 18:53:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 18:53:39 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 64380 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 18:53:39 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 18:53:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 18:53:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2024-10-31 18:53:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 18:53:39 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 18:53:39 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 18:53:39 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 18:53:39 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 699 ms
2024-10-31 18:53:40 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 18:53:40 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 18:53:40 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 18:53:40 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 18:53:40 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 18:53:40 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@d16209e
2024-10-31 18:53:40 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 18:53:40 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 18:53:40 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 18:53:40 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2d1f3639] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 18:53:40 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 18:53:41 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 18:53:41 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-10-31 18:53:41 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-10-31 18:53:41 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-10-31 18:53:41 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-10-31 18:53:41 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 18:53:41 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7bb5f1b5, org.springframework.security.web.session.ForceEagerSessionCreationFilter@6fefa622, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@12550aaf, org.springframework.security.web.context.SecurityContextHolderFilter@31dbe419, org.springframework.security.web.header.HeaderWriterFilter@3bc3cdb7, org.springframework.web.filter.CorsFilter@784bb800, org.springframework.security.web.authentication.logout.LogoutFilter@1acf0703, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@694adaac, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4a094674, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f5f4f7a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c27d6e5, org.springframework.security.web.session.SessionManagementFilter@6f3059ad, org.springframework.security.web.access.ExceptionTranslationFilter@23f77c2d, org.springframework.security.web.access.intercept.AuthorizationFilter@63dc973e]
2024-10-31 18:53:42 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 18:53:42 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 3.08 seconds (process running for 3.574)
2024-10-31 18:53:48 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 18:53:48 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 18:53:48 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 18:53:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics?
2024-10-31 18:53:48 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-10-31 18:53:48 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:53:48 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B60A0CD1C2F654BF4F03C55C374C13AB
2024-10-31 18:53:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics?
2024-10-31 18:53:48 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.UserStatisticsController.getUserStatistics(UserStatisticsController.java:30)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:53:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?
2024-10-31 18:53:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?
2024-10-31 18:53:48 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:53:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals?
2024-10-31 18:53:48 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:53:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals?
2024-10-31 18:53:48 [http-nio-8080-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.DealController.getUserDeals(DealController.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:53:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?
2024-10-31 18:53:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?
2024-10-31 18:53:48 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:53:49 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /payments/1
2024-10-31 18:53:49 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:53:49 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /payments/1
2024-10-31 18:53:49 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 1: [Payments(paymentId=1, dealId=1, commentPayments=defef, currentDate=2024-10-31, statusPayments=Поступление, sum=500000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=1, name=efdfdf, numberPhone=9909090, whatNeed=dfdfd, deliveryAdress=dfdfdf, author=Георгий Панус, email=null, user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0)), Payments(paymentId=2, dealId=1, commentPayments=dfdfdf, currentDate=2024-10-31, statusPayments=Расход, sum=100000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=1, name=efdfdf, numberPhone=9909090, whatNeed=dfdfd, deliveryAdress=dfdfdf, author=Георгий Панус, email=null, user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0))]
2024-10-31 18:53:49 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 500000.0
2024-10-31 18:53:49 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 100000.0
2024-10-31 18:53:49 [http-nio-8080-exec-3] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 1: 400000.0
2024-10-31 18:53:49 [http-nio-8080-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.PaymentsController.allPayments(PaymentsController.java:33)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:53:49 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 18:53:49 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 18:53:49 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:53:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /payments/1
2024-10-31 18:53:51 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:53:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /payments/1
2024-10-31 18:53:51 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 1: [Payments(paymentId=1, dealId=1, commentPayments=defef, currentDate=2024-10-31, statusPayments=Поступление, sum=500000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=1, name=efdfdf, numberPhone=9909090, whatNeed=dfdfd, deliveryAdress=dfdfdf, author=Георгий Панус, email=null, user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0)), Payments(paymentId=2, dealId=1, commentPayments=dfdfdf, currentDate=2024-10-31, statusPayments=Расход, sum=100000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=1, name=efdfdf, numberPhone=9909090, whatNeed=dfdfd, deliveryAdress=dfdfdf, author=Георгий Панус, email=null, user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0))]
2024-10-31 18:53:51 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 500000.0
2024-10-31 18:53:51 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 100000.0
2024-10-31 18:53:51 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 1: 400000.0
2024-10-31 18:53:51 [http-nio-8080-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.PaymentsController.allPayments(PaymentsController.java:33)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:53:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 18:53:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 18:53:51 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:53:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /payments/1
2024-10-31 18:53:51 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:53:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /payments/1
2024-10-31 18:53:51 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 1: [Payments(paymentId=1, dealId=1, commentPayments=defef, currentDate=2024-10-31, statusPayments=Поступление, sum=500000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=1, name=efdfdf, numberPhone=9909090, whatNeed=dfdfd, deliveryAdress=dfdfdf, author=Георгий Панус, email=null, user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0)), Payments(paymentId=2, dealId=1, commentPayments=dfdfdf, currentDate=2024-10-31, statusPayments=Расход, sum=100000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=1, name=efdfdf, numberPhone=9909090, whatNeed=dfdfd, deliveryAdress=dfdfdf, author=Георгий Панус, email=null, user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0))]
2024-10-31 18:53:51 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 500000.0
2024-10-31 18:53:51 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 100000.0
2024-10-31 18:53:51 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 1: 400000.0
2024-10-31 18:53:51 [http-nio-8080-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.PaymentsController.allPayments(PaymentsController.java:33)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:53:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 18:53:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 18:53:51 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:53:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deal-info/1
2024-10-31 18:53:52 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:53:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deal-info/1
2024-10-31 18:53:52 [http-nio-8080-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.DealController.dealInfo(DealController.java:121)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:53:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 18:53:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 18:53:52 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:53:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-10-31 18:53:52 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:53:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-10-31 18:53:52 [http-nio-8080-exec-7] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.DealController.getUserDeals(DealController.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:53:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 18:53:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 18:53:52 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:53:53 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deal-create?
2024-10-31 18:53:53 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:53:53 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deal-create?
2024-10-31 18:53:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-10-31 18:53:54 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:53:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-10-31 18:53:54 [http-nio-8080-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.DealController.getUserDeals(DealController.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:53:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 18:53:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 18:53:54 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:53:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-10-31 18:53:54 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:53:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-10-31 18:53:54 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.UserStatisticsController.getUserStatistics(UserStatisticsController.java:30)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:53:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 18:53:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 18:53:54 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:53:56 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-10-31 18:53:56 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:53:56 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-10-31 18:53:56 [http-nio-8080-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.DealController.getUserDeals(DealController.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:53:56 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 18:53:56 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 18:53:56 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:53:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deal-create?
2024-10-31 18:53:56 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:53:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deal-create?
2024-10-31 18:53:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /deal-create-save
2024-10-31 18:53:58 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:53:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /deal-create-save
2024-10-31 18:53:58 [http-nio-8080-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.DealController.createDealSave(DealController.java:73)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:53:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2024-10-31 18:53:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2024-10-31 18:53:58 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:00 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deal-create?
2024-10-31 18:54:00 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:00 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deal-create?
2024-10-31 18:54:00 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-10-31 18:54:00 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:00 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-10-31 18:54:00 [http-nio-8080-exec-8] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.DealController.getUserDeals(DealController.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:54:00 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 18:54:00 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 18:54:00 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:01 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-10-31 18:54:01 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:01 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-10-31 18:54:01 [http-nio-8080-exec-9] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.UserStatisticsController.getUserStatistics(UserStatisticsController.java:30)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:54:01 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 18:54:01 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 18:54:01 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:01 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /user-settings
2024-10-31 18:54:01 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:01 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /user-settings
2024-10-31 18:54:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /user-settings
2024-10-31 18:54:02 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /user-settings
2024-10-31 18:54:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics?
2024-10-31 18:54:04 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics?
2024-10-31 18:54:04 [http-nio-8080-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.UserStatisticsController.getUserStatistics(UserStatisticsController.java:30)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:54:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?
2024-10-31 18:54:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?
2024-10-31 18:54:04 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2024-10-31 18:54:12 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2024-10-31 18:54:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 18:54:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 18:54:12 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:14 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2024-10-31 18:54:14 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:14 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2024-10-31 18:54:14 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 18:54:14 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 18:54:14 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:19 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 18:54:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 18:54:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 18:54:21 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 64462 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 18:54:21 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 18:54:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 18:54:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 6 JPA repository interfaces.
2024-10-31 18:54:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 18:54:21 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 18:54:21 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 18:54:21 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 18:54:21 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 645 ms
2024-10-31 18:54:21 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 18:54:21 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 18:54:21 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 18:54:22 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 18:54:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 18:54:22 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6d0114c0
2024-10-31 18:54:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 18:54:22 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 18:54:22 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 18:54:22 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7ffc4195] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 18:54:22 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 18:54:22 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 18:54:23 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-10-31 18:54:23 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-10-31 18:54:23 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-10-31 18:54:23 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-10-31 18:54:23 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 18:54:23 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@165e3835, org.springframework.security.web.session.ForceEagerSessionCreationFilter@28f74096, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b84d8ef, org.springframework.security.web.context.SecurityContextHolderFilter@6f3059ad, org.springframework.security.web.header.HeaderWriterFilter@4d33713a, org.springframework.web.filter.CorsFilter@66896ed0, org.springframework.security.web.authentication.logout.LogoutFilter@3030a20, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2d6b53a3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@595be089, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c4b230c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1716da4, org.springframework.security.web.session.SessionManagementFilter@23f77c2d, org.springframework.security.web.access.ExceptionTranslationFilter@4dc1f629, org.springframework.security.web.access.intercept.AuthorizationFilter@61140895]
2024-10-31 18:54:23 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 18:54:23 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.886 seconds (process running for 3.159)
2024-10-31 18:54:24 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 18:54:24 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 18:54:24 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 18:54:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2024-10-31 18:54:24 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-10-31 18:54:24 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:24 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 9619FD6E439737937D8A6637EB7F9A5A
2024-10-31 18:54:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2024-10-31 18:54:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 18:54:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 18:54:24 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2024-10-31 18:54:25 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2024-10-31 18:54:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 18:54:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 18:54:25 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2024-10-31 18:54:25 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2024-10-31 18:54:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 18:54:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 18:54:25 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2024-10-31 18:54:25 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2024-10-31 18:54:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 18:54:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 18:54:25 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2024-10-31 18:54:25 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2024-10-31 18:54:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 18:54:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 18:54:25 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2024-10-31 18:54:25 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2024-10-31 18:54:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 18:54:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 18:54:25 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2024-10-31 18:54:25 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2024-10-31 18:54:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 18:54:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 18:54:25 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:26 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2024-10-31 18:54:26 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:26 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2024-10-31 18:54:26 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 18:54:26 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 18:54:26 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:26 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2024-10-31 18:54:26 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:26 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2024-10-31 18:54:26 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 18:54:26 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 18:54:26 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2024-10-31 18:54:26 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2024-10-31 18:54:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 18:54:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 18:54:26 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2024-10-31 18:54:26 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2024-10-31 18:54:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 18:54:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 18:54:26 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2024-10-31 18:54:32 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2024-10-31 18:54:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2024-10-31 18:54:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2024-10-31 18:54:32 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-10-31 18:54:37 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:54:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-10-31 18:54:39 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-10-31 18:54:39 [http-nio-8080-exec-4] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 18:54:39 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-10-31 18:54:39 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 3A212866959333CF9EFDE8495EAB99E4
2024-10-31 18:54:39 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@f04701a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3A212866959333CF9EFDE8495EAB99E4], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@71f7d66c]
2024-10-31 18:54:39 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@f04701a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3A212866959333CF9EFDE8495EAB99E4], Granted Authorities=[ROLE_ADMIN]]
2024-10-31 18:54:39 [http-nio-8080-exec-4] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-10-31 18:54:39 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-10-31 18:54:39 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-10-31 18:54:39 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@f04701a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3A212866959333CF9EFDE8495EAB99E4], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 0
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 200000.0
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Завершен]
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Завершен]: 0
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Отказ]
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Отказ]: 0
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя work@gmail.com: 0.0
2024-10-31 18:54:39 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя work@gmail.com: 0.0
2024-10-31 18:54:39 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-10-31 18:54:39 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-10-31 18:54:39 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-10-31 18:54:39 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-10-31 18:54:39 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-10-31 18:54:39 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-10-31 18:54:39 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-10-31 18:54:39 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-10-31 18:54:39 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@f04701a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3A212866959333CF9EFDE8495EAB99E4], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:54:39 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@f04701a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3A212866959333CF9EFDE8495EAB99E4], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:54:39 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@f04701a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3A212866959333CF9EFDE8495EAB99E4], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:54:39 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@f04701a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3A212866959333CF9EFDE8495EAB99E4], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:54:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /user-settings
2024-10-31 18:54:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /user-settings
2024-10-31 18:54:42 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@f04701a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3A212866959333CF9EFDE8495EAB99E4], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:54:43 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics?
2024-10-31 18:54:43 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics?
2024-10-31 18:54:43 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@f04701a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3A212866959333CF9EFDE8495EAB99E4], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 0
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 200000.0
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Завершен]
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Завершен]: 0
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Отказ]
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Отказ]: 0
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя work@gmail.com: 0.0
2024-10-31 18:54:43 [http-nio-8080-exec-1] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя work@gmail.com: 0.0
2024-10-31 18:54:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-10-31 18:54:43 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-10-31 18:54:43 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-10-31 18:54:43 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-10-31 18:54:43 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-10-31 18:54:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-10-31 18:54:43 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-10-31 18:54:43 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-10-31 18:54:43 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@f04701a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3A212866959333CF9EFDE8495EAB99E4], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:54:43 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@f04701a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3A212866959333CF9EFDE8495EAB99E4], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:54:43 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@f04701a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3A212866959333CF9EFDE8495EAB99E4], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:54:43 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@f04701a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3A212866959333CF9EFDE8495EAB99E4], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:54:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /user-settings
2024-10-31 18:54:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /user-settings
2024-10-31 18:54:57 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@f04701a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3A212866959333CF9EFDE8495EAB99E4], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:55:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics?
2024-10-31 18:55:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics?
2024-10-31 18:55:03 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@f04701a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3A212866959333CF9EFDE8495EAB99E4], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 0
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 200000.0
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Завершен]
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Завершен]: 0
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Отказ]
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Отказ]: 0
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя work@gmail.com: 0.0
2024-10-31 18:55:03 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя work@gmail.com: 0.0
2024-10-31 18:55:03 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-10-31 18:55:03 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-10-31 18:55:03 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@f04701a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3A212866959333CF9EFDE8495EAB99E4], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:55:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-10-31 18:55:03 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-10-31 18:55:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-10-31 18:55:03 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-10-31 18:55:03 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-10-31 18:55:03 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-10-31 18:55:03 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@f04701a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3A212866959333CF9EFDE8495EAB99E4], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:55:03 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@f04701a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3A212866959333CF9EFDE8495EAB99E4], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:55:03 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@f04701a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3A212866959333CF9EFDE8495EAB99E4], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:58:19 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 18:58:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-31 18:58:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-31 18:58:20 [main] INFO  c.e.f.FenikaCrm10Application - Starting FenikaCrm10Application using Java 21.0.3 with PID 64777 (/Users/jojomac/Desktop/progProjects/fenikaCRM1-0/target/classes started by jojomac in /Users/jojomac/Desktop/progProjects/fenikaCRM1-0)
2024-10-31 18:58:20 [main] INFO  c.e.f.FenikaCrm10Application - No active profile set, falling back to 1 default profile: "default"
2024-10-31 18:58:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-31 18:58:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2024-10-31 18:58:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-31 18:58:21 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-31 18:58:21 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2024-10-31 18:58:21 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-31 18:58:21 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 639 ms
2024-10-31 18:58:21 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-31 18:58:21 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2024-10-31 18:58:21 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-31 18:58:21 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-31 18:58:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-31 18:58:21 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@d16209e
2024-10-31 18:58:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-31 18:58:21 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-31 18:58:22 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-31 18:58:22 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@a11efe6] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2024-10-31 18:58:22 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-31 18:58:22 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-31 18:58:22 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()
2024-10-31 18:58:22 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-10-31 18:58:22 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)
2024-10-31 18:58:22 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.example.fenikaCRM10.controllers.UserController; public java.lang.String com.example.fenikaCRM10.controllers.UserController.createUser(com.example.fenikaCRM10.models.User,org.springframework.ui.Model)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-10-31 18:58:22 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-31 18:58:23 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6fefa622, org.springframework.security.web.session.ForceEagerSessionCreationFilter@12550aaf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@784bb800, org.springframework.security.web.context.SecurityContextHolderFilter@6a478680, org.springframework.security.web.header.HeaderWriterFilter@4f5f4f7a, org.springframework.web.filter.CorsFilter@2c27d6e5, org.springframework.security.web.authentication.logout.LogoutFilter@2d6b53a3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@793dbe67, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52599443, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1c510181, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3eebbbf5, org.springframework.security.web.session.SessionManagementFilter@68955382, org.springframework.security.web.access.ExceptionTranslationFilter@4cd0b8cf, org.springframework.security.web.access.intercept.AuthorizationFilter@694adaac]
2024-10-31 18:58:23 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2024-10-31 18:58:23 [main] INFO  c.e.f.FenikaCrm10Application - Started FenikaCrm10Application in 2.901 seconds (process running for 3.198)
2024-10-31 18:58:24 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31 18:58:24 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-31 18:58:24 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-31 18:58:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics?
2024-10-31 18:58:24 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2024-10-31 18:58:24 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:58:24 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B7A6D4E1018058AEB40ABF4E5EA74170
2024-10-31 18:58:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics?
2024-10-31 18:58:24 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class com.example.fenikaCRM10.services.CustomUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.example.fenikaCRM10.services.CustomUserDetails is in unnamed module of loader 'app')
	at com.example.fenikaCRM10.controllers.UserStatisticsController.getUserStatistics(UserStatisticsController.java:30)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:262)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-31 18:58:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?
2024-10-31 18:58:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?
2024-10-31 18:58:24 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:58:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /user-settings
2024-10-31 18:58:26 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:58:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /user-settings
2024-10-31 18:58:33 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2024-10-31 18:58:33 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-31 18:58:33 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2024-10-31 18:58:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2024-10-31 18:58:35 [http-nio-8080-exec-4] INFO  c.e.f.s.CustomUserDetailsService - User found: panamo.work@gmail.com
2024-10-31 18:58:35 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-10-31 18:58:35 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from E529EFC33327325D856C52B081C5CBF6
2024-10-31 18:58:35 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@512421fb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E529EFC33327325D856C52B081C5CBF6], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@1f11489b]
2024-10-31 18:58:35 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@512421fb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E529EFC33327325D856C52B081C5CBF6], Granted Authorities=[ROLE_ADMIN]]
2024-10-31 18:58:35 [http-nio-8080-exec-4] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /statistics
2024-10-31 18:58:35 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-10-31 18:58:35 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-10-31 18:58:35 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@512421fb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E529EFC33327325D856C52B081C5CBF6], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 0
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 200000.0
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Завершен]
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Завершен]: 0
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Отказ]
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Отказ]: 0
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя work@gmail.com: 0.0
2024-10-31 18:58:35 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя work@gmail.com: 0.0
2024-10-31 18:58:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-10-31 18:58:35 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-10-31 18:58:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-10-31 18:58:35 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-10-31 18:58:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-10-31 18:58:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-10-31 18:58:35 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-10-31 18:58:35 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-10-31 18:58:35 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@512421fb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E529EFC33327325D856C52B081C5CBF6], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:58:35 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@512421fb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E529EFC33327325D856C52B081C5CBF6], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:58:35 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@512421fb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E529EFC33327325D856C52B081C5CBF6], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:58:35 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@512421fb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E529EFC33327325D856C52B081C5CBF6], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:59:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /deals
2024-10-31 18:59:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /deals
2024-10-31 18:59:57 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@512421fb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E529EFC33327325D856C52B081C5CBF6], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 18:59:57 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Полученные платежи для сделки 1: [Payments(paymentId=1, dealId=1, commentPayments=defef, currentDate=2024-10-31, statusPayments=Поступление, sum=500000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=1, name=efdfdf, numberPhone=9909090, whatNeed=dfdfd, deliveryAdress=dfdfdf, author=Георгий Панус, email=null, user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0)), Payments(paymentId=2, dealId=1, commentPayments=dfdfdf, currentDate=2024-10-31, statusPayments=Расход, sum=100000.0, earnedMoney=null, moneyOfManager=null, deal=Deal(dealId=1, name=efdfdf, numberPhone=9909090, whatNeed=dfdfd, deliveryAdress=dfdfdf, author=Георгий Панус, email=null, user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0), companyProfit=0.0, status=null, lastStatus=null, creationDate=null), user=User(userId=8, email=panamo.work@gmail.com, phoneNumber=89811419791, name=Георгий Панус, active=true, password=$2a$10$.0LB5aA/0xZr0hUjOXAzd.s2pmcEC0BnZPMQx5Iaqb/KJdjw.ISPC, roles=[ROLE_ADMIN], dateOfCreated=2024-10-31T17:54:37.776617, deals=[], percentage=50.0))]
2024-10-31 18:59:57 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Поступление, Сумма: 500000.0
2024-10-31 18:59:57 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Обработка платежа: Статус: Расход, Сумма: 100000.0
2024-10-31 18:59:57 [http-nio-8080-exec-4] INFO  c.e.f.services.PaymentsService - Итоговая прибыль компании для сделки 1: 400000.0
2024-10-31 19:00:01 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-10-31 19:00:01 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-10-31 19:00:01 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@512421fb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E529EFC33327325D856C52B081C5CBF6], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 0
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 200000.0
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Завершен]
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Завершен]: 0
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Отказ]
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Отказ]: 0
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя work@gmail.com: 0.0
2024-10-31 19:00:01 [http-nio-8080-exec-5] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя work@gmail.com: 0.0
2024-10-31 19:00:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /registration
2024-10-31 19:00:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /registration
2024-10-31 19:00:04 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@512421fb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E529EFC33327325D856C52B081C5CBF6], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 19:00:04 [http-nio-8080-exec-6] DEBUG o.s.s.a.i.a.MethodSecurityInterceptor - Authorized ReflectiveMethodInvocation: public java.lang.String com.example.fenikaCRM10.controllers.UserController.registration(); target is of class [com.example.fenikaCRM10.controllers.UserController] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-10-31 19:00:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics
2024-10-31 19:00:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics
2024-10-31 19:00:06 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@512421fb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E529EFC33327325D856C52B081C5CBF6], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 0
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 200000.0
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Завершен]
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Завершен]: 0
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Отказ]
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Отказ]: 0
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя work@gmail.com: 0.0
2024-10-31 19:00:07 [http-nio-8080-exec-9] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя work@gmail.com: 0.0
2024-10-31 19:00:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /user-settings
2024-10-31 19:00:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /user-settings
2024-10-31 19:00:08 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@512421fb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E529EFC33327325D856C52B081C5CBF6], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 19:00:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /update-percentage
2024-10-31 19:00:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /update-percentage
2024-10-31 19:00:19 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@512421fb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E529EFC33327325D856C52B081C5CBF6], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 19:00:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /user-settings
2024-10-31 19:00:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /user-settings
2024-10-31 19:00:19 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@512421fb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E529EFC33327325D856C52B081C5CBF6], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 19:00:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /statistics?
2024-10-31 19:00:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /statistics?
2024-10-31 19:00:22 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@512421fb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E529EFC33327325D856C52B081C5CBF6], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Завершен]
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Завершен]: 0
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 1
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь panamo.work@gmail.com и статусы [Отказ]
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя panamo.work@gmail.com и статусов [Отказ]: 0
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 500000.0
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 100000.0
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя panamo.work@gmail.com: 400000.0
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя panamo.work@gmail.com: 200000.0
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Завершен]
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Завершен]: 0
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь work@gmail.com и статусы [Отказ]
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя work@gmail.com и статусов [Отказ]: 0
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя work@gmail.com: 0.0
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя work@gmail.com: 0.0
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Завершен]
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Завершен]: 0
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [В работе, Оплачен, Новая заявка]
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [В работе, Оплачен, Новая заявка]: 0
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Входные параметры: пользователь stroy.live@mail.ru и статусы [Отказ]
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.fenikaCRM10.services.DealService - Количество сделок для пользователя stroy.live@mail.ru и статусов [Отказ]: 0
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма поступлений: 0.0
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Общая сумма расходов: 0.0
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Прибыль компании для пользователя stroy.live@mail.ru: 0.0
2024-10-31 19:00:23 [http-nio-8080-exec-2] INFO  c.e.f.services.PaymentsService - Прибыль менеджера для пользователя stroy.live@mail.ru: 0.0
2024-10-31 19:00:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/Vector.svg
2024-10-31 19:00:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/exit.svg
2024-10-31 19:00:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/Vector.svg
2024-10-31 19:00:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/exit.svg
2024-10-31 19:00:23 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/reg.svg
2024-10-31 19:00:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /icons/sett.svg
2024-10-31 19:00:23 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/reg.svg
2024-10-31 19:00:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /icons/sett.svg
2024-10-31 19:00:23 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@512421fb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E529EFC33327325D856C52B081C5CBF6], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 19:00:23 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@512421fb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E529EFC33327325D856C52B081C5CBF6], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 19:00:23 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@512421fb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E529EFC33327325D856C52B081C5CBF6], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 19:00:23 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.fenikaCRM10.services.CustomUserDetails@512421fb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E529EFC33327325D856C52B081C5CBF6], Granted Authorities=[ROLE_ADMIN]]]
2024-10-31 19:23:51 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m29s910ms).
2024-10-31 19:27:19 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m57s879ms).
